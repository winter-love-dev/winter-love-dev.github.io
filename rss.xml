<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[winter-love.dev RSS Feed]]></title><description><![CDATA[Winter's Archive / Blog]]></description><link>https://www.winter-love.dev</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 16 Feb 2026 09:32:38 GMT</lastBuildDate><item><title><![CDATA[가벼운 잡담과 짧은 글을 부담없이 써보려고 인사이트 페이지를 만들었다]]></title><description><![CDATA[나는 5년차 안드로이드 개발자. 이 블로그에서 온갖 잡담부터 간단하게나마 개발 인사이트를 적을 용도로 Insights…]]></description><link>https://www.winter-love.dev/2025.11.09-initial/</link><guid isPermaLink="false">https://www.winter-love.dev/2025.11.09-initial/</guid><pubDate>Sun, 09 Nov 2025 01:10:00 GMT</pubDate><content:encoded>&lt;p&gt;나는 5년차 안드로이드 개발자. 이 블로그에서 온갖 잡담부터 간단하게나마 개발 인사이트를 적을 용도로 Insights 페이지를 만들었다.&lt;/p&gt;
&lt;p&gt;아티클 작성은 뭔가 뭔가 헤비하다. 잘못된 정보를 전달하지 않기 위해 여러 공식문서와 자료를 돌아다니면서 사실 파악을 할 필요가 있었다.
아티클은 글 하나에 들어가는 정성이 적지 않아서 마음의 장벽이 생긴듯 함.&lt;/p&gt;
&lt;p&gt;성실하게는 아니라도 한두 달에 아티클 하나정돈 발행하기.
나름 올해의 포부로 시작했으나 (관련 글: &lt;a href=&quot;https://winter-love.dev/life/2024-review/&quot;&gt;2024 회고. 내 동년배 개발자들 다 블로그 운영한다.&lt;/a&gt;)
스스로 쌓은 마음의 장벽이 너무 높아졌던 탓일까. 벌써 6개월 넘게 방치 해버렸다.&lt;/p&gt;
&lt;p&gt;뭐 아티클은 내 마음속에서 정한 현재의 정성스러운 컨셉? 을 그대로 두고, 블로그 컨텐츠 작성의 접근성을 아예 낮추기 위해 만든 페이지가 이 인사이트인 것.&lt;/p&gt;
&lt;p&gt;이곳은 단 1줄 간단히 적어도 되는 공간이다. 그렇게 정했다. 글이 좀 길어질 땐 아티클에서 적으면 되는거고.&lt;/p&gt;
&lt;p&gt;아티클보다는 좀 더 자주, 짧은 잡담이나 개발 인사이트 글을 남겨보겠다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42q1Sv0sCYRj+tsZoCxpbgqZaghqKoDEwKhqChhqjof6AiKZoCVokIRBs6AyDQtM8DrvME0wwNVEiNcUI6jD1JA/ux5N3nIdGQ1QvPHwv3/vreV5egn828psiVVWaUA1f/WNDo0GtUsH72+v3DCVJgizLHdAmK6pZ38Emcs1gY3Ea86ODcNltHTHyc2IGs2oVa3NTuDnex+PVCdZnJ1B8ypurIPV6HX6/H8lkEuFwGPF4HLHYHYRaFS8NFeWGpCcriqK/3lMKm8sWZEPneL71Ymd1AS7HoR7TlBFRFMFxHEKhEILBIHw+HwKBgN5QaJL6kFUzWTO38whLk0Og7XvgnFZsrVhwsLtt5EgggiCAoigwDAOWZRGNRhGJREDTNLweN7wXHpRKJVN6pcxjZmwYI309GO/vxUB3Fx7u46YKok1OJBJIpVK67EKhgEwmg3Q6jWw2p6+A53lzj1pRMZ8DS/vhsFlxeeaCKDbMOPmPY26/RdKi2kKLRbv/9Xi1P1k7NQPtDT8B3gYv9fLCJrIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/52419a7788f7a40ceefa2baf4aa5624c/37523/cover.png&quot;
        srcset=&quot;/static/52419a7788f7a40ceefa2baf4aa5624c/e9ff0/cover.png 180w,
/static/52419a7788f7a40ceefa2baf4aa5624c/f21e7/cover.png 360w,
/static/52419a7788f7a40ceefa2baf4aa5624c/37523/cover.png 720w,
/static/52419a7788f7a40ceefa2baf4aa5624c/302a4/cover.png 1080w,
/static/52419a7788f7a40ceefa2baf4aa5624c/c1b63/cover.png 1200w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[안드로이드 디자인 시스템 모듈 구성 방법과 소스코드 설계 방향성 고민과 각종 잡다한 이야기]]></title><description><![CDATA[어떤 외국인이 설계 해놓은 디자인 시스템을 구매했다. 원화로 5만 4천 원 정도 되었다.  앱모듈을 별도로 구성해서 디자인 시스템 구현 작업을 하고있고
이것은 android…]]></description><link>https://www.winter-love.dev/2025.11.10-think-about-design-system/</link><guid isPermaLink="false">https://www.winter-love.dev/2025.11.10-think-about-design-system/</guid><pubDate>Mon, 10 Nov 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;어떤 외국인이 설계 해놓은 디자인 시스템을 구매했다. 원화로 5만 4천 원 정도 되었다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;:sample:design-system-catalog&lt;/code&gt; 앱모듈을 별도로 구성해서 디자인 시스템 구현 작업을 하고있고
이것은 android 종속성의 공통 구현체란 의미로 &lt;code class=&quot;language-text&quot;&gt;:core-android:design-system&lt;/code&gt; 이라는 모듈로 분류했다.&lt;/p&gt;
&lt;p&gt;외국인의 설계를 참고해서 내 앱에 파운데이션 토큰들부터 하나 하나 정의했고, 이를 기반한 앱의 기초적인 Theme 을 구성했다.
(참고로 Theme 을 읽을땐 “테마” 라고 하지 않고 “띄~임”으로 읽어야 한다는 사실)
이어서 파운데이션 토큰을 기반한 간단한 컴포넌트를 하나씩 구현해보고 있다.
간단한 컴포넌트 하나도 내 기준으로 약간 부담될 정도로 많은 경우의 수에 대응되게 설계 되어있다.&lt;/p&gt;
&lt;p&gt;당장 필요하지 않은데 여러 경우의 수를 다 고려하면서 만든다는 행위가 어찌보면 이상할 수 있는데,
현업에서 다루는 디자인 시스템은 상황별로 필요한 만큼 스펙이 아주 조금씩 업데이트 되고있고 그것을 필요한 사람이 돌아가면서
조금씩 업데이트, 커스텀 하다보니 누구도 제로부터 완결까지 경험할 수 있는 기회는 흔치 않았다.
이것만 집중적으로 다루는 팀이 있다면 좋았겠지만 어쩌겠는가 회사마다 각자의 사정, 상황에 맞춰서 운영할 수밖에.
개인적으로 이런 경험 부족의 갈증을 해소하면서 설계 인사이트를 넓히고 싶었고
앞으로 나의 여러가지 개인 프로젝트를 일관성 있게 잘 만들고 싶다는 목표의 초석이기도 하다.&lt;/p&gt;
&lt;p&gt;다시 “약간 부담될 정도로 많은 경우의 수에 대응되게 설계 되어있다” 의 이야기 시점으로 돌아와서.
제일 간단한 편인 버튼 컴포넌트의 일부 구성을 확인해보면
Default(정지상태), Active(누름상태), Disabled(비활성 상태) 와 같은 상태별 인터렉션이 정의되어 있고.
버튼 내부 곳곳에 텍스트와 Icon resource 가 위치할 수 있는 Slot 공간과 Size 가 정의되어 있다.
몇 가지 스펙은 언급하지 않았지만 지금까지 정의된 버튼의 스펙을 동일하게 공유하고
상황별로 다르게 쓰이는 다양 타입 색상의 버튼들이 정의되어 있다. (Primary, Secondary ~ + N 개).&lt;/p&gt;
&lt;p&gt;당연한 얘기지만 디자인이 아무리 구체적으로 잘 설계 되었다 한들 소스코드와 1대1로 매칭되는 것은 쉽지 않은 일인데
처음엔 나름 1대1로 맞춰추는 상상을 했다. (토큰) → (버튼 스펙) + (구현체) 이렇게 세 번 정도의 계층 공정으로 충분히 완성이요 ~
라고 상상했으나 역시나 디자인 시스템의 경험 부족 초보다운 생각이었다.&lt;/p&gt;
&lt;p&gt;현실을 인지하고 하나의 컴포넌트를 완성하기 위해 소스코드 레벨에서
일련의 제작 공정들과 필요한 요소들을 설계했고, 과정중에 부수적인 결과물도 나왔다.
예를 들어 버튼 외에 다른 컴포넌트에서도 공통으로 쓸 수 있는 구현체가 &lt;code class=&quot;language-text&quot;&gt;/interaction&lt;/code&gt; 이라는 공통 분류로 빠지기도 했다.
개인적으로 코드간 얽힘을 싫어해서 공통화는 최대한 신중히 결정하려는 편이라 추후에 이 결정을 철회하게 될지도 모르겠다.&lt;/p&gt;
&lt;p&gt;어쨋든 버튼 컴포넌트를 완성하기 위한 최종 공정은
(&lt;code class=&quot;language-text&quot;&gt;토큰&lt;/code&gt;) → (&lt;code class=&quot;language-text&quot;&gt;interaction&lt;/code&gt; - Press / Scale 공통 구현체) → (&lt;code class=&quot;language-text&quot;&gt;Button spec&lt;/code&gt; - Icon / Shape / State / Type 전용 구현체) → (&lt;code class=&quot;language-text&quot;&gt;버튼&lt;/code&gt; 구현체) 와 같이
계층적으로 설계가 완성 되었는데 적고보니 지극히 당연하고 기초적인 구성 요소들 아니겠는가.
초보는 오늘도 &lt;a href=&quot;https://news.hada.io/topic?id=21111&quot;&gt;바퀴를 재발명 하면서 (출처)&lt;/a&gt; 깨닫는다.&lt;/p&gt;
&lt;p&gt;제일 간단한 버튼 하나를 구현한 것 뿐이지만 혼자 제로부터 완결까지 낸 경험이 만족스러웠다.
디자인과 인터렉션을 스펙에 정의된대로 100% 핸들링 할거라 Material Button 컴포넌트를 사용하지 않았다.
Button 의 모든 요소들이 필요하지 않을것 같아서 대부분 Modifier 로 완성했다.&lt;/p&gt;
&lt;p&gt;이 기초적인 디자인 시스템 설계 감각을 계속 키워서
훨씬 복잡한 컴포넌트들도 잘 만들자고 생각하던 찰나에 새로운 고민이 시작 되었으니 …&lt;/p&gt;
&lt;p&gt;파운데이션 토큰을 기반으로 구성된 Theme 과 버튼 구현만 해도 작업량은 17개의 파일과 소스코드 2000 라인을 넘으며 양이 상당했다.
아직 기초 작업밖에 안했는데 이정도면 순식간에 혼자서 N 만 라인이 넘는 소스코드를 관리하게 될 미래가 보였다.
소스량 자체가 두려운것도 있고, 무엇보다 이 많은 구현체를 어떻게 잘 정돈하고 통제할 수 있을지? 이런 관점에서의 걱정이었다.&lt;/p&gt;
&lt;p&gt;디자인 시스템에 명시되지 않았지만 구현상 필요하게 된 &lt;code class=&quot;language-text&quot;&gt;/interaction&lt;/code&gt; 이라는 소스코드 레벨의 공통 설계 분류가 추가 되었고,
앞으로 &lt;code class=&quot;language-text&quot;&gt;/shape&lt;/code&gt; 이나 &lt;code class=&quot;language-text&quot;&gt;/state&lt;/code&gt; 등 소스코드 레벨에서 어떤 새로운 공통 분류가 생겨날지 알 수 없는 상황이다.
내 성향상 웬만하면 이렇게까지 공통화 하지 않겠지만 미래엔 효율이라는 명목으로
나조차도 내가 어떤 선택 할지도 확신할 수 없다는거지.&lt;/p&gt;
&lt;p&gt;디자인 시스템엔 명시되지 않은
소스코드 레벨의 설계들이 추가됨에 따라 디자인 시스템 모듈이 비대해지고 오염되어,
최초에 순수하게 디자인 스펙과 설계를 담고있던 &lt;strong&gt;디자인 시스템&lt;/strong&gt; 의 정체성이 흐릿해질것 같았다.&lt;/p&gt;
&lt;p&gt;디자인 시스템 스펙과 소스코드 레벨의 구현체가 비대하게 섞이게 되면 언젠가
“그래서 이중에 디자인 시스템 스펙이 뭔데?” 라는 의문이 생길수 있다.
즉 &lt;strong&gt;디자인 시스템이었던 것&lt;/strong&gt; 이라는 최초의 맥락을 잃고 UI 라는 명목으로 온갖 View 관련 구현체가 뭉치는 구현 집합체가 될 것 같았다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;:design-system&lt;/code&gt; 모듈은 디자인 시스템에 문서에 명시된 &lt;code class=&quot;language-text&quot;&gt;파운데이션 토큰&lt;/code&gt;을 그대로 담고있는
디자인 시스템의 가장 코어하고 순수한 맥락이라는 정체성을 계속 지키고 싶었다.
그래서 모듈을 &lt;code class=&quot;language-text&quot;&gt;ui-component&lt;/code&gt; 하나 더 만들어서 &lt;code class=&quot;language-text&quot;&gt;:design-system&lt;/code&gt; 모듈의 순수한 맥락을 지켜보려는 시도를 하는중이다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;:design-system&lt;/code&gt; 은 오직 &lt;code class=&quot;language-text&quot;&gt;ui-component&lt;/code&gt; 가 의존할 수 있게 설정해서, internal 하게 숨겨진 위치에 뒀다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ui-component&lt;/code&gt; 모듈은 &lt;code class=&quot;language-text&quot;&gt;:design-system&lt;/code&gt; 이라는 맥락을 기반으로 만들어졌고
제작 과정중 소스코드 레벨에서 필요한 온갖 설계가 채워져도
맥락을 잃게 된다는 문제로부터 안전해질거라 생각했다.&lt;/p&gt;
&lt;p&gt;하지만 여전히 지금의 선택에 100% 만족한건 아니다. 괜히 과하게 분리하는건 아닐지? 약간의 의문도 함께 맴돌고 있다.
지금의 선택이 정답인지는 모르겠지만, 구현 과정에서 더 나은 설계로 조금씩 진화할게 될거라고 믿고 처음부터 욕심 부리지 말아야지.&lt;/p&gt;
&lt;p&gt;어쨋든 지금의 설계 선택을 기반으로 당장은 디자인 시스템 해피 코딩을 즐길 생각이다.
한 달 뒤에 이 설계를 보고 “이게 뭐야” 할 수도 있지만.
이게 다 프로덕과 나의 인사이트 성장의 과정 아니겠는가.&lt;/p&gt;
&lt;p&gt;이번 경험을 통해서도 그렇고 종종 느끼는 거지만
처음부터 완벽한 설계란 불가능함에도 늘 그것을 달성하고 싶다는 욕심을 부리게 된다.
개발자는 여러가지 환상을 꿈꾸며 사는것 같다.
예를 들어 잘 설계된 코드로 우리의 작업을 “딸깍” 하여 종결하고 싶다는 환상.
혹은 이번 사례처럼 처음부터 완벽한 설계를 완성하고 싶다는 환상.&lt;/p&gt;
&lt;p&gt;지금 이 순간의 고민과 선택들이 쌓여서 언젠가는
“그때 그렇게 고민했던게 도움이 됐구나” 끄덕끄덕 되돌아볼 수 있는 날이 오길.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 542px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 83.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACNElEQVR42oVSa2/SYBTur9ZMRbMFNTNq9IMsBl00fFjURTcTP7lJuGwIbsMpy7IBhVLKpZRSKNfeHt+3gC3FymmevKfnfc7T03MOAz8zCQzPaf7j3WOMN2DNzkKXQ0r+ibR8biPT+WVj7tO7fLfsJPgLThkpKYvX3AdsF3fxlvuEbXYXkeo+3nAfEeH3EC69R6yetgWt/wnOTR4qEPpNNAYiBLWxgMagZd+1B8rqX16q2CI1G06zTOLTmJ/5CppUiEDTNeKbdivoQ30as2b3S4KmRZOnAqanH5puQDcMzDm2CInrBhXVXR93sFyhSYiWAanZwLDf8/21yXgMSWzM+E5LmOuWii+sgsjvJl6e1fHitI5QVsRmgsXzNI/wmYCdiyYOywoZwhiiOsLnQgdbP3g8iF4hdC5h67SGSE7ESa0HJlZqI5RTcP+ogkCUxc2DPG4cFBFIClg7LOD21ytspqp4dSGDk3ooSiqeZSXcjRZx6xtBjMMayQmmBOzlO2DsnpGSdW0CdaxBGWmQ+iO0SCXUH5KYSYbg7q5F+joYT8hqTeyqu4Sna1POdCjeNpqmjcWpz4Zin36b4RrKnEiT6GQp/ASsBT4WOIx3VeYVunfMcomsMsah468IX+UhtlpO6S7OSsEkJyOck/HoexXrSR73EhXciXMIxCtYP65hI17G04yAyKUMumJYIc2cCAreXSsIZXg8PuYQjBUQjLPYiBbwMFHCkyPW3sX9YhfltuoU7SP4B2owDnHt0g6BAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/c00caa8666a36258c6f29c7f7f45d423/c0388/cover.png&quot;
        srcset=&quot;/static/c00caa8666a36258c6f29c7f7f45d423/e9ff0/cover.png 180w,
/static/c00caa8666a36258c6f29c7f7f45d423/f21e7/cover.png 360w,
/static/c00caa8666a36258c6f29c7f7f45d423/c0388/cover.png 542w&quot;
        sizes=&quot;(max-width: 542px) 100vw, 542px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[구글페이가 안 되는 나라에서 구글페이 구현작업 하는 안드로이드 개발자의 잡다한 인사이트]]></title><description><![CDATA[…]]></description><link>https://www.winter-love.dev/2025.11.11-working-on-google-pay-in-korea/</link><guid isPermaLink="false">https://www.winter-love.dev/2025.11.11-working-on-google-pay-in-korea/</guid><pubDate>Tue, 11 Nov 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;시련이 찾아왔다. 한국은 구글페이를 지원하지 않는데 구글페이 구현 작업을 해야된다니.
한국에서 외국 서비스를 개발하다 겪게되는 시나리오 중 하나가 아닐까 싶다.&lt;/p&gt;
&lt;p&gt;나와 비슷한 처지의 누군가가 있다면 조금이라도 참고가 될 수 있길.&lt;/p&gt;
&lt;p&gt;외국 결제 중개 서비스 Stripe 를 사용하고 있다.
이곳 Android SDK 에 구글페이를 호출하는 구현이 다 wrapping 되어있기 때문에
나는 그냥 구글월렛 콘솔에서 사업체 등록과 구글페이 관련 몇가지 연동 작업 +
구글 측의 간단한 심사 과정만 통과하면 테스트 레벨부터 프로덕 레벨까지 구글페이를 실행할 수 있게 된다.&lt;/p&gt;
&lt;p&gt;이후 앱에서 잘 호출되는 구글페이를 기획 요구사항에 맞게 피처 연계만 뚝딱 하면 된다.
앱에서 구글페이를 잘 호출 되기까지 설정하는 과정이 회사원으로서는 조금 힘들었지만 소소한 시련이었던 것 같고,
평범한 한국인 개인으로선 불가능에 가까울만큼 큰 장벽일듯 하다. 나는 전자의 케이스다.
치열했던 과거 2분기로 되돌아가서 어떤 과정들이 있었나 떠올려보자.&lt;/p&gt;
&lt;p&gt;관련 문서들을 살펴봤다.
먼저 살펴본 &lt;a href=&quot;https://docs.stripe.com/google-pay?platform=android&quot;&gt;Stripe 측 가이드 문서 (Learn how to accept payments using Google Pay)&lt;/a&gt; 를 읽다보면 나를 냅다
&lt;a href=&quot;https://developers.google.com/pay/api/android/guides/setup&quot;&gt;구글페이 관련 공식 설명문서 (Set up Google Pay API)&lt;/a&gt; 로 리다이렉팅 시킨다.
여기서 우리 프로젝트에 해줘야 할 첫 번 째 기초적인 설정들에 대해 알 수 있게 된다.
문서 가이드대로 프로젝트쪽 설정을 해주자.&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://pay.google.com/business/console/&quot;&gt;구글 월렛 콜솔 (Wallet console)&lt;/a&gt; 이라는 관리 콘솔의 존재를 인지하게 된다.
월렛 콘솔에 처음 접속하면 사업체 등록을 해야되는데 이건 내가 해야될 영역이 아니기 때문에 다른 부서 관계자에게 등록을 부탁드렸다.
이후 관리 멤버로 초대 받아야 콘솔에 접속할 수 있게 되고 여기부터는 내가 Google Pay API 관련 설정들을 딸깍 딸깍 조작해주면 된다.&lt;/p&gt;
&lt;p&gt;월렛 콘솔에서 우리가 출시한 앱 목록들이 표시되는데
프로덕 레벨에서 구글페이를 사용하려면 앱마다 간단한 심사 과정을 거쳐줘야 한다.
일단 이 시점엔 구글페이가 앱과 피처 연동 작업이 다 되어 있어야 심사를 진행할 수 있다.
구글페이가 우리 서비스에서 어떤 유즈케이스로 작동하는지 캡쳐 이미지를 제출 해야되기 때문이다.&lt;/p&gt;
&lt;p&gt;1️⃣ 사용자가 항목이나 서비스를 탐색할 때,
2️⃣ 사용자가 최종적으로 구매할 준비가 되었을 때,
3️⃣ 사용자가 결제 방법으로 Google Pay를 선택하는 경우,
4️⃣ 이후 실제로 구글페이가 실행되는 장면,
5️⃣ 결제 결과 장면… 심사 화면에 다섯 가지 사진을 첨부해야 하는데
4번은 온갖 방법의 스크린 캡처를 다 막아놨기 때문에 다른 카메라로 직접 찍어줘야 한다.
심사를 제출하기 위한 몇 가지 프로세스를 다 통과하면 몇 시간 ~ 하루만에 구글페이 사용 승인이 완료된다.&lt;/p&gt;
&lt;p&gt;참고로 프로덕 레벨에서의 구글페이는 release용 signing key 로 빌드된 앱에서만 실행 된다는 사실.
현금 결제 테스트를 앞둔 코리안은 “왜 구글페이가 실행이 안되지?” 의 삽질과 고민의 타임을 한 뎁스 줄이길 바란다.&lt;/p&gt;
&lt;p&gt;여기까지가 구글페이를 사용하기 위한 전체적인 큰 흐름에 대한 이야기다.
Stripe 같은 결제 중개 회사 이용 여부 상관없이 본인이 안드로이드 팀이라면 필수로 해줘야 하는 설정들이다.
이제 테스트 레벨에서 해야될 일들을 얘기 하자면 일단 준비물은
1️⃣ &lt;strong&gt;구글페이를 지원하는 국가의 계정&lt;/strong&gt;,
2️⃣ &lt;strong&gt;구글페이를 지원하는 국가의 신용카드&lt;/strong&gt; 🚨,
3️⃣ &lt;strong&gt;휴대폰 실기기에 구글 월렛 앱 설치하기&lt;/strong&gt;
4️⃣ &lt;strong&gt;VPN 앱&lt;/strong&gt;.
작업자가 각자 처한 환경에 따라 큰 시련일수도 있는 그런 준비물들이다.&lt;/p&gt;
&lt;p&gt;일단 계정 만드는것 부터가 문제다.
해당 국가의 휴대폰으로 본인인증을 요구하기 때문에 테스트용 더미 계정을 쉽게 생성할 수 있는 구조가 아니다.
인증을 통과하고 계정을 만들면 휴대폰에 &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.google.android.apps.walletnfcrel&quot;&gt;구글 월렛 앱을 설치 (PlayStore)&lt;/a&gt;할 수 있게 된다.
한국 계정으로는 다운로드가 아예 막혀있다. PlayStore 링크를 알아도 할 수 있는게 없음.
외국 계정으로 플레이스토어에 접근해도 일단은 다운로드 버튼이 활성화 되지 않는다.
이 때 VPN 앱으로 휴대폰의 네트워크를 구글페이가 지원되는 국가로 변경해줘야 한다.
몇 번 시도하다 보면 구글 월렛 앱 다운로드 버튼이 활성화 된다. 다운로드 해주자.
구글월렛 앱을 실행했으면 신용카드를 등록해주자.
가장 큰 시련 파트일수 있는데 일단 한국 신용카드는 아무리 시도해도 등록이 안된다.
구글페이 지원국가 현지의 신용카드를 구해야 하는데
지인 찬스가 아니라면 한국인 개인으로서는 사실상 통과 불가능한 과정일듯.
아무리 그래도 테스트 레벨의 작업자에게 신용카드가 왜 필요한가?
구글페이는 휴대폰에 설치된 구글월렛을 통해 실행되고,
이 때 등록된 신용카드가 없으면 테스트 환경인데도 테스트용 신용카드가 제공되지 않는다.
아니 그 전에 우리 앱에서 구글페이를 호출하면 exception 이 발생한다.
해당 exception을 캐치해서 “구글 월렛 앱에 결제 수단을 등록해주세요” 라는 UX 예외 처리를 해주자.&lt;/p&gt;
&lt;p&gt;앞의 과정들을 모두 마쳐야 비로소 가능한 것이 이 구글페이 테스트 되시겠다.
공개적으로 이야기할 수 있는 과정들은 다 풀어낸 거 같다.
지금 시점에 와서야 일련의 과정들을 술술 얘기할 수 있는거지.
당시엔 정보들이 여기저기 워낙 파편화 되었다고 느껴져서 이렇게 정보들을 하나로 통합하기까지 쉽지 않았다.
한국에서 이런 종류의 일을 하는 사람도 있다는 사실.
비슷한 처지의 누군가가 있다면 이 경험담을 통해 한결 더 쉬운 작업이 되길 바란다.&lt;/p&gt;
&lt;p&gt;마지막으로 소스코드 레벨의 이야기를 좀 해보자면,
로직상으론 &lt;code class=&quot;language-text&quot;&gt;com.google.android.gms.wallet&lt;/code&gt; 쪽 코드로 구글페이 사용한 가능한 디바이스인지 체크해볼 수 있다.
이후 스트라이프 SDK 로 구현된 구글페이 호출 코드를 사용하면 되는데 내가 사용한 컴포즈 코드는 Stripe 설명 문서엔 잘 안 나와있는 것 같다.
나는 &lt;code class=&quot;language-text&quot;&gt;rememberGooglePayLauncher()&lt;/code&gt; 를 사용했고 &lt;code class=&quot;language-text&quot;&gt;presentForPaymentIntent()&lt;/code&gt; 로 구글월렛을 호출해서 구글페이가 실행되게 만들었다.&lt;/p&gt;
&lt;p&gt;이 글의 맥락에선 잡지식일 수 있는데 payment intent 는
“고객의 한 번의 구매 세션에 대한 결제” 이라는 의미의 1회성 결제고,
setup intent 는 나중에 결제하기 위해 결제수단만 미리 등록해두는 것.
예를 들어 구독 서비스에서 카드 정보만 먼저 받아두고 매달 자동결제 하는 경우가 setup intent 결제 방식이다.
Stripe 에서 분류한 결제 방식이며, 다른 결제 시스템에서도 비슷한 개념을 사용한다. 용어까지 다 일치하는진 모르겠지만.
이 정보를 미리 알면 백엔드 사이드의 담당자들이나 관계자들과 소통의 갭을 조금 더 줄일수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiElEQVR42s1Uy07CQBTt17j0E9ya6ErjJ/gPLt24cWFM2JiwIREl+CJVQQNWEY0RAwYFQRBfMYoRedRWEW1njtNSCg3VRKOJk95MZ+69Z86Ze1sOvzy4vwekFFDVxmxuUd2+D0iIBajzLPoNwGawKEJNneBdkkEMl6IoqNfrZhwxzI45ZzLTpngCyuAA6FA/4BjX915rNfj4VfjXgkhnshamxIYxA6T6owfM9gFBNxJVgI+WcCMB0pMI33IAubM8PN4FhMM7CEd2kWQqZFlGhh1CCLUC6kuq4DTei8JzFHvnQPeEglGBecgLnK4ZCOEIEkdJrIcEuKY9jLUfIWEL+wcxQyRpSVZpY+G+WEFXYBgjmUn0LPI4vAXeaiKTG9L9x6k05pZ4uD3zyObycEw5Ua2Klmswi2LwRKSYxFjGi1ilcV8qayGJSdMSNBaXV9d4KD7irnCPjc3tjupz1rYgrXfYd1AzuVyuoFQqfw3YkK9CYaa2g7claCyb90Xtq/yz8dnXw/37n8MHeWeCmBd4swIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/211df922a56e1cdd35e8f85b60534fc5/37523/cover.png&quot;
        srcset=&quot;/static/211df922a56e1cdd35e8f85b60534fc5/e9ff0/cover.png 180w,
/static/211df922a56e1cdd35e8f85b60534fc5/f21e7/cover.png 360w,
/static/211df922a56e1cdd35e8f85b60534fc5/37523/cover.png 720w,
/static/211df922a56e1cdd35e8f85b60534fc5/73b94/cover.png 1004w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[아침 잠이 덜 깨서 비몽사몽 하지만 뭐라도 적다가 정신 차리는 이야기]]></title><description><![CDATA[한줄 요약: Jetpack Compose Internals 책 읽겠다고 말하는 글이다. 의식의 흐름대로 글을 마구 휘갈겼더니 나는 어느새 Jetpack Compose Internals…]]></description><link>https://www.winter-love.dev/2025.11.12-compose-internals/</link><guid isPermaLink="false">https://www.winter-love.dev/2025.11.12-compose-internals/</guid><pubDate>Wed, 12 Nov 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;한줄 요약: Jetpack Compose Internals 책 읽겠다고 말하는 글이다.&lt;/p&gt;
&lt;p&gt;의식의 흐름대로 글을 마구 휘갈겼더니 나는 어느새 Jetpack Compose Internals 완독 목표를 세운 사람이 되어버렸다. “올해 안에”
하필 요즘같이 바쁜 시기에 이런 생각을 한거니.
워낙 오래 미뤄왔던 일중 하나를 청산할 기회인데 뭐 좋게좋게 생각하고 이 계획을 확정하기로 했다.&lt;/p&gt;
&lt;p&gt;Jetpack Compose UI 프레임워크의 내부 동작 원리를 깊이 있게 다루는 기술 서적이다.
안드로이드 개발 커뮤니티의 유명 개발자 &lt;a href=&quot;https://www.linkedin.com/in/jorgecastillopr/&quot;&gt;Jorge Castillo (Linkedin)&lt;/a&gt; 가 집필했다.
한국 안드로이드 개발 커뮤니티를 이끌고 있는 멤버인 &lt;a href=&quot;https://www.linkedin.com/in/skydoves/&quot;&gt;Jaewoong Eum (Linkedin)&lt;/a&gt;, &lt;a href=&quot;https://www.linkedin.com/in/kimin-ryu/&quot;&gt;Kimin Ryu (Linkedin)&lt;/a&gt; 님이 읽기 쉽게 한글 번역을 해주셨다.&lt;/p&gt;
&lt;p&gt;책을 읽고 이해한 내용들을 원문보다 살짝 더 쉽게 설명하는걸 목표로 삼았다.
얼마나 쉽게 설명할거냐면, 대학생이나 현업 개발자 등 컴포즈를 평소보다 좀 더 깊이 있게 파고들고 싶은 자가 받아들일 수 있을 정도면 적당하지 않을까 싶다.
미래의 내가 잊었던 내용을 빠르게 복기하기 위한 정보성 기록으로도 유용하게 사용되길 바란다.&lt;/p&gt;
&lt;p&gt;책의 내용은 총 7장까지 있으니 이 구성에 맞춰서 앞으로 7번 정도의 시리즈 글을 생각하고 있다.
쓰다보면 구성이 길어지거나 짧아질수도.
대충 이번주부터 매주 1장씩 읽으면 딱 연말에 완독할 수 있게된다.&lt;/p&gt;
&lt;p&gt;올해 1분기 쯤 출장으로 이동중인 비행기 내부가 너무 지루해서 이 책을 읽었었다.
가만히 앉아있기는 지루했지만 비행 소음은 이 책에 집중할 수 있게 도와주는 일종의 화이트 노이즈 역할을 했던 기억이 난다.
초반 파트를 바짝 읽고 그 뒤로 몇 달 째 방치중인 현 상태를 반성하며, 미뤄온 일을 하루하루 청산해보겠다.&lt;/p&gt;
&lt;p&gt;앞으로 읽고 다루게 될 챕터 이름만 미리 나열하고 마무리.
해당 챕터와 관련된 글이 게시되면 링크를 첨부하겠음.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://winter-love.dev/composeinternals/1-composable-functions/&quot;&gt;Composable 함수들 (Composable functions)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://winter-love.dev/composeinternals/2-the-compose-compiler/&quot;&gt;Compose 컴파일러 (The Compose compiler)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://winter-love.dev/composeinternals/3-the-compose-runtime/&quot;&gt;컴포즈 런타임 (The Compose runtime)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Compose UI&lt;/li&gt;
&lt;li&gt;상태 스냅샷 시스템 (State snapshot system)&lt;/li&gt;
&lt;li&gt;이펙트 및 이펙트 핸들러 (Effects and effect handlers)&lt;/li&gt;
&lt;li&gt;Compose Runtime 고급 사용 사례 (Advanced Compose Runtime use cases)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVR42k1TaWsTURTNLxZEFCnFVrStYhdtFeqC2FZEBa3d0i1ts0ySyUz2ZJLZskwmW1P9Ivj5eO4Lgh8u83jz3nnnnnNupFNNolW+RNjModfU0WtkMHLSaJpnqGWj8PmvYZzALcZU9RtJ9KzM9CxL7gpGaOfglhKIBPzZracJpKNT13goh4GTg1eOwytdqb12LYVWNY42Lw5dA33H5PmsAgysNAKuQ669chKRgZvH0CugzxcGdhY33SquOxWMvDzGfh43QU1Vn/+GPDvwigqwS3C5M/KLEIwegVtVDZGRncbE1/mChoZ5irp+TGYXZJ0iCw0W27XzZ/jZyasae1nVhTzQNI5R0fZh6UeoZQ7R0KNk6Oi49nOI7e9gaf4uVhZmsP5sXq3l+/rFIrbfrOLP2MKkTYZsObRNxSgkqGgnrQsBnzJFZGPsZnG+t41E9BMcCn/2YwvG1S4Z0xidhpRomp2hBKZqV7WsOtDJVB4wEFBrv5JCpFc+x8jW8PXDOt6/eko2K2Q2h5fL83i78USt15Zm8Wj2NnXN4aZlqET0qZsAt8lKjBlQc08AQzo0cjIoJPZgxndR1A7QtTTEo59R0g5hF2JInnxR+v4KiqomLRMjN6uYqeIDARkrl8NmlkLr+L7zCgsP7mB1cQZz92/h47s1bD5/jI3lh9TzHrY2l/F7WKWOJs9PE6Gy29CVSV22rAB71UsMJKx1Uq8n0K7ElatyqU/d/PIFgxtXJS6PXIaauocOW6Y5cj5gjoduYdqy6DCQHDLMYZPCt8sqhxLUgWNg0qmqkjRI3v7lTqZDBVpCToaipVuky0JVJmBqfXqaMQL3rBS6Ne430mocg7qMnDadDFa7FENA1kFNgKcT48no+cULuBQ8+G+UupUYHIbWNk/gmPwaUbiFU65PGN4jWOl91FO7sJLf4OkHZJeAjHDTjOEvGExu+FyBF9kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png&quot;
        srcset=&quot;/static/5314d2a18f59617ee9c2723cac41e942/e9ff0/cover.png 180w,
/static/5314d2a18f59617ee9c2723cac41e942/f21e7/cover.png 360w,
/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[개발자의 영어공부 벼락치기 일지]]></title><description><![CDATA[난 외국 IT 서비스 팀에서 일하고 있다.
외국인 팀원들을 포함한 PO, Designer, Developer…]]></description><link>https://www.winter-love.dev/2025.12.08-english-study-review-2025/</link><guid isPermaLink="false">https://www.winter-love.dev/2025.12.08-english-study-review-2025/</guid><pubDate>Tue, 09 Dec 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;난 외국 IT 서비스 팀에서 일하고 있다.
외국인 팀원들을 포함한 PO, Designer, Developer 등 다양한 사람들과 소통해야 한다.
날이 갈수록 사내 영어 사용의 중요성이 높아지고 있는 상황이라
영어 공부를 피할수 없는 운명이란 말이다.&lt;/p&gt;
&lt;p&gt;난 영어를 못한다.
일상 영어 대화도 잘 하지 못하는데 비즈니스 영어를 해야되는 상황이라니.
최근에 부랴부랴 영어공부 앱을 사용하기 시작했고 오프라인 영어 클래스도 참여했다.
그렇게 시간이 지난지도 약 2달.
영어공부 벼락치기 하는중인 사람의 영어공부 후기 글이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;듀오링고&lt;/strong&gt;. 두 달 정도 꾸준히 사용, MAX family 요금제.&lt;/p&gt;
&lt;p&gt;퀴즈 풀이 + 약간의 스피킹을 반복 해야되는 학습 구성이다. 단순히 정답 맞추기 급급할 때가 있다.
릴리와 프리토킹 세션이 있는데 (GPT Based) 4마디밖에 못한다. 너무 짧음.&lt;/p&gt;
&lt;p&gt;너무 단순한 학습 구성들이라 앱 학습 효과에 대해 신뢰하진 못하고 있다.
듀오링고에 준비된 학습 코스를 모두 완료하면 대학 입학 시험을 볼 수 있을 정도의 레벨은 된다고 하니까 일단은 꾸준히 해보려고 한다.&lt;/p&gt;
&lt;p&gt;아무리 단순하더라도 이런 과정에서 익히고 배우는게 있긴 하니까.
당장 내 일상에 적용하기가 어려울 뿐.
그리고 릴리와 프리토킹 세션후 피드백을 받긴 하는데
개선하는건 스스로의 몫이고, 의지가 없다면 당연하게도 교정되지 않는다.
개선을 직접 도와주는 학습 코스도 경험 했다보니 릴리에 대해선 이점도 아쉬었다.&lt;/p&gt;
&lt;p&gt;후기가 거의 별로라는 뉘앙스로 전개되긴 했지만,
그래도 듀오링고는 내 일상에서 영어와 단절되지 않게 해주는 유일한 끈? 같은 존재이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;말해보카&lt;/strong&gt;. 7일 무료체험&lt;/p&gt;
&lt;p&gt;캐릭터들이 너무 귀엽다. 다양한 아바타 꾸미기 요소들이 많아서 이 아저씨는 항마력이 버티질 못했다. 🤢
정답 맞추기 위주의 학습 구조는 듀오링고와 비슷한 느낌.&lt;/p&gt;
&lt;p&gt;듀오링고보다 다양한 영어 어휘를 다루기 때문에 학습 인사이트를 약간 더 넓힐수 있다.
다른 주제를 학습해서 그런지 듀오링고와는 다른 재미가 있었다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;스픽&lt;/strong&gt;. 7일 무료체험&lt;/p&gt;
&lt;p&gt;일단 체험부터 해보고 계속할지 판단할 생각이었다. (결론: 굳이 선택하지 않음)&lt;/p&gt;
&lt;p&gt;영상속 강사님의 티칭후 나의 학습 타이밍이 주어진다. 학습 인터렉션이 자연스럽게 이어지는 UX 구성이 좋았다.
잘 설계된 UX 의 힘으로 머리에 영어 지식을 쏙쏙 넣어주는 느낌.
단순히 시킨 문장을 읽고 스피킹 하는데 그치지 않고 틀린 발음을 인식해서 피드백을 해주는 부분이 좋았다.&lt;/p&gt;
&lt;p&gt;하지만 앞서 듀오링고랑 말해보카를 하고와서 그런지 앱 학습은 굳이 더 늘릴 필요 없다고 판단했음.
스픽으로만 앱 학습을 할거라면 나쁘지 않은 선택일듯?
가격도 직장인이라면 크게 부담되지 않을 정도이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;포도 스피킹&lt;/strong&gt;. 유료 가입&lt;/p&gt;
&lt;p&gt;외국인 선생님과 1대1 원격 수업을 하는 앱. (15 ~ 25분, Voice only)
학습 교재를 실시간 Screen share 한다. 공유중인 교재를 화이트보드 삼아 손글씨를 슥슥 적으면서 수업을 진행한다.
비즈니스 영어학습 클래스를 선택할수도 있지만 일단 나한테 필요한 초보적인 학습 위주로 하는중.&lt;/p&gt;
&lt;p&gt;선생님이 실시간으로 내 스피킹을 듣고 발음이나 문법 &amp;#x26; 문장 구성에 대해 교정을 해주신다.
선생님들이 다 친절하고 텐션도 좋아서 즐겁다. 1대1 실시간 학습인만큼 스피킹, 리스닝, 리딩 학습 비중이 모두 높다.
학습 임팩트가 앱 학습 대비 훨씬 높다. 배운 내용이 머리에 좀 더 오래 머문다.
릴리한테 스피킹하는 어휘가 좀 더 나아짐을 느낀다.&lt;/p&gt;
&lt;p&gt;약속한 시간에 사람과 바짝 하는대신 듀오링고같은 앱처럼 학습 반복성은 떨어짐.
혼자 교재랑 녹화된 인강을 보면서 학습 할수도 있지만,
선생님과 약속한 시간 외 혼자 학습할땐 그냥 듀오링고를 하는게 더 낫다고 생각함.&lt;/p&gt;
&lt;p&gt;첫 수업은 500원으로 참여할 수 있다.
첫 수업이 끝나면 내 레벨 측정 결과를 PDF 로 보내준다. (부끄부끄)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 91.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBklEQVR42lVUXU8aQRT13zdNmjZt+ta++cJbH2pCK1UbPgUU+VKERZRvFlSQj2V3Z4fTOXe71G5yM8Mw98y5556ZA5hvt9txQOCuAO2iZbWRyWRwdnaGVCqFeDyOw8NDXFxcIJfLIRaLYTAcAWoD7TsIs8Pv4DWgVp75EWD2+Ih2u41Go4Fut4tWq4VqtYrBYIBer4dKpYLFy4th4JvtSvIjDAEcjUbo3N1Bm8WuSWByrVbDzc2NgN3e3sp4fX0tMZvNEBggpYC5b2HYT0FvlcnXIeB4PMadAVRmB1kwiSwIyuDvq6srlMtl3N/fY2L2O44D5SksB98xX/TMPECggxBwPp/jxZSgtcbT05OU+fDwIMz7/b7Mn5+f5cAgCCRc1w3nizGsURaucqVsASQ76sWPbBKJhDQknU5LU05OTnB+fv4fa9u24WzWsLsdtEc/zAGmQdoAEnW9XmO1WgmDzWYjbLm2XC6xWCxkZEynU9GPe8lus3ZQqWWxtI3+Sv/TsF6vI5lMCmXLsnB6eirsGLRPoVBANpsV2/Aggm1dx9gCqPXjsCa/sTMNCrTCAXXjJp7s+76Uwo7SNgTn2Ol0ZC0C8zwPvqnGc1x4UwvqcQjfaKojDaOkqOMEolU4Mvgfgw6gJATculvQ0fl2DPXBsbAVhgQZDodSNjUkOBvAG8FSOb+8vJSSOdLYlIZdVr7Cmw/v8fbTR5mzWgGkVRgsh02gVSaTidiGEvA3g+wJaNvTvYVK5Sqy+aKA7QFZDgXnBjIkm2KxiHw+v2cZzVkJfeuyZPP9LHxGovRV5spcxb1tIuOyORFDsqFuZMaR0nCdGjJ4fXPJOEqlZPi4BH9vSrPZFPEjtmQSvSycM2hwMqeVaGzXCxkeV74gXn8nDeL9FttQNzKg0NSSTHj9uEYNOZI11zhSW98w5M0o5NI4OvpmLPeqKUwgS5bPe8tu8iGIxtePBee8Mb7yxSrlzi+07Mz/tiEgE6khXxM2gCWXSqX9KxMdwKeNVfASmHz0ZnU0xw0Qn6/NH0ZwLE7ftf+MAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/2d386baac67320ae34db720ddbbfea15/37523/1.png&quot;
        srcset=&quot;/static/2d386baac67320ae34db720ddbbfea15/e9ff0/1.png 180w,
/static/2d386baac67320ae34db720ddbbfea15/f21e7/1.png 360w,
/static/2d386baac67320ae34db720ddbbfea15/37523/1.png 720w,
/static/2d386baac67320ae34db720ddbbfea15/e51a6/1.png 783w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;미치의 미친 영어 코칭&lt;/strong&gt;. &lt;a href=&quot;https://www.mitchinenglishcoach.com/&quot;&gt;mitchinenglishcoach.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 172px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.348837209302324%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVR42kWSy1IaQRSGeZQ8Qt7BB8km62xSUbkYjOUlKqiV7GJUQGOCqKACIyA3uSmIiIxEbjMMIKipVCWLrL80k1SyOH1O/6f6769Ot8FsMvHGamV1bZX3Hz/gcDnZcjpxOjbYcrnYFPXa6houkT9tbeLc2BDhwLG+rveG2szUFGajkdcWC4bxsTGiwWOOWje8qMRIVcr8+vETWf5KMp4mHj0lf14kkzpDbankz4rEoilqtw1KxTLNhsLV5SUWATZhNmOYnLSSiSR4Lrl5UnTz8sBNv6FSKl3jcfvY3fHh2w/g8waQAhHSqRyBo5De8x9Kuqa1NeZmZzCNj2OwTkxwcXaOIxjkWdjD8oGXgdZFVdvkMufUag3qwxBElbIs6JLcyFWxr5NKZlGVNh1NGM78NRxiynKF74MHMsE4Qa+kH2zUm3zZ3ueicEnAHyJ9miUaSSIFTzgJJzhNZNn1HBI9SXLX6zE7Pa3PUTesXJWpPt7xKhNkRHLxWQrRrrXw7vnJ5wpifjkO9/3sug+Q/GESsRSBw2Ni4oJcJk9bUXVC85DQbDJyK8ukBwojeS9Ps262QxHu+wPqWptGR6P/7ZHSTZWYoFTuenT7fZRuh6aI7sM93W73P+HY6Ch7Hg990XDHY7zb2UEuVWj0OlTaLS6UOldqk2utRa3fodCqUReXVDWFQvOWssihSFg30195uAyHufB2jpX5RVbm5llesmNfXGRJxLLNJrJNr20LC6zY7H90oQ1ru9AsRtO/b/Mb7RYrgLhn9tgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/910b19f2738103661bcfaaf8b123e862/44eb2/0.png&quot;
        srcset=&quot;/static/910b19f2738103661bcfaaf8b123e862/44eb2/0.png 172w&quot;
        sizes=&quot;(max-width: 172px) 100vw, 172px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;친구의 외국인 지인인 Mitch 선생님이 운영하는 오프라인 영어 클래스.
직접 자기 얘기를 하고 리스닝도 해야되는 곳이다.
클래스 한 세션당 직장인과 대학생 8 ~ 10 명 정도 모인다. (양재역)&lt;/p&gt;
&lt;p&gt;미치 선생님이 대화 토픽을 제시하고, 해당 토픽에 대해 사람들과 계속 대화를 나눠야 한다.
대부분 자기 일상이나 경험에 대해 이야기를 주고 받다보니 재미있다. 시간이 금방 흐른다.
주변 동료들한테 추천하고 싶을정도.&lt;/p&gt;
&lt;p&gt;클래스 레벨 자체는 초보 수준에 맞춰진듯 하다.
내가 참여하기엔 딱 좋고,
함께 참여한 영어 잘하는 친구는 자기 레벨엔 맞지 않다고.&lt;/p&gt;
&lt;p&gt;나의 지난 2달간의 학습 흐름을 대략 정리해보면 &lt;br/&gt;
듀오링고로 입을 떼기 시작하고 &lt;br/&gt;
포도 스피킹으로 사람과 말수를 늘리고 &lt;br/&gt;
미친 영어 클래스에서 사람들과 직접 대화까지 했다.&lt;/p&gt;
&lt;p&gt;처음엔 어떤 학습 수단이 제일 나은지 비교하고 싶었던건데 이제는 하나만 할 수 없게 되었다.
앱 학습부터 오프라인까지 초보인 나에겐 거의 거를 타선이 없었다.
듀오링고 하나만으론 역시 부족하고 다양한 노력이 필요한 나의 현실을 알 수 있었다. 🥲
영어는 할 수 있을때 미리 열심히 해두자… 나중에 와서 일과 병행 하려니 역시 쉽지 않다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdklEQVR42h2QTU/TAACG+1P4AR7lyMkDF84QTxyMCYkhhAMQ8UBUwDFQN8i2bOyz0q6j67pudGu3dazLunQDo9FptsREbsbfoOGx8fDmzZP38CSvYNvn6GYISxPpXjSx8zpWsox+7KKHb+jn2/hKCy/YPMli2vGY2AO6GYNW7BIrUqQRy9GuRjCLbxGyX5YIfZ2jMtzB+dDAkcrIh12yyzWUxzkSGz5jxaSbqjLtf+Tbzz/c/frLxPEx34lY4UuqrV2OBwu89x4haJ+foI7nqY/COLJB76KCcuCjbr6kt7tCemfEoGDQiZeZeZ9ojO8Zfr9n1r+lFs5ghkoo9jpb+gP2Gg8R8u4qSXcRzd6nJ3W4zmlYp3WSaw6Jp220gya9dJn2WYmh1OT37Mf/uHmD6lGGyuscunhEffKM+u0mgm+M8LQhA9XFEWt0YipOXAk+CjqtBixjR4s0ozJXJyL6m2wgSaPtp9AOzym9iiO/SCA9T1HYjvMPxzQpZggQhRMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/dc933fad5c606a8165b7ba9a37d4806b/37523/cover.png&quot;
        srcset=&quot;/static/dc933fad5c606a8165b7ba9a37d4806b/e9ff0/cover.png 180w,
/static/dc933fad5c606a8165b7ba9a37d4806b/f21e7/cover.png 360w,
/static/dc933fad5c606a8165b7ba9a37d4806b/37523/cover.png 720w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[코루틴 빌더, 컨텍스트, 잡과 자식 코루틴 기다리기 (Coroutine DEEP DIVE)]]></title><description><![CDATA[취소 기본적인 취소 코루틴을 취소하기 위해 사용되는 예외(exception)은  or 이 예외의 서브 타입이어야 한다. Job…]]></description><link>https://www.winter-love.dev/coroutine-deep-dive/3-coroutine-cancel-exception-scope/</link><guid isPermaLink="false">https://www.winter-love.dev/coroutine-deep-dive/3-coroutine-cancel-exception-scope/</guid><pubDate>Mon, 09 Feb 2026 00:10:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;취소&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B7%A8%EC%86%8C&quot; aria-label=&quot;취소 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;취소&lt;/h1&gt;
&lt;h2 id=&quot;기본적인-취소&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%B7%A8%EC%86%8C&quot; aria-label=&quot;기본적인 취소 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기본적인 취소&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;코루틴을 취소하기 위해 사용되는 예외(exception)은 &lt;code class=&quot;language-text&quot;&gt;CancellationException&lt;/code&gt; or 이 예외의 서브 타입이어야 한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Job 인터페이스는 취소하기 위한 &lt;code class=&quot;language-text&quot;&gt;cancel()&lt;/code&gt; 메소드를 가지고 있다.&lt;/p&gt;
&lt;p&gt;이 메소드를 호출할 때&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;호출 시점에 잡을 끝낸다.&lt;/li&gt;
&lt;li&gt;잡이 자식을 가지고 있다면, 자식들도 취소된다. 부모는 영향받지 않는다.&lt;/li&gt;
&lt;li&gt;취소된 잡은 더이상 코루틴의 부모로 사용될 수 없다.&lt;/li&gt;
&lt;li&gt;취소된 잡은 &lt;code class=&quot;language-text&quot;&gt;Cancelling&lt;/code&gt; 상태가 되었다가 &lt;code class=&quot;language-text&quot;&gt;Cannceled&lt;/code&gt; 상태로 바뀐다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;join()&lt;/code&gt; 메소드도 알고 넘어가자.
&lt;code class=&quot;language-text&quot;&gt;cancel()&lt;/code&gt; 이 호출된 뒤, 다음 작업을 진행하기 전에 &lt;code class=&quot;language-text&quot;&gt;join()&lt;/code&gt; 을 호출하면 취소 과정이 완료되는걸 기다리게 된다.&lt;/p&gt;
&lt;p&gt;우리는 명시적인 &lt;code class=&quot;language-text&quot;&gt;cancel()&lt;/code&gt; 시점을 핸들링 하기 위해 &lt;code class=&quot;language-text&quot;&gt;join()&lt;/code&gt; 을 사용하는 사례가 많을거다.
그래서 이 둘을 세트로 호출할 수 있는 확장 함수 &lt;code class=&quot;language-text&quot;&gt;cancelAndJoin()&lt;/code&gt;를 잘 활용하자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; Job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cancellAndJoin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;cancel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Job()&lt;/code&gt; 하위에 생성된 수많은 자식 잡을 한 번에 취소할 수 있다는 점도 알고 가자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// suspend fun main(): Unit = coroutineScope { ...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; job &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Job&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;job&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1_000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Printing &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cancelAndJoing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Canceeld successfully&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Printing 0&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 3&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 4&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Cancelled successfully&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;취소는-어떻게-작동하는가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B7%A8%EC%86%8C%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9E%91%EB%8F%99%ED%95%98%EB%8A%94%EA%B0%80&quot; aria-label=&quot;취소는 어떻게 작동하는가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;취소는 어떻게 작동하는가?&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Job&lt;/code&gt; 이 취소되면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Cancelling&lt;/code&gt; 상태로 바뀐다.&lt;/li&gt;
&lt;li&gt;상태가 바뀐 뒤, 첫 번 째 중단점에서 &lt;code class=&quot;language-text&quot;&gt;CancellationException&lt;/code&gt; 예외를 던진다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;예외는 &lt;code class=&quot;language-text&quot;&gt;try-catch&lt;/code&gt; 로 잡을 수도 있지만 다시 던지는(&lt;code class=&quot;language-text&quot;&gt;throw&lt;/code&gt;)게 좋다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// coroutineScope { ...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; job &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Job&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;job&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1_000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Printing &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CancellationException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; e
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cancelAndJoin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Cancelled successfully&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Printing 0&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 3&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Printing 4&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// JobCancellationException...&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Cancelled successfully&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;취소된 코루틴이 단지 멈추는게 아니라 내부적으로 예외를 사용해 취소된다는걸 알아야 한다.
따라서 &lt;code class=&quot;language-text&quot;&gt;finally&lt;/code&gt; 블록 안에서 모든것을 정리할 수 있다. (파일 IO나 DB 연결 닫기 등의 정리)&lt;/p&gt;
&lt;h2 id=&quot;취소-중-코루틴을-한-번-더-호출하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B7%A8%EC%86%8C-%EC%A4%91-%EC%BD%94%EB%A3%A8%ED%8B%B4%EC%9D%84-%ED%95%9C-%EB%B2%88-%EB%8D%94-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0&quot; aria-label=&quot;취소 중 코루틴을 한 번 더 호출하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;취소 중 코루틴을 한 번 더 호출하기&lt;/h2&gt;
&lt;p&gt;모든 코루틴은 모든 자원을 정리할 필요가 있는 한 계속해서 실행될 수 있다. (위에서 언급한 파일 IO나 DB 연결 닫기 등의 자원 정리를 말하는 듯)&lt;/p&gt;
&lt;p&gt;하지만 자원 정리 과정 중에 중단을 허용하지는 않는다. &lt;code class=&quot;language-text&quot;&gt;Job&lt;/code&gt; 은 이미 &lt;code class=&quot;language-text&quot;&gt;Cancelling&lt;/code&gt; 상태가 되었기 때문에.&lt;/p&gt;
&lt;p&gt;정리 과정 중에&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;새로운 코루틴을 시작하려고 하면 무시된다.&lt;/li&gt;
&lt;li&gt;중단하려고 하면 &lt;code class=&quot;language-text&quot;&gt;CancellationException&lt;/code&gt; 을 던진다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;코루틴이 이미 취소 되었을 때 중단 함수를 반드시 호출해야 하는 경우도 있다.
예를 들어, DB의 변경 사항을 롤백하는 경우이다.
이런 경우 함수 콜을 &lt;code class=&quot;language-text&quot;&gt;withContext(NonCancellable) { ... }&lt;/code&gt; 로 포장하는 방법이 많이 사용되고 있다.
블록 내부에서 잡은 액티브 상태를 유지하며, 중단 함수를 원하는 만큼 호출할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// suspend fun main(): Unit = coroutineScope {&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; job &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Job&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;job&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Coroutine finished&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Finally&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;withContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NonCancellable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000L&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Cleanup done&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cnacelAndJoin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Done&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Finally&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Cleanup done&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;invokeoncompletion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#invokeoncompletion&quot; aria-label=&quot;invokeoncompletion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;invokeOnCompletion&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;invokeOnCompletion&lt;/code&gt;: Job 이 &lt;code class=&quot;language-text&quot;&gt;Completed&lt;/code&gt; 나 &lt;code class=&quot;language-text&quot;&gt;Cancelled&lt;/code&gt; 와 같은 마지막 상태에 도달했을 때 호출되는 핸들러다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// suspend fun main(): Unit = coroutineScope 
val job = launch {
  delay(1000)
}
job.invokeOnCompletion { exeption: Trowable? -&gt;
  println(&quot;Finished&quot;)
}
delay(400)
job.cancelAndJoin()

// Finished&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;invokeOnCompletion&lt;/code&gt; 핸들러의 파라미터로 넘어오는 예외 종류:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Job 이 예외 없이 끝나면 null&lt;/li&gt;
&lt;li&gt;코루틴이 취소되면 &lt;code class=&quot;language-text&quot;&gt;CancellationException&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;코루틴을 종료시킨 예외일수 있음 (이에 대해선 추후 배울거라고 함)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;잡이 &lt;code class=&quot;language-text&quot;&gt;invokeOnCompletion&lt;/code&gt; 호출되기 전에 완료되면 핸들러는 즉시 호출된다는 특징도 있다.&lt;/p&gt;
&lt;h2 id=&quot;중단될-수-없는걸-중단하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A4%91%EB%8B%A8%EB%90%A0-%EC%88%98-%EC%97%86%EB%8A%94%EA%B1%B8-%EC%A4%91%EB%8B%A8%ED%95%98%EA%B8%B0&quot; aria-label=&quot;중단될 수 없는걸 중단하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;중단될 수 없는걸 중단하기&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;yield()&lt;/code&gt;
or
&lt;code class=&quot;language-text&quot;&gt;Job&lt;/code&gt; 의 상태 추적하기&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;취소는 중단점에서 일어난다.
때문에 중단점이 없으면 취소를 할 수 없다.&lt;/p&gt;
&lt;p&gt;원하는 시점에 취소할 수 없는 중단 함수가 있다고 가정해보자.
1초 뒤에 실행이 취소 되어야 하는데, 실제론 3분이 넘게 걸리는 경우엔 어떻게 해야할까?&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;yield()&lt;/code&gt; 를 호출하는 방법이 있다.
yield 는 코루틴을 중단하고 즉시 재실행한다.
중단점이 생겼기 때문에 취소를 포함해 중단중에 필요한 모든 작업을 할 수 있는 기회가 주어진다.
(첫 장에서 배웠던 시퀀스를 떠올려보자)&lt;/p&gt;
&lt;p&gt;중단 불가능하면서 CPU 집약적이거나 시간 집약적인 연산들의 경우, 각 연산들 사이에 yield 를 사용하는게 좋다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cpuIntensiveOperations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token function&quot;&gt;withContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Dispatchers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Default&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cpuIntensiveOperation1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;yield&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cpuIntensiveOperation2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;yield&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cpuIntensiveOperation3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;다른 방법은 잡의 상태를 추적하는 것이다.
코루틴 빌더 내부에서 this(리시버)는 빌더의 스코프를 참조하고 있다.
따라서 &lt;code class=&quot;language-text&quot;&gt;coroutineContext.job&lt;/code&gt; 에 접근해 현재 상태를 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;Job 은 코루틴이 액티브한지 확인하는데 사용되는데,
액티브 상태를 간단하게 확인할 수 있는 &lt;code class=&quot;language-text&quot;&gt;isActive&lt;/code&gt; 라는 확장 함수를 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;코루틴 내부 반복문 안에서 &lt;code class=&quot;language-text&quot;&gt;isActive&lt;/code&gt; 상태일때만 특정 메시지를 출력하게 만드는데 활용할 수 있다.
아니면 &lt;code class=&quot;language-text&quot;&gt;Job&lt;/code&gt; 이 액티브 상태가 아니면 &lt;code class=&quot;language-text&quot;&gt;CancellationException&lt;/code&gt; 을 던지는 &lt;code class=&quot;language-text&quot;&gt;ensureActive()&lt;/code&gt; 함수를 사용하는 방법도 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;isActive&lt;/code&gt;: 잡의 액티브 상태를 조회하고 Boolean 결과를 반환한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ensureActive()&lt;/code&gt;: 잡이 더이상 액티브 상태가 아니면 예외를 던진다.&lt;/p&gt;
&lt;h2 id=&quot;suspendcancellablecoroutine&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#suspendcancellablecoroutine&quot; aria-label=&quot;suspendcancellablecoroutine permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;suspendCancellableCoroutine&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;invokeOnCancellation&lt;/code&gt;: 코루틴이 취소 되었을때 행동을 정의할 수 있다. (특정 라이브러리 실행 취서 or 자원 해제를 할 때 등) &lt;code class=&quot;language-text&quot;&gt;invokeOnCompletion&lt;/code&gt; 과는 다르다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;someTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; suspendCancellableCoroutine &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
  cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;invokeOnCancellation&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 정리 작업을 실행한다.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 나머지 구현 부분.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대표적으로 Retrofit 이 내부적으로 &lt;code class=&quot;language-text&quot;&gt;suspendCancellableCoroutine&lt;/code&gt; 를 사용하는 사례를 볼 수 있으며,
코루틴이 취소되면 &lt;code class=&quot;language-text&quot;&gt;invokeOnCancellation&lt;/code&gt; 핸들러로 api 호출을 취소 처리하는 모습을 볼 수 있다.&lt;/p&gt;
&lt;h1 id=&quot;예외처리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC&quot; aria-label=&quot;예외처리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;예외처리&lt;/h1&gt;
&lt;p&gt;보통의 프로그램은 예외를 try-catch 하지 않으면 종료된다.
코루틴도 비슷하다.
알아둬야 할 것은 코루틴 빌더는 부모도 종료 시키고, 취소된 부모는 모든 자식들을 취소시킨다.&lt;/p&gt;
&lt;p&gt;(아래) 자식이 부모로, 부모가 자식들에게 취소를 전파되며 취소되는 모습&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACCklEQVR42oVSXWvTYBROO50dXceabgUnU8fwWpBd7Er/gTfitXe98Q8IXuQPuAtvql4VigMJNpZWaLJQYumHCbZrpFnavklNm2alsaWb7AfEc8o6toH2wOENOe/7nPM8z6GoOTEmZGUwGKw7jhPBZFl2Af97nueTJOkGwzD+eRiUR1G+6QmXTUI+tNvtrmEYTdM05U6ncxdr6XQ6xPP8Zi6Xuw1NFv+H5zufwC9yYiSfz9+rVqtreBYKhU1VVYNYZ1lpmc1m7wDY+jxAKhaL3YzH42GgtDqjiJFMJoMcx0USiUTAkhKBU56nz8pC9LT4NfxPMMuyVmu12oau65FLYL7Z5Ei1UqnQf0BPYBH0LCvggZZXNQN6eP52nOfENGutVus7aFWfTCZPz+sLaML0W9MWHdt+32w2VUil3+9zo9EoNDPqCnApn9+WZXm3WCzulsvlx2BC9PrFpCAEK9Wfj+TDxkOY9ImiKDvS9QlR6EajsV2v1+/D4yUEQMroKCYh5BbeM1Op6NFB9sGZIERhE/yebS+1VHULGG3hal00do+P38Ba/ILUe73ut/Fw+BopQx4ahAzdk5NnHvMi4H75JHfZj43u531zktp/57runolhGEeg/Y9er7cxBQQtQplMZg1MoGG3aE3TlkVRRFNodBUnxO72HkMrr15GdMjxW2alVCpdvAOZwmjiX6ZzWxV3by3TAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/0302470570d27c9ff818398906ecd5f2/37523/0.png&quot;
        srcset=&quot;/static/0302470570d27c9ff818398906ecd5f2/e9ff0/0.png 180w,
/static/0302470570d27c9ff818398906ecd5f2/f21e7/0.png 360w,
/static/0302470570d27c9ff818398906ecd5f2/37523/0.png 720w,
/static/0302470570d27c9ff818398906ecd5f2/302a4/0.png 1080w,
/static/0302470570d27c9ff818398906ecd5f2/07a9c/0.png 1440w,
/static/0302470570d27c9ff818398906ecd5f2/4219b/0.png 5115w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;코루틴-종료-멈추기-supervisorjob&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%A2%85%EB%A3%8C-%EB%A9%88%EC%B6%94%EA%B8%B0-supervisorjob&quot; aria-label=&quot;코루틴 종료 멈추기 supervisorjob permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 종료 멈추기. SupervisorJob&lt;/h2&gt;
&lt;p&gt;SupervisorJob 은 위 그림처럼 한 자식에서 발생한 모든 예외를 무시할 수 있다.
즉, 전파되지 않는다.&lt;/p&gt;
&lt;p&gt;(아래) SupervisorJob 을 사용한 부모는 exception 을 전파를 무시하는 모습&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/0lEQVR42mNgwAPq6+uZbt26pfX48WP9ly9f6l+6dEnj////jDA5IJsJxscLYIqANPerV6+efPr06T8IAw29ARRjBckd3rJFcPemTXJ7Nm+WJmQoXPL48ePiFy9ejDx//nzAhQsXkm/evOl15coVNpDcKiDde+wYJwgTdOW2bdvY9+zZI75p0yYRZAvqQ0PZtgBdFrpqFfPDZfNc7y2fXwrEsf+BfJyGnTlzhnXx4sV8q1atYoN6GxROzCBXXAGKAcWF6vf/Z3mxYr7Fy6Vzgt8tn2WL4UKYwNOnTyuAXjpy9erVnY8ePVoDDDNlmDwoEsDskyeFn61duuLG8oVbbi1fuOz1+uXNGC6Eabh9+7YfEKcCDU2/e/du0p07d8Rg8jBLb+zfJPJo3cqkZ6sXx9xes6L4+bqVYSBfoBvItHv3bn5Q2CEnmWPAAAcFAUwMFCG7z5zhr0cyYCYw1o9BIoYJZhjHw4cPtwJddhLoqgvANDflzZs3lUDXnQPyjz168OD0y+/fVf5vXKb9bN2KE4/WLj/2eO3y89+2rKl/v2H5DCD79MN1y88+X7d8+///wBQACnCgYVaHDx92OHr0qBMw/AyBYakBtNUFyLcDJmb7669f8/5fP1/g/oKZjlfn9NvdmDfJ6fPqBdqvVy0wvj5zouO1mb32T+dPtwaFJQA9TWU9Cm/SMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/f3595faf0b3cc7b07fb76dceb251632e/37523/1.png&quot;
        srcset=&quot;/static/f3595faf0b3cc7b07fb76dceb251632e/e9ff0/1.png 180w,
/static/f3595faf0b3cc7b07fb76dceb251632e/f21e7/1.png 360w,
/static/f3595faf0b3cc7b07fb76dceb251632e/37523/1.png 720w,
/static/f3595faf0b3cc7b07fb76dceb251632e/302a4/1.png 1080w,
/static/f3595faf0b3cc7b07fb76dceb251632e/07a9c/1.png 1440w,
/static/f3595faf0b3cc7b07fb76dceb251632e/4dd6f/1.png 5006w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;supervisorscope&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#supervisorscope&quot; aria-label=&quot;supervisorscope permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;supervisorScope&lt;/h2&gt;
&lt;p&gt;예외 전파를 막는 다른 방법은 코루틴 빌더를 &lt;code class=&quot;language-text&quot;&gt;supervisorScope { ... }&lt;/code&gt; 로 래핑하는 것이다.
다른 코루틴에서 발생한 예외를 무시하고 부모와 연결을 유지할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;fun main(): Unit = runBlocking {
  supervisorScope {
    launch {
      delay(1000)
      throw Error(&quot;Some error&quot;)
    }
    launch {
      delay(2000)
      println(&quot;Will be printed&quot;)
    }
  }
  delay(1000)
  println(&quot;Done&quot;)
}

// Exception ...
// Will be printed
// (1초 후)
// Done&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;supervisorScope 는 단지 중단 함수일 뿐이며, 중단 함수 본체를 래핑하는데 사용된다.&lt;/p&gt;
&lt;p&gt;예외 전파를 막는 또다른 방법은 &lt;code class=&quot;language-text&quot;&gt;coroutineScope { ... }&lt;/code&gt; 를 사용하는 것이다.
이 함수는 부모에 영향을 미치는 대신 try-catch 를 이용해 잡을 수 있는 예외를 던진다.&lt;/p&gt;
&lt;h2 id=&quot;await&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#await&quot; aria-label=&quot;await permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;await&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 코루틴 빌더는 launch 처럼 부모 코루틴을 종료하고, 예외를 전파한다.
&lt;code class=&quot;language-text&quot;&gt;SupervisorJob&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;supervisorScope&lt;/code&gt; 로 전파를 막을수 있는것 또한 동일하다.&lt;/p&gt;
&lt;h2 id=&quot;cancellation-은-부모까지-전파되지-않는다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#cancellation-%EC%9D%80-%EB%B6%80%EB%AA%A8%EA%B9%8C%EC%A7%80-%EC%A0%84%ED%8C%8C%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4&quot; aria-label=&quot;cancellation 은 부모까지 전파되지 않는다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cancellation 은 부모까지 전파되지 않는다&lt;/h2&gt;
&lt;p&gt;예외가 CancellationException 의 서브클래스라면 부모로 전파되지 않는다.
현재 코루틴을 취소하고 예외를 출력할 뿐이다.&lt;/p&gt;
&lt;h2 id=&quot;코루틴-예외-핸들러&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%98%88%EC%99%B8-%ED%95%B8%EB%93%A4%EB%9F%AC&quot; aria-label=&quot;코루틴 예외 핸들러 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 예외 핸들러&lt;/h2&gt;
&lt;p&gt;예외를 처리하는 기본 행동을 정의하는 것이 유용할 때가 있다.
이런 경우 &lt;code class=&quot;language-text&quot;&gt;CoroutineExceptionHandler&lt;/code&gt; 컨텍스트를 사용할 수 있다.
예외 전파를 중단 시키지는 않지만, 예외가 발생했을 때 해야 할 것들을 정의하는데 사용할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Unit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; runBlocking &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    CoroutineExceptionHandler &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; exception &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&quot;Caught $exception&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; scope &lt;span class=&quot;token function&quot;&gt;CoroutineScope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;SupervisorJob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Some error&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Will be printed&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Caught java.lang.Error: Some error&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Will be printed&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;안드로이드에서는 사용자에게 대화창이나 에러 메시지를 보여주는 식으로
어떤 문제가 발생했는지 알리는 역할을 할 수 있다.&lt;/p&gt;
&lt;h1 id=&quot;코루틴-스코프-함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%8A%A4%EC%BD%94%ED%94%84-%ED%95%A8%EC%88%98&quot; aria-label=&quot;코루틴 스코프 함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 스코프 함수&lt;/h1&gt;
&lt;p&gt;코루틴 스코프 함수들의 사용법을 알아보는 장이다.&lt;/p&gt;
&lt;h2 id=&quot;코루틴-스코프-함수가-소개되기-전에-사용한-방법들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%8A%A4%EC%BD%94%ED%94%84-%ED%95%A8%EC%88%98%EA%B0%80-%EC%86%8C%EA%B0%9C%EB%90%98%EA%B8%B0-%EC%A0%84%EC%97%90-%EC%82%AC%EC%9A%A9%ED%95%9C-%EB%B0%A9%EB%B2%95%EB%93%A4&quot; aria-label=&quot;코루틴 스코프 함수가 소개되기 전에 사용한 방법들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 스코프 함수가 소개되기 전에 사용한 방법들&lt;/h2&gt;
&lt;p&gt;중단 함수에서 중단 함수를 호출하는 것이 첫 번 째 방법이다.
하지만 이 방법은 순차적으로만 실행된다.
요청당 1초가 걸리는 중단 함수를 두 번 실행할 경우, 총 2초가 소요된다.&lt;/p&gt;
&lt;p&gt;두 개의 중단 함수를 동시에 실행하려면 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 로 각각 래핑해야 한다.
하지만 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 는 스코프가 필요하다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;참고: 이 때 &lt;code class=&quot;language-text&quot;&gt;GlobalScope&lt;/code&gt; 를 사용하는건 좋은 방법이 아니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;GlobalScope&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;EmptyCoroutineContext&lt;/code&gt; 를 가진 스코프일 뿐이다.
&lt;code class=&quot;language-text&quot;&gt;GlobalScope&lt;/code&gt; 에서 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 를 호출하면 부모 코루틴과 아무런 관계가 없다.
이 때 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 코루틴은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;취소할 수 없다. (자원 낭비)&lt;/li&gt;
&lt;li&gt;부모로부터 스코프를 상속받지 않는다. 항상 기본 디스패처에서 실행되며, 부모의 컨텍스트를 전혀 신경쓰지 않는다.&lt;/li&gt;
&lt;li&gt;메모리 누수가 발생할 수 있으며 쓸데 없이 CPU 를 낭비한다.&lt;/li&gt;
&lt;li&gt;코루틴을 유닛 테스트하는 도구가 작동하지 않아 함수를 테스트하기 어렵다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;coroutinescope&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#coroutinescope&quot; aria-label=&quot;coroutinescope permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;coroutineScope&lt;/h2&gt;
&lt;p&gt;스코프를 시작하는 중단 함수이다. 인자로 들어온 함수가 생성한 값을 반환한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;R&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;coroutineScope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  block&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; CoroutineScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; R
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; R&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt; 본체는 리시버 없이 곧바로 호출된다.
&lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 나 &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt;와 다르게 새로운 코루틴을 생성하지만 순차적으로만 실행할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// fun main() = runBlocking { ...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; coroutineScope &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a is calculated&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; coroutineScope &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 10&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 20&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// (1초 후)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// a is calculated&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// (1초 후)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 10&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 20&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;코루틴-스코프-함수-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%8A%A4%EC%BD%94%ED%94%84-%ED%95%A8%EC%88%98-1&quot; aria-label=&quot;코루틴 스코프 함수 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 스코프 함수&lt;/h2&gt;
&lt;p&gt;스코프를 만드는 다양한 함수가 있다. &lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt; 와 비슷하게 작동한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;supervisorScope&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt;와 비슷하지만, &lt;code class=&quot;language-text&quot;&gt;Job&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;SupervisorJob&lt;/code&gt; 을 사용한다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;withContext&lt;/code&gt;: 코루틴 컨텍스트를 바꿀 수 있는 &lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;withTimeout&lt;/code&gt;: 타임아웃이 있는 &lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;코루틴 빌더와 코루틴 스코프의 차이를 인지하자.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;코루틴 빌더 (runBlocking 제외)&lt;/th&gt;
&lt;th&gt;코루틴 스코프 함수&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;예시&lt;/td&gt;
&lt;td&gt;launch, async, produce&lt;/td&gt;
&lt;td&gt;coroutineScope, supervisorScope, withContext, withTimeout&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;종류&lt;/td&gt;
&lt;td&gt;CoroutineScope의 확장 함수&lt;/td&gt;
&lt;td&gt;중단 함수&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;컨텍스트&lt;/td&gt;
&lt;td&gt;CoroutineScope 리시버의 코루틴 컨텍스트를 사용&lt;/td&gt;
&lt;td&gt;중단 함수와 같은 방식으로 예외를 던짐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;실행 방식&lt;/td&gt;
&lt;td&gt;비동기인 코루틴을 시작함&lt;/td&gt;
&lt;td&gt;코루틴 빌더가 호출된 곳에서 코루틴을 시작함&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;runBlocking&lt;/code&gt; 은 블로킹 함수지만 코루틴 스코프 함수는 중단 함수라는 것이다.
즉 &lt;code class=&quot;language-text&quot;&gt;runBlocking&lt;/code&gt; 은 코루틴 계층에서 가장 상위에 있으며, 코루틴 스코프 함수는 계층 중간에 있는것이다.&lt;/p&gt;
&lt;p&gt;계층으로 표현해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;runBlocking &amp;#x3C;- 얘만 최상위 계층 고정
&lt;ul&gt;
&lt;li&gt;코루틴 스코프 함수 or 코루틴 빌더&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;withcontext&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#withcontext&quot; aria-label=&quot;withcontext permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;withContext&lt;/h2&gt;
&lt;p&gt;스코프의 컨텍스트를 변경할 수 있다.
&lt;code class=&quot;language-text&quot;&gt;withContext(EmptyContext)&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt; 는 같은 방식으로 동작한다.&lt;/p&gt;
&lt;p&gt;기존 스코프와 컨텍스트가 다른 스코프를 설정하기 위해 주로 사용된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Dispatchers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Main&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  view&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showProgressBar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;withContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Dispatchers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;IO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fileRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;saveData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  view&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hideProgressBar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;supervisorscope-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#supervisorscope-1&quot; aria-label=&quot;supervisorscope 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;supervisorScope&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;coroutineScope&lt;/code&gt; 와의 차이점은 &lt;code class=&quot;language-text&quot;&gt;Job&lt;/code&gt; 을 &lt;code class=&quot;language-text&quot;&gt;SupervisorJob&lt;/code&gt; 으로 오버라이딩 하는것이다.
서로 독립적이며, 취소 전파가 되서는 안되는 작업을 할 때 사용한다.&lt;/p&gt;
&lt;h2 id=&quot;withtimeout&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#withtimeout&quot; aria-label=&quot;withtimeout permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;withTimeout&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token function&quot;&gt;withTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Still thinking&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Done&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
  &lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Done 은 출력될 수 없다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1500ms 타임아웃 상태이기 때문이며&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// TimeoutCancellationException 을 반환한다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;코루틴-스코프-함수-연결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%8A%A4%EC%BD%94%ED%94%84-%ED%95%A8%EC%88%98-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;코루틴 스코프 함수 연결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 스코프 함수 연결하기&lt;/h2&gt;
&lt;p&gt;아래 예시처럼 &lt;code class=&quot;language-text&quot;&gt;withContext&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;withTimeoutOrNull&lt;/code&gt; 두 개의 코루틴 스코프 함수를 중첩해서 두 가지의 스코프 함수의 기능을 사용할수도 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calculateAnswerOrNull&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token function&quot;&gt;withContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Dispatchers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Default&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;withTimeoutOrNull&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;calculateAnswer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;추가적인-연산&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B6%94%EA%B0%80%EC%A0%81%EC%9D%B8-%EC%97%B0%EC%82%B0&quot; aria-label=&quot;추가적인 연산 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;추가적인 연산&lt;/h2&gt;
&lt;p&gt;추가적인 연산을 위한 스코프를 만들어서 UseCase 같은 비즈니스 로직 생성자로 주입하는 방법도 있다.
생성자를 통해 주입하면 유닛테스트를 추가할 수도 있고, 스코프를 사용하는데도 장점이 있다.&lt;/p&gt;
&lt;p&gt;스코프를 전달하면 전달된 클래스를 통해 독립적인 작업을 실행할 수 있다.
때문에 이 독립적인 작업은 기다릴 필요 없이 종료하면 된다.&lt;/p&gt;
&lt;p&gt;(근데 굳이 이럴 필요가 있을까 싶다. 그냥 “이렇게도 할 수 있다” 는걸 보여주고 싶었던 것 같다.)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABqElEQVR42r2Syy8DURTGB30/EAsSgrCoRCxEWNkQia1FN1hIENV2HpogHiFWQhCxUlSIEGlR2umLir1qIwQL/Cno595pOy0bkYhJvpybme/+zplzDqPjAvhLMf8GVHMhqNJScmFJGi74M1DDijAKQej57EstuVjKH6NK8KCCP0K14EYl70YJfwaDEJL9BhIL6TkXuBB5Qf6wD0Vpk54ToWJDaHDso4nbQKOwjRZuHa0jTgL3gLGIUFh9kldt96PA6gctSgaCPPPhZzCDpzAQE81OL3SsxdC7ew/L4SMGDp7QunIN82YC3Vs36HHF0b97C7Mzhr6dBGqmogQuSkmY948kvkNpprLRMEwzUdQR0Vg+HoFp9hK101FY9u9gP3xAlzMOwfOI+rkrKG3+FJDiMtDF8xcwQ2cSVMsGoCAmhTUlWgGN+VYRzRMetE/soW3Mhc7JHVQ4TqFmU72UfjkXunTxKkOp9BlxAXlwWhv5bvOi2H4Co90LHev/2kMJmkzK0NXLV+RZfGTagS8TzCoobYKGrBSVLmedZGAKCrylocukUhVt9C8X+xMldRJz1E6XrgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/4b408a31e407236aee179777c392489b/37523/cover.png&quot;
        srcset=&quot;/static/4b408a31e407236aee179777c392489b/e9ff0/cover.png 180w,
/static/4b408a31e407236aee179777c392489b/f21e7/cover.png 360w,
/static/4b408a31e407236aee179777c392489b/37523/cover.png 720w,
/static/4b408a31e407236aee179777c392489b/0a867/cover.png 986w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[코루틴 취소, 예외처리, 스코프 함수 (Coroutine DEEP DIVE)]]></title><description><![CDATA[러프하게 초안 정리 상태 코루틴 빌더 중단 함수는 컨티뉴에이션 객체를 다른 중단 함수로 전달해야 한다.
(…]]></description><link>https://www.winter-love.dev/coroutine-deep-dive/2-coroutine-builder-context-job-and-wait-children/</link><guid isPermaLink="false">https://www.winter-love.dev/coroutine-deep-dive/2-coroutine-builder-context-job-and-wait-children/</guid><pubDate>Sun, 08 Feb 2026 00:10:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;러프하게 초안 정리 상태&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;코루틴-빌더&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EB%B9%8C%EB%8D%94&quot; aria-label=&quot;코루틴 빌더 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 빌더&lt;/h1&gt;
&lt;p&gt;중단 함수는 컨티뉴에이션 객체를 다른 중단 함수로 전달해야 한다.
(4장에서 다뤘는데, 중단 함수들의 콜스택과 연결되는 개념이다)&lt;/p&gt;
&lt;p&gt;그래서 일반 함수가 중단 함수를 호출 할수는 없지만
중단 함수는 일반 함수를 실행할 수 있다.&lt;/p&gt;
&lt;p&gt;우리는 지금까지
중단 함수는 코루틴을 실행할 수 있으며
코루틴은 함수를 일시중단 할 수 있다고 배웠다.&lt;/p&gt;
&lt;p&gt;그렇다면 중단 함수는 처음에 어떻게 실행 되는가?
이것을 시작하는 지점이 코루틴 빌더다.&lt;/p&gt;
&lt;p&gt;계층으로 표현해본다면 이런 느낌?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;코루틴 빌더
&lt;ul&gt;
&lt;li&gt;중단 함수 or 코루틴&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;launch-빌더&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#launch-%EB%B9%8C%EB%8D%94&quot; aria-label=&quot;launch 빌더 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;launch 빌더&lt;/h2&gt;
&lt;p&gt;새로운 일시중단 가능한 분기를 생성한다.
launch 는 몇 번이든 호출하여 새로운 분기를 만들 수 있다.&lt;/p&gt;
&lt;h2 id=&quot;runblocking-빌더&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#runblocking-%EB%B9%8C%EB%8D%94&quot; aria-label=&quot;runblocking 빌더 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;runBlocking 빌더&lt;/h2&gt;
&lt;p&gt;이 빌더가 실행된 스레드가 중단된다.&lt;/p&gt;
&lt;h2 id=&quot;async-빌더&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#async-%EB%B9%8C%EB%8D%94&quot; aria-label=&quot;async 빌더 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;async 빌더&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;async &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 비동기 태스크&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;비동기 태스크를 async 블록으로 감싸면 비동기 태스크가 실행되며 Deferred 타입을 반환한다.
deferred 객체의 await() 을 호출하면 결과 값을 반환 받을수 있다.
await() 를 특정 시점에서 병렬로 호출하는 응용이 가능하다.&lt;/p&gt;
&lt;h2 id=&quot;coroutinescope-사용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#coroutinescope-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;coroutinescope 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;coroutineScope 사용하기&lt;/h2&gt;
&lt;h1 id=&quot;코루틴-컨텍스트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8&quot; aria-label=&quot;코루틴 컨텍스트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 컨텍스트&lt;/h1&gt;
&lt;h2 id=&quot;coroutinecontext-인터페이스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#coroutinecontext-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4&quot; aria-label=&quot;coroutinecontext 인터페이스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CoroutineContext 인터페이스&lt;/h2&gt;
&lt;p&gt;Job, CoroutineName, CoroutineDispatcher 와 같은
원소나 원소의 집합을 나타내는 인터페이스다.&lt;/p&gt;
&lt;h2 id=&quot;컨텍스트-더하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%8D%94%ED%95%98%EA%B8%B0&quot; aria-label=&quot;컨텍스트 더하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컨텍스트 더하기&lt;/h2&gt;
&lt;p&gt;val ctx1 = CoroutineName(“one”)
val ctx2 = CoroutineName(“two”)&lt;/p&gt;
&lt;p&gt;ctx1 + ctx2&lt;/p&gt;
&lt;p&gt;덧셈식으로 더할 수 있으며
새로운 원소 ctx2 가 기존 원소를 대체할 수 있다.&lt;/p&gt;
&lt;h2 id=&quot;비어있는-코루틴-컨텍스트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EC%96%B4%EC%9E%88%EB%8A%94-%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8&quot; aria-label=&quot;비어있는 코루틴 컨텍스트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비어있는 코루틴 컨텍스트&lt;/h2&gt;
&lt;p&gt;EmptyCoroutineContext&lt;/p&gt;
&lt;h2 id=&quot;코루틴-컨텍스트와-빌더&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%99%80-%EB%B9%8C%EB%8D%94&quot; aria-label=&quot;코루틴 컨텍스트와 빌더 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴 컨텍스트와 빌더&lt;/h2&gt;
&lt;h1 id=&quot;잡과-자식-코루틴-기다리기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A1%EA%B3%BC-%EC%9E%90%EC%8B%9D-%EC%BD%94%EB%A3%A8%ED%8B%B4-%EA%B8%B0%EB%8B%A4%EB%A6%AC%EA%B8%B0&quot; aria-label=&quot;잡과 자식 코루틴 기다리기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;잡과 자식 코루틴 기다리기&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Job 이란?&lt;/strong&gt;
Job 은 수명을 가지고 있으며 취소 가능하다.
Job 의 수명은 상태로 나타낸다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 92.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACkElEQVR42sVU22uSYRxebWyDHauLHBHEt9ih1YqiLupCCKp/YCPY3YL6B7ouYXTXxYJoC0YImheJMkXxgIiUJnNqU+Zhns/icYnHlOzreQeKioIR0Qc/vpff+37P7/d7nuf9Bgb+9yOXy2cQNw0Gww2TyXRNqVTeUigUCzRNn+4bBIdPkbfNZhsvFAr+arVas9vtJavVWigWi6VKpfIjEonc/5PGTgA1Gs1oNpvdKJfLmx6PZxMFtlHgdT6ff+P3++fbOiAtdwaLxeo5Bp/PH2az2dOtBf/qAeAU4gJZr66uDrZthkIhChw883q96z6f70k0Gl13uVxPg8HgikgkmkAnoyTIOp1Or2E8FsZ9ZbFYXjqdzo1EIvE8EAgwmoDHx8drqVSKPjw8rDscjl8AquMgDWC/Wq1e2t3dvUgCHF6q1WopCEG73e6fEKYej8froIeOxWKPmoB7e3uTBwcHS+huzmg03jObzcuouIguKbKv0+km9Hr9WbJGV3PIL6L4dcRdFJ0H+BXkx7paQyqVMmQy2Ugr2SqVakosFi+35E9E4XK5kz1FaRiTGJfYg6wbKhPuAHqutbBWqz2D4lRrru8OUWBcIBBQeDPA7ycIYsaI+xj9G8z9FXxbk8nkw64dCoXCmU5AUoyojKs2BW4/AmQf4n0BdwTsM9ZGiPKga4dkZCg63YcPexubw+GM8Xi8BVhkViKRXIUA5/HBIJPJHOosinMU9i+DUwqTzBKeEcNtoLlc7jH8RHxYAjeVo6Oj7xijDF4MAGmCYsQRjGYBdzSsVSA/CHyTAQ3VTCaz0gQE2G3EDoDe4tK/gx+3cGs+IMcinTbOQZQh5F4AYAfCbOHcNtbvccvY4XD4zj/5Yf4GIDb9dRulM7oAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/481286ca0c2d6eb302ec320e3d578fa6/37523/0.png&quot;
        srcset=&quot;/static/481286ca0c2d6eb302ec320e3d578fa6/e9ff0/0.png 180w,
/static/481286ca0c2d6eb302ec320e3d578fa6/f21e7/0.png 360w,
/static/481286ca0c2d6eb302ec320e3d578fa6/37523/0.png 720w,
/static/481286ca0c2d6eb302ec320e3d578fa6/302a4/0.png 1080w,
/static/481286ca0c2d6eb302ec320e3d578fa6/07a9c/0.png 1440w,
/static/481286ca0c2d6eb302ec320e3d578fa6/1321a/0.png 3086w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;잡의 상태를 확인하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;isActive&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;isCompleted&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;isCancelled&lt;/code&gt; 프로퍼티를 사용하면 된다.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;State&lt;/th&gt;
&lt;th&gt;isActive&lt;/th&gt;
&lt;th&gt;isCompleted&lt;/th&gt;
&lt;th&gt;isCancelled&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;New (optional initial state)&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Active (default initial state)&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Completing (transient state)&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Cancelling (transient state)&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Cancelled (final state)&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Completed (final state)&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABqElEQVR42r2Syy8DURTGB30/EAsSgrCoRCxEWNkQia1FN1hIENV2HpogHiFWQhCxUlSIEGlR2umLir1qIwQL/Cno595pOy0bkYhJvpybme/+zplzDqPjAvhLMf8GVHMhqNJScmFJGi74M1DDijAKQej57EstuVjKH6NK8KCCP0K14EYl70YJfwaDEJL9BhIL6TkXuBB5Qf6wD0Vpk54ToWJDaHDso4nbQKOwjRZuHa0jTgL3gLGIUFh9kldt96PA6gctSgaCPPPhZzCDpzAQE81OL3SsxdC7ew/L4SMGDp7QunIN82YC3Vs36HHF0b97C7Mzhr6dBGqmogQuSkmY948kvkNpprLRMEwzUdQR0Vg+HoFp9hK101FY9u9gP3xAlzMOwfOI+rkrKG3+FJDiMtDF8xcwQ2cSVMsGoCAmhTUlWgGN+VYRzRMetE/soW3Mhc7JHVQ4TqFmU72UfjkXunTxKkOp9BlxAXlwWhv5bvOi2H4Co90LHev/2kMJmkzK0NXLV+RZfGTagS8TzCoobYKGrBSVLmedZGAKCrylocukUhVt9C8X+xMldRJz1E6XrgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/4b408a31e407236aee179777c392489b/37523/cover.png&quot;
        srcset=&quot;/static/4b408a31e407236aee179777c392489b/e9ff0/cover.png 180w,
/static/4b408a31e407236aee179777c392489b/f21e7/cover.png 360w,
/static/4b408a31e407236aee179777c392489b/37523/cover.png 720w,
/static/4b408a31e407236aee179777c392489b/0a867/cover.png 986w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[코틀린 코루틴 이해하기 (Coroutine DEEP DIVE)]]></title><description><![CDATA[본문에서 자주 사용하는 단축어 정의: cont: Continuation 객체의 줄임말.
코드에서는  또는 으로 표기될 수 있음. 코틀린 코루틴을 배워야 하는 이유 안드로이드에선 UI를 다루는 스레드가 하나만 존재한다.
RestAPI…]]></description><link>https://www.winter-love.dev/coroutine-deep-dive/1-understnad-kotlin-coroutine/</link><guid isPermaLink="false">https://www.winter-love.dev/coroutine-deep-dive/1-understnad-kotlin-coroutine/</guid><pubDate>Sun, 01 Feb 2026 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;본문에서 자주 사용하는 단축어 정의:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cont: Continuation 객체의 줄임말.
코드에서는 &lt;code class=&quot;language-text&quot;&gt;cont&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;continuation&lt;/code&gt;으로 표기될 수 있음.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&quot;코틀린-코루틴을-배워야-하는-이유&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%ED%8B%80%EB%A6%B0-%EC%BD%94%EB%A3%A8%ED%8B%B4%EC%9D%84-%EB%B0%B0%EC%9B%8C%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0&quot; aria-label=&quot;코틀린 코루틴을 배워야 하는 이유 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코틀린 코루틴을 배워야 하는 이유&lt;/h1&gt;
&lt;p&gt;안드로이드에선 UI를 다루는 스레드가 하나만 존재한다.
RestAPI 를 호출해서 데이터를 불러오고, 이를 UI 에 보여주기까지의 과정을 생각해보자.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;스레드 전환:&lt;/strong&gt;
스레드에서 RestAPI 호출 후, &lt;code class=&quot;language-text&quot;&gt;runOnUiThread { ... }&lt;/code&gt; 를 통해 UI 스레드로 전환하는 방법이 있다.
하지만 스레드가 실행 되었을때 멈출수 있는 방법이 없어 메모리 누수로 이어질 수 있다.
스레드를 많이 생성하면 비용이 많이 들기도 하고, 코드가 길어지고 이해하기 어려워지는 문제도 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;콜백:&lt;/strong&gt;
대안으로 콜백 활용을 생각해볼 수 있다.
취소할 수는 있지만 매우 번거로워서 쉽지 않은 일이다.
그리고 여러번 중첩되어 사용되는 패턴인 “콜백 지옥”이 형성되어 읽기 어려운 코드가 될 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RxJava &amp;#x26; 리액티브 스트림:&lt;/strong&gt;
오랫동안 자바 진영에서 인기있는 해결책은 RxJava, 리액티브 스트림이 있다.
이 방법은 스트림 내에서 일어나는 모든 연산을 시작, 처리 관찰할 수 있다.
스레드 전환과 동시성 처리를 지원하기 때문에 애플리케이션 내의 연산을 병렬 처리할 수 있다.
취소가 가능, 메모리 누수가 없어서 스레드를 적절하게 사용할 수 있다.
단점이 있다면 구현하기 아주 복잡하다는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;코틀린 코루틴 사용:&lt;/strong&gt;
핵심은 코루틴을 특정 지점에서 멈추고, 이후에 재개할 수 있다는 것.
코루틴을 사용하면 UI 스레드 블로킹 없이 중단 지점을 만들고 API 에서 데이터를 불러올 수 있다.
API 를 불러온 뒤, 중단한 지점에서 다시 시작하여 UI 를 업데이트 할 수 있다.&lt;/p&gt;
&lt;p&gt;코루틴 중단 함수 안에선 비동기 코드를 마치 동기 코드처럼 순차적으로 작성할 수 있다.
또는 비동기 코드를 병렬로 실행하여 (&lt;code class=&quot;language-text&quot;&gt;async { }&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;await()&lt;/code&gt;) 호출 결과를 더 빨리 받아볼 수 있다.
이 모든것을 읽기 쉬운 간단한 코드로 구현할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;showNews&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  viewModelScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getConfigFromApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; news &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;gerNewsFromApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;gerUserFromApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    view&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showNews&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; news&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;코루틴을 사용하면를 스레드를 재우는 대신 “코루틴”을 중단 시킨다.
코루틴을 시작하는 비용은 스레드와 비교되지 않을만큼 저렴하다.&lt;/p&gt;
&lt;h2 id=&quot;요약&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9A%94%EC%95%BD&quot; aria-label=&quot;요약 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;요약&lt;/h2&gt;
&lt;p&gt;코루틴은 스레드를 블로킹 하지 않고 중단 지점을 만들어서 비동기 로직을 실행한 뒤, 중단 지점에서 로직을 재개할 수 있다.
이 동작은 어떤 비동기 로직 실행 방법보다 읽기 쉽게 작성할 수 있다.
중단 함수는 취소가 가능하며, 스레드보다 비용이 적게 든다.&lt;/p&gt;
&lt;p&gt;추가 장점: 멀티플랫폼에서도 사용할 수 있다.&lt;/p&gt;
&lt;h1 id=&quot;시퀀스-빌더&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%ED%80%80%EC%8A%A4-%EB%B9%8C%EB%8D%94&quot; aria-label=&quot;시퀀스 빌더 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시퀀스 빌더&lt;/h1&gt;
&lt;p&gt;코틀린에서는 제너레이터 대신 시퀀스를 생성할 때 사용하는 시퀀스 빌더를 제공한다.
시퀀스 빌더는 필요할 때마다 값을 하나씩 계산하는 지연 처리를 한다.
때문에 요구되는 연산을 최소한으로 수행해서 메모리 사용이 효율적이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; seq &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sequence &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;yeild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;yeild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;yeild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; seq&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 123&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 알아야 할것은 각 숫자가 미리 생성되는 대신, 필요할 때마다 생성된다는 점이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; seq &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; requence &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Generating first&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;yeild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Generating second&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;yeild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Generating third&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;yeild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Done&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; seq&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The next number is &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;num&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Generating first&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The next number is 1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Generating second&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The next number is 2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Generating third&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The next number is 3&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;시퀀스의 작동 방식에 대해 알아보자.
“Generating first” 를 출력한 뒤 -&gt; 숫자 1을 반환한다.
이후 반복문에서 반환된 값을 반은 뒤 -&gt; “Next number is 1”을 출력한다.
여기서 반복문과 다른 점을 알아야 한다.&lt;/p&gt;
&lt;p&gt;main: &lt;code class=&quot;language-text&quot;&gt;val num = seq.next()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;seq: &lt;code class=&quot;language-text&quot;&gt;println(&quot;Generating first&quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;seq: &lt;code class=&quot;language-text&quot;&gt;yeild(1)&lt;/code&gt; &amp;#x3C;- 1 반환&lt;/p&gt;
&lt;p&gt;main &lt;code class=&quot;language-text&quot;&gt;println(&quot;The next number is $num&quot;)&lt;/code&gt; &amp;#x3C;- 중단 후 시퀀스에서 반환한 값 1 출력&lt;/p&gt;
&lt;p&gt;main: &lt;code class=&quot;language-text&quot;&gt;val num = seq.next()&lt;/code&gt; &amp;#x3C;- 중단 지점에서 시퀀스 다시 재개&lt;/p&gt;
&lt;p&gt;seq: &lt;code class=&quot;language-text&quot;&gt;println(&quot;Generating second&quot;)&lt;/code&gt; &amp;#x3C;- 중단 지점으로부터 다음 메시지 출력&lt;/p&gt;
&lt;p&gt;seq: &lt;code class=&quot;language-text&quot;&gt;yeild(2)&lt;/code&gt; &amp;#x3C;- 2 반환&lt;/p&gt;
&lt;p&gt;main &lt;code class=&quot;language-text&quot;&gt;println(&quot;The next number is $num&quot;)&lt;/code&gt; &amp;#x3C;- 다시 중단 후 시퀀스에서 반환한 값 2 출력&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;중단이 왜 필요한가?&lt;/strong&gt;
위 예시 패턴처럼, 중단이 가능하기 때문에 main 함수와 시퀀스 제너레이터가 번갈아가면서 실행될 수 있기 때문이라고 한다.&lt;/p&gt;
&lt;p&gt;시퀀스 빌더는 반환(yield)이 아닌 중단 함수를 사용하면 안 된다.
중단이 필요하다면 데이터를 가져오기 위해 나중에 배울 플로우를 사용하는 것이 낫다.
플로우 빌더가 작동하는 방식은 시퀀스 빌더와 비슷하지만, 플로우는 여러가지 코루틴 기능을 지원한다고 한다.&lt;/p&gt;
&lt;p&gt;다음 장에서 중단이 어떻게 작동하는지 살펴보자.&lt;/p&gt;
&lt;h1 id=&quot;중단은-어떻게-작동할까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A4%91%EB%8B%A8%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9E%91%EB%8F%99%ED%95%A0%EA%B9%8C&quot; aria-label=&quot;중단은 어떻게 작동할까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;중단은 어떻게 작동할까?&lt;/h1&gt;
&lt;p&gt;중단 함수는 코틀린 코투린의 핵심이다.
코투린을 중단한다는 건 실행을 중간에 멈추는것을 의미한다.
비디오 게임을 하다 멈추는 상황과 비슷하다.&lt;/p&gt;
&lt;p&gt;코루틴은 중단 되었을 때 cont 객체를 반환한다.
이 객체는 게임을 저장하는 것과 비슷하다.
cont 를 이용하면 멈췄던 곳에서 다시 코루틴을 실행할 수 있다.
다른 스레드에서 시작할 수 있다.
중단했을 때 코루틴은 어떤 자원도 사용하지 않는다.&lt;/p&gt;
&lt;h2 id=&quot;재개&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EA%B0%9C&quot; aria-label=&quot;재개 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재개&lt;/h2&gt;
&lt;p&gt;코루틴은 &lt;code class=&quot;language-text&quot;&gt;runBlocking&lt;/code&gt; 이나 &lt;code class=&quot;language-text&quot;&gt;launch&lt;/code&gt; 와 같은 코루틴 빌더를 통해 만들 수 있다. &lt;/br&gt;
중단 함수 코루틴을 중단할 수 있는 함수다. &lt;/br&gt;
중단 함수는 반드시 코루틴 혹은 다른 중단 함수에 의해 호출 되어야 한다. &lt;/br&gt;
중단 함수는 중단할 수 있는곳이 필요하다. &lt;/br&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Before&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Before 와 After 사이에 중단을 하는 예시다.
위 결과처럼 After 는 출력되지 않으며 코드는 실행된 상태로 유지된다.
main 함수가 끝나지 않았기 때문.
프로그램은 멈춘채 재개되지 않는다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
    cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Before&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// After&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;cont 객체를 사용해서 코루틴을 중단한 후 곧바로 실행할 수 있다.
cont 에서 resume 을 호출했기 때문에 After 를 호출할 수 있게 되었다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;코틀린 1.3 이후부턴 &lt;code class=&quot;language-text&quot;&gt;resumeWith()&lt;/code&gt; 함수만 사용할 수 있다고 한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;suspendScope 에서 잠깐 동안 정지(sleep)된 뒤 재개되는 다른 스레드를 실행할수도 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; continuation &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      thread &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Suspended&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          Thread&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          continuation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Unit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Resume&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Before&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Suspended&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// (1초 후)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// After&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Resumed&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 예제로부터 다른 스레드가 재개하는 방식은 코투린을 이해하는데 중요하다.&lt;/p&gt;
&lt;h2 id=&quot;값으로-재개하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%92%EC%9C%BC%EB%A1%9C-%EC%9E%AC%EA%B0%9C%ED%95%98%EA%B8%B0&quot; aria-label=&quot;값으로 재개하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;값으로 재개하기&lt;/h2&gt;
&lt;p&gt;suspend 함수에 기본적으로 Unit 을 인자로 넘길수 있고, 객체로 반환될 값의 타입을 지정할수도 있다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Unit 을 인자로 넘기는 경우&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; ret&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Unit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
    cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Unit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 특정 타입을 인자로 넘기는 경우&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; ret&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Unit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
      
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Int&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
    cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 42&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; str&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;String&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
    cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Some text&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Some tex&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; b&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Boolean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Boolean&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;RestAPI 호출에서 응용하는 방법.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    requestUser &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Before&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// (1초 후)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// User(name=Test)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// After&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;예외로-재개하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%88%EC%99%B8%EB%A1%9C-%EC%9E%AC%EA%B0%9C%ED%95%98%EA%B8%B0&quot; aria-label=&quot;예외로 재개하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;예외로 재개하기&lt;/h2&gt;
&lt;p&gt;우리가 사용하는 모든 함수는 값을 반환하거나 예외를 던진다. suspendCoroutine 또한 마찬가지.&lt;/p&gt;
&lt;p&gt;보통 네트워크 관련 예외를 알릴 때 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;resume()&lt;/code&gt; 호출:  인자로 들어온 데이터를 반환한다. &lt;/br&gt;
&lt;code class=&quot;language-text&quot;&gt;resumeWithException()&lt;/code&gt; 호출: 중단된 지점에서 인자로 넣어준 예외를 던진다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; MyException &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Throwable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Just an exception&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      cont&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resumeWithException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;MyException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MyExeption&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Caught!&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Caught!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;함수가-아닌-코루틴을-중단시킨다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%A8%EC%88%98%EA%B0%80-%EC%95%84%EB%8B%8C-%EC%BD%94%EB%A3%A8%ED%8B%B4%EC%9D%84-%EC%A4%91%EB%8B%A8%EC%8B%9C%ED%82%A8%EB%8B%A4&quot; aria-label=&quot;함수가 아닌 코루틴을 중단시킨다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;함수가 아닌 코루틴을 중단시킨다&lt;/h2&gt;
&lt;p&gt;함수가 아닌 코루틴을 중단하는 것.
중단 함수는 코루틴이 아니다.
중단 함수는 코루틴을 중단할 수 있는 함수라고 한다.&lt;/p&gt;
&lt;p&gt;아래 예시를 보자. 이 이예시는 의도와 달리 종료되지 않는다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; continuatino&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;suspendAndSetContinuation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suspendCoroutine&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
    continuation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cont
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
  &lt;span class=&quot;token function&quot;&gt;suspendAndSetContinuation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  continuation&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Unit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;After&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Before&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 resume() 은 호출되지 않는다.
다른 스레드나 다른 코루틴으로 재개하지 않으면 프로그램은 실행된 상태로 유지된다.&lt;/p&gt;
&lt;p&gt;이 섹션의 첫 내용을 다시 상기하며 개념 정리: &lt;/br&gt;
&lt;strong&gt;코루틴, 코루틴 스코프:&lt;/strong&gt; 둘 다 코루틴을 지칭한다. &lt;/br&gt;
&lt;strong&gt;중단 함수:&lt;/strong&gt; 코루틴을 중단할 수 있는 함수다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;중단 함수는 코루틴을 실행 시킬수 있는 함수.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;코루틴은 일시 중단과 재개를 시킬 수 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;코루틴의-실제-구현&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%A3%A8%ED%8B%B4%EC%9D%98-%EC%8B%A4%EC%A0%9C-%EA%B5%AC%ED%98%84&quot; aria-label=&quot;코루틴의 실제 구현 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코루틴의 실제 구현&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;중단 함수가 상태를 가지는 시점: 함수가 시작할때와 중단 함수가 호출 되었을때.
이렇듯, 중단 함수가 상태를 가진다는 점에서 상태 머신 (state machine) 과 비슷하다.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cont 객체는 상태를 나타내는 숫자와 로컬 데이터를 가지고 있다.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;호출된 함수의 cont 는 호출한 함수의 cont 를 감싸면서 체인을 형성한다.
이 체인이 코루틴의 콜 스택 역할을 한다 — 함수가 끝나면 이 체인을 따라 되돌아간다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;호출 순서&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Continuation 체인&lt;/span&gt;
c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cont &lt;span class=&quot;token comment&quot;&gt;// 각각 이전 호출자를 참조&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 반환 순서&lt;/span&gt;
c 완료 → b resume → b 완료 → a resume → a 완료&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;컨티뉴에이션-전달-방식&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%A8%ED%8B%B0%EB%89%B4%EC%97%90%EC%9D%B4%EC%85%98-%EC%A0%84%EB%8B%AC-%EB%B0%A9%EC%8B%9D&quot; aria-label=&quot;컨티뉴에이션 전달 방식 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컨티뉴에이션 전달 방식&lt;/h2&gt;
&lt;p&gt;중단 함수는 여러 방식으로 구현할 수 있다.
코틀린 팀은 &lt;strong&gt;컨티뉴에이션 전달 방식&lt;/strong&gt;(continuation-passing style)을 택했다고 한다.&lt;/p&gt;
&lt;p&gt;컨티뉴에이션은 함수에서 함수로 파라미터를 통해 전달된다.
관례상 컨티뉴에이션은 마지막 파라미터로 정렬 한다고 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;checkAvailability&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;flight&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Flight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Boolean

&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuatoin&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  user&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  continuation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;checkAvailability&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  flight&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Flight&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  continuation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;중단 함수 내부를 들여다보면 원래 선언했던 형태와 반환 타입이 Any 또는 Any? 로 바뀌었다.
그 이유는, 중단 함수를 실행하는 도중에 중단되면 선언된 타입의 값을 반환하지 않을수 있기 때문이라고 한다.
이때 중단 함수는 &lt;code class=&quot;language-text&quot;&gt;COROUTINE_SUSPENDED&lt;/code&gt;라는 특별한 마커를 반환한다.&lt;/p&gt;
&lt;p&gt;지금은 &lt;code class=&quot;language-text&quot;&gt;getUser()&lt;/code&gt; 함수가 &lt;code class=&quot;language-text&quot;&gt;User?&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;COROUTINE_SUSPENDED&lt;/code&gt; 를 반환할 수 있기 때문에,
이 결과와 가장 가까운 슈퍼 타입인 &lt;code class=&quot;language-text&quot;&gt;Any?&lt;/code&gt; 로 지정된 것이다.&lt;/p&gt;
&lt;h2 id=&quot;아주-간단한-함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%84%EC%A3%BC-%EA%B0%84%EB%8B%A8%ED%95%9C-%ED%95%A8%EC%88%98&quot; aria-label=&quot;아주 간단한 함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;아주 간단한 함수&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 중단 함수&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;myFunction&lt;/code&gt; 함수의 시그니처(signature)를 다음과 같이 추론할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이번에 알아볼 것은, 이 함수는 상태를 저장하기 위해 자신만의 cont 객체가 필요할것이다.
이 상태명을 &lt;code class=&quot;language-text&quot;&gt;MyFunctionContinuation&lt;/code&gt; 이라고 가정해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;val continuation = MyFunctionContinuation(continuation)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;myFunction&lt;/code&gt; 함수가 실행될 때 파라미터인 continuation 을 자신만의 컨티뉴에이션인 &lt;code class=&quot;language-text&quot;&gt;MyFunctionContinuation&lt;/code&gt; 으로 포장한다.&lt;/p&gt;
&lt;p&gt;이미 래핑된 컨티뉴에이션이면 그대로 두고, 아니면 새로 래핑한다.
만약 코루틴이 재실행되고 있으면 컨티뉴에이션 객체는 이미 래핑되어 있을것이므로 컨티뉴에이션 객체를 그대로 둬야한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; continuation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    continuation &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; MyFunctionContinuation 
    &lt;span class=&quot;token operator&quot;&gt;?:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyFunctionContinuation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;myFunction&lt;/code&gt; 함수가 시작되는 지점은 함수의 시작점과 중단 이후 재개 시점 두 곳이다.
현재 상태를 저장하려면 &lt;code class=&quot;language-text&quot;&gt;label&lt;/code&gt; 이라는 필드를 사용한다.
함수가 처음 시작할 때 이 &lt;code class=&quot;language-text&quot;&gt;label&lt;/code&gt; 값은 0으로 설정된다.
이후 중단되기 전에 다음 상태로 설정되어 코루틴이 재개될 시점을 알 수 있게 도와준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// myFunction 의 세부 구현을 간단하게 표현한 예시&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Unit&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; continuation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; continuation &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; MyFunctionContinuation
      &lt;span class=&quot;token operator&quot;&gt;?:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyFunctionContinuation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      continuation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; continuation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; COROUTINE_SUSPEND&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; COROUTINE_SUSPEND
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Unit
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Impossible&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 코드에 중요한 부분이 있다.
&lt;code class=&quot;language-text&quot;&gt;delay&lt;/code&gt; 에 의해 중단된 경우, &lt;code class=&quot;language-text&quot;&gt;delay&lt;/code&gt; 로부터 &lt;code class=&quot;language-text&quot;&gt;COROUTINE_SUSPEND&lt;/code&gt; 가 반환된다.
&lt;code class=&quot;language-text&quot;&gt;myFunction&lt;/code&gt; 은 &lt;code class=&quot;language-text&quot;&gt;COROUTINE_SUSPEND&lt;/code&gt;를 반환한다.
&lt;code class=&quot;language-text&quot;&gt;myFunction&lt;/code&gt;을 호출한 함수부터 시작해 콜 스택에 있는 모든 함수도 똑같다.&lt;/p&gt;
&lt;p&gt;즉, 중단이 일어나면 콜 스택에 있는 모든 함수가 &lt;code class=&quot;language-text&quot;&gt;COROUTINE_SUSPEND&lt;/code&gt; 를 반환 받으며,
결과적으로 아래와 같이 중단된 코루틴의 실행이 종료된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
  &lt;span class=&quot;token comment&quot;&gt;// 여기서 중단되면 main도 COROUTINE_SUSPENDED 반환&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;myFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
    
  &lt;span class=&quot;token comment&quot;&gt;// 재개후 실행됨&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Before&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// After&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;중단된 코루틴을 실행하던 스레드를 실행 가능한 코드가 사용할 수 있게된다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;만약 &lt;code class=&quot;language-text&quot;&gt;delay&lt;/code&gt; 호출이 &lt;code class=&quot;language-text&quot;&gt;COROUTINE_SUSPEND&lt;/code&gt;를 반환하지 않고 &lt;code class=&quot;language-text&quot;&gt;Unit&lt;/code&gt;을 반환하면 어떻게 될까?
그냥 중단 없이 다음 코드로 넘어가는 일반적인 함수 호출이 된다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;다음으로 컨티뉴에이션 객체다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;cont &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContinuatoinIm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;continuation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; result&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; label &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;invokeSuspend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;`$result`&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Any&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; `$result`&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;상태를-가진-함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%81%ED%83%9C%EB%A5%BC-%EA%B0%80%EC%A7%84-%ED%95%A8%EC%88%98&quot; aria-label=&quot;상태를 가진 함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;상태를 가진 함수&lt;/h2&gt;
&lt;p&gt;함수가 중단된 후 다시 사용할 지역 변수나 파라미터같은 상태를 가지고 있다면,
함수의 컨티뉴에이션 객체에 상태를 저장해야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&quot;Before&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 중단 함수&lt;/span&gt;
  counter&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&quot;Counter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; $counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&quot;After&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;counter 는 0 과 1로 표시된 두 상태에서 사용되므로 컨티뉴에이션을 통해 이를 저장해야 한다.
함수 내에 사용되던 값들은 중단 직전에 저장되고, 이후 함수가 재개될 때 복구된다.&lt;/p&gt;
&lt;h2 id=&quot;값을-받아-재개되는-함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%92%EC%9D%84-%EB%B0%9B%EC%95%84-%EC%9E%AC%EA%B0%9C%EB%90%98%EB%8A%94-%ED%95%A8%EC%88%98&quot; aria-label=&quot;값을 받아 재개되는 함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;값을 받아 재개되는 함수&lt;/h2&gt;
&lt;p&gt;중단 함수로부터 값을 받아야 하는 경우는 좀 더 복잡하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;token&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Before&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; userId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUserId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 중단 함수&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Got userId: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;userId&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; userName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUserName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 중단 함수&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; userName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;After&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;getUserId&lt;/code&gt; 와  &lt;code class=&quot;language-text&quot;&gt;getUserName&lt;/code&gt; 이라는 두 가지 중단 함수가 있다.
token 이라는 파라미터를 받으면 중단 함수는 특정 값을 반환한다.&lt;/p&gt;
&lt;p&gt;함수가 재개되었다면 결과는 &lt;code class=&quot;language-text&quot;&gt;Result.Success(value)&lt;/code&gt; 가 되며, 이 값을 얻어 사용할 수 있다.
함수가 예외로 재개되었다면 결과는 &lt;code class=&quot;language-text&quot;&gt;Result.Failuer(exception)&lt;/code&gt; 이 되며 이 때는 예외를 던진다.&lt;/p&gt;
&lt;h2 id=&quot;콜스택&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%9C%EC%8A%A4%ED%83%9D&quot; aria-label=&quot;콜스택 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;콜스택&lt;/h2&gt;
&lt;p&gt;코루틴을 재개할 때 콜 스택을 사용할수는 없다.
코루틴을 중단하면 스레드를 반환해 콜스택에 있는 정보가 사라지니까.
그래서 컨티뉴에이션 객체가 콜 스택의 역할을 대신 한다.&lt;/p&gt;
&lt;p&gt;서두에서 언급했듯  호출된 함수의 cont 는 호출한 함수의 cont 를 감싸면서 체인을 형성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;호출 순서&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Continuation 체인&lt;/span&gt;
c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cont &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cont &lt;span class=&quot;token comment&quot;&gt;// 각각 이전 호출자를 참조&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 반환 순서&lt;/span&gt;
c 완료 → b resume → b 완료 → a resume → a 완료&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;중단-함수의-성능&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A4%91%EB%8B%A8-%ED%95%A8%EC%88%98%EC%9D%98-%EC%84%B1%EB%8A%A5&quot; aria-label=&quot;중단 함수의 성능 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;중단 함수의 성능&lt;/h2&gt;
&lt;p&gt;일반적인 함수 대신 중단 함수를 사용하면 비용은 어떻게 될까?
코루틴 내부 구현을 보면 비용이 클 거라 생각하겠지만 실제로는 그렇지 않다.
지역변수를 복사하지 않고 새로운 변수가 메모리 내 특정 값을 가리키게 한다.
컨티뉴에이션 객체를 생성할 때 비용이 어느정도 들지만, 마찬가지로 큰 문제는 아니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABqElEQVR42r2Syy8DURTGB30/EAsSgrCoRCxEWNkQia1FN1hIENV2HpogHiFWQhCxUlSIEGlR2umLir1qIwQL/Cno595pOy0bkYhJvpybme/+zplzDqPjAvhLMf8GVHMhqNJScmFJGi74M1DDijAKQej57EstuVjKH6NK8KCCP0K14EYl70YJfwaDEJL9BhIL6TkXuBB5Qf6wD0Vpk54ToWJDaHDso4nbQKOwjRZuHa0jTgL3gLGIUFh9kldt96PA6gctSgaCPPPhZzCDpzAQE81OL3SsxdC7ew/L4SMGDp7QunIN82YC3Vs36HHF0b97C7Mzhr6dBGqmogQuSkmY948kvkNpprLRMEwzUdQR0Vg+HoFp9hK101FY9u9gP3xAlzMOwfOI+rkrKG3+FJDiMtDF8xcwQ2cSVMsGoCAmhTUlWgGN+VYRzRMetE/soW3Mhc7JHVQ4TqFmU72UfjkXunTxKkOp9BlxAXlwWhv5bvOi2H4Co90LHev/2kMJmkzK0NXLV+RZfGTagS8TzCoobYKGrBSVLmedZGAKCrylocukUhVt9C8X+xMldRJz1E6XrgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/4b408a31e407236aee179777c392489b/37523/cover.png&quot;
        srcset=&quot;/static/4b408a31e407236aee179777c392489b/e9ff0/cover.png 180w,
/static/4b408a31e407236aee179777c392489b/f21e7/cover.png 360w,
/static/4b408a31e407236aee179777c392489b/37523/cover.png 720w,
/static/4b408a31e407236aee179777c392489b/0a867/cover.png 986w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[3장 - Compose 런타임 (The Compose runtime)]]></title><description><![CDATA[Jetpack Compose Internals…]]></description><link>https://www.winter-love.dev/composeinternals/3-the-compose-runtime/</link><guid isPermaLink="false">https://www.winter-love.dev/composeinternals/3-the-compose-runtime/</guid><pubDate>Sun, 07 Dec 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;Jetpack Compose Internals 를 읽고 정리하는 글이다.
어쩌다보니 올해 안에 완독 하겠다는 목표를 세워서 &lt;a href=&quot;https://winter-love.dev/insights/compose-internals&quot;&gt;(관련글)&lt;/a&gt; 열심히 읽는중이다.
이 글의 수준을 다음과 같이 설정했다.
대학생이나 현업 개발자 등 컴포즈를 평소보다 좀 더 깊이 있게 파고들고 싶은 자가 받아들일 수 있을 정도로 쉬운 난이도.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;주당 1챕터씩 작성하려 했으나 1주가 미뤄졌다. 회사 일이 바쁘고 주말에 지침 이슈. &lt;del&gt;(게으름 이슈)&lt;/del&gt; 연말 휴가때 좀 몰아서 읽어야겠다.&lt;/p&gt;
&lt;p&gt;이번 3 장은 Compose Runtime의 핵심 동작 원리를 다룬다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;슬롯 테이블과 변경 목록이 어떻게 composition 상태를 관리하는지&lt;/li&gt;
&lt;li&gt;Composer가 어떻게 변경사항을 기록하고 Applier가 어떻게 이를 실제 트리에 적용하는지&lt;/li&gt;
&lt;li&gt;Recomposer가 어떻게 전체 recomposition 프로세스를 조율하는지 살펴본다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;컴파일러가 코드를 변환하는 방법을 다뤘던 2장과 달리, 이번 장은 런타임에서 실제로 UI가 어떻게 만들어지고 업데이트되는지 메커니즘을 살펴본다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://winter-love.dev/composeinternals/2-the-compose-compiler/&quot;&gt;이전 2장 컴포즈 컴파일러&lt;/a&gt;
도 만만치 않았지만, 이번 3장은 분량이 2배다.
예시코드와 그림들이 전보다 많기 때문에 장수가 더 많아진 감도 있다.
이전 장도 이해하고 요약하기 위해 마음의 준비가 필요했지만, 이번 장은 2배 정도의 노력이 더 필요했다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;슬롯 테이블 (Slot Table):&lt;/strong&gt; Composition의 현재 상태를 저장하는 메모리 구조. 모든 Composable 호출의 위치, 파라미터, 기억된 값 등을 추적.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;변경 목록 (List of Changes):&lt;/strong&gt; 노드 트리에 실제로 적용할 변경사항을 담은 목록. 패치 파일처럼 동작.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;슬롯-테이블과-변경-목록-the-slot-table-and-the-list-of-changes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%AC%EB%A1%AF-%ED%85%8C%EC%9D%B4%EB%B8%94%EA%B3%BC-%EB%B3%80%EA%B2%BD-%EB%AA%A9%EB%A1%9D-the-slot-table-and-the-list-of-changes&quot; aria-label=&quot;슬롯 테이블과 변경 목록 the slot table and the list of changes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;슬롯 테이블과 변경 목록 (The slot table and the list of changes)&lt;/h1&gt;
&lt;p&gt;슬롯 테이블은 composition의 현재 상태를 저장한다.
Composable 호출의 위치, 파라미터, 기억된 값, CompositionLocal 등 모든 정보가 여기 담긴다.&lt;/p&gt;
&lt;p&gt;변경 목록은 실제 노드 트리에 적용할 변경사항이다.
패치 파일처럼 동작한다.&lt;/p&gt;
&lt;p&gt;슬롯 테이블 = 상태 기록, 변경 목록 = 변경 적용.&lt;/p&gt;
&lt;p&gt;Composer가 슬롯 테이블의 정보를 보고 변경 목록을 생성한다.
Applier가 변경 목록을 트리에 적용한다.
Recomposer가 언제, 어디서 할지 결정한다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;갭 버퍼 (Gap Buffer):&lt;/strong&gt; 텍스트 에디터에서 사용하는 자료구조. 데이터 중간에 빈 공간(갭)을 두고, 갭을 이동시키면서 효율적으로 삽입/삭제.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;앵커 (Anchor):&lt;/strong&gt; 슬롯 테이블에서 특정 위치를 가리키는 포인터. 빠른 접근을 위해 사용.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 132.7777777777778%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAACwklEQVR42tWVS08TURzFEUjEhYlxYUx0rcRHxPgF3Llh4fcxhp2s+QQ1JsbQWvqEQkKhuiGtBWtCmjQ8hEIKhXZoO6/O496/5z+2gCg4NTHGSadzJ2nPnN89597p6/ubBxFduujs+1dH98n9W1tbr46OjuK1Wm2y3lBD9aYWqitKsF6vh6vV6ttEInGrS3IhZmc42Gq1crgnwZ/aF6KvCb6V/GXbtjk3N/eg859+X4KHh4dL/GfTIVvPvXb11AvXNHTHsm2paao2MzNzj384NjbmS3CgUqlkWbClakJtKqQqVVI1TZqmSZgKs1fBwWazeYKcfknyzTMSdvs7smX1jnxwcJDtIAvj8yTp6XEyDUM6jkuq2jJjsdh9/mEwGBzwJbi/v591HIcajYYwLAfCkjQgW5ZFiqL0joy5yu3u7lI6nRb5/Cf6+CFDCwsLslQqER6kT09PP49EIk9wXjtTufOR2SH6KLa3t6lQKNDa2prksa7rZjweH45Go1fh9PG5Tk8LoryeIBIVQGURxpeGYfDVhMM7gUBgCAV/5EvwNPLy8jJlMifIKHZ7dnZ2mAWTyeRIN5yfVs1Zh1JKQh8FAiIW2tnZkXt7exyOOTU15TnEHI74cshz2G63CVcBbEIveSxVVeXxaeSncHclHA7fgOvrP7j8FfL8/LyHDHQey2KxyCl7yBMTE5fRx1HeKFi46/bcHnKxsdsI9I7T9hxijaPYau/I2KaynC7mTUCIhb05ZHEgt1Op1N2eQmFkBHKcMnB57CG7rnss6Lc2x7sNHAnsjZw2d1J2AvKQFxcXh7BJ+EOG0BKwaWNjw0Y4LgTdzc1NB3WSeICGlB8C96bvYmNF5NjZ6uqqWF9fp3w+TysrK97SE0LwWh7tuvT1TimXy+NwmUSRQ0g8jHUcxvg9gokg6Xfo3e3f7jZ/8pr9v9/L3wAorHGwx9AzBwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/4116c0c7c14607c1bcf48477d184be33/37523/0.png&quot;
        srcset=&quot;/static/4116c0c7c14607c1bcf48477d184be33/e9ff0/0.png 180w,
/static/4116c0c7c14607c1bcf48477d184be33/f21e7/0.png 360w,
/static/4116c0c7c14607c1bcf48477d184be33/37523/0.png 720w,
/static/4116c0c7c14607c1bcf48477d184be33/302a4/0.png 1080w,
/static/4116c0c7c14607c1bcf48477d184be33/07a9c/0.png 1440w,
/static/4116c0c7c14607c1bcf48477d184be33/08c33/0.png 1570w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;슬롯-테이블-심층-분석-the-slot-table-in-depth&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%AC%EB%A1%AF-%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%8B%AC%EC%B8%B5-%EB%B6%84%EC%84%9D-the-slot-table-in-depth&quot; aria-label=&quot;슬롯 테이블 심층 분석 the slot table in depth permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;슬롯 테이블 심층 분석 (The slot table in depth)&lt;/h1&gt;
&lt;p&gt;슬롯 테이블은 갭 버퍼 개념을 바탕으로 한다.
빠른 선형 접근에 최적화된 데이터 구조다.&lt;/p&gt;
&lt;p&gt;두 개의 배열로 구성된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; groups &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IntArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; slots &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;groups 배열은 그룹 메타데이터를 저장한다. 부모-자식 관계, 그룹 타입 등의 정보다.
slots 배열은 실제 composition 데이터를 저장한다. Any? 타입이므로 모든 종류의 값을 담을 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://winter-love.dev/composeinternals/2-the-compose-compiler/#%EA%B5%90%EC%B2%B4-%EA%B0%80%EB%8A%A5%ED%95%9C-%EA%B7%B8%EB%A3%B9-replaceable-groups&quot;&gt;2장에서 봤듯이 (교체 가능한 그룹)&lt;/a&gt;
컴파일러는 Composable 함수 본문을 그룹으로 감싼다.
그룹은 Composable 함수에 고유 ID를 부여하고 관련 정보를 감싼다.
그룹 타입은 재시작 가능한 그룹, 이동 가능한 그룹, 교체 가능한 그룹, 재사용 가능한 그룹이 있다.
부모 그룹이 먼저 나오고 자식 그룹이 뒤따른다. 선형 구조로 그룹 트리를 모델링한다.&lt;/p&gt;
&lt;p&gt;갭은 테이블에서 이동 가능한 범위 포인터다.
데이터를 읽고 쓸 위치를 결정한다.
조건부 로직에서 조건이 바뀌면 갭이 그룹 시작 위치로 돌아가서 기존 슬롯을 덮어쓴다.&lt;/p&gt;
&lt;p&gt;SlotReader는 테이블에서 데이터를 읽는다. 여러 개의 Reader가 동시에 읽을 수 있다.
SlotWriter는 테이블에 데이터를 쓴다. 하나의 Writer만 활성화될 수 있다.
동시 읽기/쓰기를 막아서 경쟁 상태를 방지한다.
Reader는 방문자처럼 작동한다. 현재 그룹, 위치, 부모, 슬롯 등을 추적하면서 배열을 탐색한다.
Writer는 그룹과 슬롯을 추가, 교체, 이동, 제거한다. 갭을 이동시키면서 어디에 쓸지 결정한다.&lt;/p&gt;
&lt;p&gt;앵커는 특정 인덱스를 가리키는 포인터다. 빠른 접근을 위해 사용된다.
앵커가 가리키는 위치 앞에서 그룹이 이동/교체/삽입/제거되면 앵커도 업데이트된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;변경-목록-the-list-of-changes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%80%EA%B2%BD-%EB%AA%A9%EB%A1%9D-the-list-of-changes&quot; aria-label=&quot;변경 목록 the list of changes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;변경 목록 (The list of changes)&lt;/h1&gt;
&lt;p&gt;Composition이 발생할 때마다 Composable 함수들이 실행되고 방출된다.
방출이란 슬롯 테이블을 업데이트하고, 지연된 변경사항을 생성하는 것이다.
이 변경사항들이 목록 형태로 저장된다.&lt;/p&gt;
&lt;p&gt;새로운 변경 목록은 슬롯 테이블에 이미 저장된 값을 바탕으로 생성된다.
트리의 어떤 변경사항이라도 composition의 현재 상태에 의존하기 때문이다.&lt;/p&gt;
&lt;p&gt;예를 들어 노드를 이동한다고 생각해보자.
테이블에서 해당 노드가 이전에 어디 있었는지 확인하고, 그 위치의 슬롯을 제거한 다음 새 위치에 다시 작성해야 한다.&lt;/p&gt;
&lt;p&gt;Composable 함수가 방출될 때마다 슬롯 테이블을 확인하고, 현재 정보에 따라 지연된 변경사항을 생성하고, 변경 목록에 추가한다.
나중에 composition이 끝나면 변경 목록의 내용들이 실제로 실행되면서 구체화된다.
그때가 슬롯 테이블을 최신 정보로 실제 업데이트하는 순간이다.
실행을 기다리는 작업을 미리 생성해두는 것만으로 방출 과정이 매우 빠르다.&lt;/p&gt;
&lt;p&gt;변경 목록이 적용된 직후, 구체화된 노드 트리를 업데이트하기 위해 Applier에게 알린다.&lt;/p&gt;
&lt;p&gt;Recomposer는 이 과정을 조율한다.
어떤 스레드에서 composition/recomposition 할지, 어떤 스레드에서 변경사항을 적용할지 결정한다.
변경사항을 적용하는 스레드는 LaunchedEffect가 사이드 이펙트를 실행하는 디폴트 컨텍스트가 되기도 한다.&lt;/p&gt;
&lt;p&gt;이제 Composer를 살펴볼 차례다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composer&quot; aria-label=&quot;composer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composer&lt;/h1&gt;
&lt;p&gt;주입된 $composer는 우리가 작성하는 Composable 함수를 Compose Runtime에 연결하는 역할을 한다.
&lt;a href=&quot;https://winter-love.dev/composeinternals/2-the-compose-compiler/#composer-%EC%A3%BC%EC%9E%85%ED%95%98%EA%B8%B0-injecting-the-composer&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$composer&lt;/code&gt;가 어떻게 주입 되는지는 2장에서 자세히 다뤘다.&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composer-키우기-feeding-the-composer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composer-%ED%82%A4%EC%9A%B0%EA%B8%B0-feeding-the-composer&quot; aria-label=&quot;composer 키우기 feeding the composer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composer 키우기 (Feeding the Composer)&lt;/h1&gt;
&lt;p&gt;트리의 메모리 표현에 노드가 어떻게 추가되는지 살펴보자.
Layout Composable을 예로 들 수 있다.
Layout은 Compose UI의 모든 UI 컴포넌트의 기반이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Layout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    modifier&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    measurePolicy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MeasurePolicy
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; density &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; LocalDensity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; layoutDirection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; LocalLayoutDirection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current
    ReusableComposeNode&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        factory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ComposeUiNode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        update &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;measurePolicy&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComposeUiNode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;SetMeasurePolicy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;density&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComposeUiNode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;SetDensity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;layoutDirection&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComposeUiNode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;SetLayoutDirection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        skippableUpdate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;materializerOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;modifier&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        content &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; content
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Layout은 LayoutNode를 composition에 방출하기 위해 ReusableComposeNode를 사용한다.
즉각 노드를 생성하고 추가하는 것처럼 보이지만, 실제로는 “적절한 시기에 노드를 생성, 초기화, 삽입하는 방법”을 런타임에게 가르친다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ReusableComposeNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;noinline&lt;/span&gt; factory&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; T&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    update&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@DisallowComposableCalls&lt;/span&gt; Updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;noinline&lt;/span&gt; skippableUpdate&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; SkippableUpdater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startReusableNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;factory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Updater&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentComposer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// initialization&lt;/span&gt;
    currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startReplaceableGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x7ab4aae9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endReplaceableGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;currentComposer 인스턴스에 모든 것을 위임하는 형태다.
교체 가능한 그룹으로 Composable 함수 본문을 감싼다.
content 람다 내부에서 방출된 모든 자식들은 이 교체 가능한 그룹의 자식으로 저장된다.
다른 모든 Composable 함수도 동일한 방출 작업을 수행한다.
remember를 보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt;  &lt;span class=&quot;token function&quot;&gt;remember&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;calculation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@DisallowComposableCalls&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; T &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;invalid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; calculation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;remember는 제공된 람다가 반환한 값을 composition에 캐싱하기 위해 currentComposer를 사용한다.
invalid 매개변수는 값을 강제로 업데이트한다.&lt;/p&gt;
&lt;p&gt;cache 함수는 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt;  Composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;invalid&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Boolean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; block&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; T &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rememberedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;invalid &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; it &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; Composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Empty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;updateRememberedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            value
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; it
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; T
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 composition(슬롯 테이블)에서 값을 검색한다.
찾을 수 없으면 변경사항을 방출해서 값 업데이트를 예약한다.
있으면 그대로 반환한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;변경-사항-모델링-modeling-the-changes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD-%EB%AA%A8%EB%8D%B8%EB%A7%81-modeling-the-changes&quot; aria-label=&quot;변경 사항 모델링 modeling the changes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;변경 사항 모델링 (Modeling the Changes)&lt;/h1&gt;
&lt;p&gt;currentComposer에 위임된 모든 방출 작업은 Change로 모델링되어 변경 목록에 추가된다.
Change는 현재 Applier와 SlotWriter에 접근할 수 있는 지연된 함수다.
작성자는 한 번에 하나만 활성화될 수 있다는 걸 기억하자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;internal&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typealias&lt;/span&gt; Change &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    applier&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Applier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    slots&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SlotWriter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    rememberManager&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; RememberManager
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 변경사항들은 변경 목록에 추가된다. 다시 말해 기록된다.
“방출”이라는 행위는 본질적으로 이런 Change들을 생성하는 것이다.
Change는 슬롯 테이블에서 노드를 추가, 제거, 교체, 이동할 수 있는 지연된 람다식이며, 결과적으로 Applier에 변경사항을 알린다.
궁극적으로 Applier를 통해 구체화된다.&lt;/p&gt;
&lt;p&gt;따라서 “변경사항 방출”, “변경사항 기록”, “변경사항 스케줄링”은 모두 같은 의미다.
Composition이 끝나면 일련의 Composable 함수들이 호출되고, 모든 변경사항이 기록된다.
그 후 Applier에 의해 모든 변경사항들이 일괄 적용된다.
Composition 자체는 Composition 클래스로 모델링된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;작성-시기-최적화-optimizing-when-to-write&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%91%EC%84%B1-%EC%8B%9C%EA%B8%B0-%EC%B5%9C%EC%A0%81%ED%99%94-optimizing-when-to-write&quot; aria-label=&quot;작성 시기 최적화 optimizing when to write permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;작성 시기 최적화 (Optimizing when to write)&lt;/h1&gt;
&lt;p&gt;새로운 노드를 삽입하는 것은 Composer에게 위임된다.
Composer가 composition에 새로운 노드를 삽입하는 과정에 참여하고 있을 때, Compose는 항상 그 사실을 알고 있다.
이런 경우 Composer는 변경사항을 변경 목록에 추가하지 않는다.
곧바로 슬롯 테이블에 변경사항을 작성한다.
그 외의 경우에는 변경사항이 변경 목록에 기록되고 지연된다.
아직 적용할 시점이 아니기 때문이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;쓰기-및-읽기-그룹-writing-and-reading-groups&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%93%B0%EA%B8%B0-%EB%B0%8F-%EC%9D%BD%EA%B8%B0-%EA%B7%B8%EB%A3%B9-writing-and-reading-groups&quot; aria-label=&quot;쓰기 및 읽기 그룹 writing and reading groups permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;쓰기 및 읽기 그룹 (Writing and reading groups)&lt;/h1&gt;
&lt;p&gt;Composition이 완료되면 &lt;code class=&quot;language-text&quot;&gt;composition.applyChanges()&lt;/code&gt;가 호출된다.
트리를 구체화하고 변경사항이 슬롯 테이블에 기록된다.&lt;/p&gt;
&lt;p&gt;Composer는 데이터, 노드, 그룹 등 다양한 유형의 정보를 작성할 수 있다.
단순화를 위해 궁극적으로 모든 항목은 그룹 형태로 저장된다.
그룹들은 서로 다른 그룹 필드로 차별화된다.&lt;/p&gt;
&lt;p&gt;Composer는 모든 그룹을 “시작”하고 “종료”할 수 있다.
쓰기 작업 중이면 슬롯 테이블에서 “그룹 생성”과 “그룹 제거”를 의미한다.
읽기 작업 중이면 SlotReader가 읽기 포인터를 그룹 외부로 이동한다.&lt;/p&gt;
&lt;p&gt;Composable 트리의 노드는 삽입뿐만 아니라 제거되거나 이동될 수도 있다.
그룹을 제거한다는 것은 그룹과 모든 슬롯을 테이블에서 제거하는 것이다.
Composer는 SlotReader를 재배치하고 해당 그룹을 건너뛰게 하며, 모든 노드를 Applier에서 제거한다.
모든 수정 작업은 일괄 적용을 위해 예약(기록)되어야 한다.
모든 변경사항이 동시에 반영되어야 의미 있기 때문이다.
Composer는 제거된 그룹에 대한 모든 보류 중인 invalidation을 폐기한다.&lt;/p&gt;
&lt;p&gt;모든 그룹이 재시작/교체/이동/재사용 가능한 형태로 분류되는 것은 아니다.
예를 들어 디폴트 값을 둘러싸는 블록도 매우 특정한 그룹으로 분류된다.
&lt;code class=&quot;language-text&quot;&gt;model: Model = remember { DefaultModel() }&lt;/code&gt; 같은 형태다.&lt;/p&gt;
&lt;p&gt;Composer가 그룹을 시작하려고 할 때 다음과 같은 일이 발생한다.
값들을 삽입하는 과정이면 곧바로 슬롯 테이블에 작성한다.
보류 중인 작업이 있으면 변경사항 적용 시 모두 기록한다. 대상 그룹이 이미 존재하면 재사용한다.
그룹이 다른 위치에 있으면(이동됨) 모든 슬롯을 이동하는 동작이 기록된다.
새 그룹이면(테이블에 없음) 삽입 모드로 이동해서 중간 insertTable에 작성한 후 최종 테이블에 삽입을 예약한다.
삽입 중도 아니고 보류 중인 작성 작업도 없으면 그룹 읽기를 시작한다.&lt;/p&gt;
&lt;p&gt;그룹 재사용은 흔하다.
이미 존재하는 노드는 재사용할 수 있다.
Applier에 의해 노드 이동 작업은 발행(기록)하지만, 생성과 초기화 작업은 생략한다.&lt;/p&gt;
&lt;p&gt;노드의 속성에 업데이트가 필요하면 그 업데이트 동작도 Change로 기록된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;값-기억하기-remembering-values&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%92-%EA%B8%B0%EC%96%B5%ED%95%98%EA%B8%B0-remembering-values&quot; aria-label=&quot;값 기억하기 remembering values permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;값 기억하기 (Remembering values)&lt;/h1&gt;
&lt;p&gt;Composer는 값을 composition에 기억하고(슬롯 테이블에 기록), 나중에 업데이트할 수 있다.
마지막 composition으로부터 값이 변경되었는지 비교는 remember 함수가 호출되는 즉시 수행된다.
하지만 업데이트 작업은 Composer가 값을 이미 삽입하는 중이 아니라면 Change로 기록된다.
업데이트할 값이 RememberObserver인 경우 Composer는 암시적 Change도 기록한다.
composition의 기억 작업을 추적하기 위해서다.
나중에 기억하고 있는 모든 값을 다시 잊어야 할 때 사용한다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;RecomposeScope:&lt;/strong&gt; Composition의 나머지 부분과 독립적으로 재구성될 수 있는 영역.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;재구성-범위-recompose-scopes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EA%B5%AC%EC%84%B1-%EB%B2%94%EC%9C%84-recompose-scopes&quot; aria-label=&quot;재구성 범위 recompose scopes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재구성 범위 (Recompose scopes)&lt;/h1&gt;
&lt;p&gt;Composer를 통해 발생하는 또 다른 기능은 스마트 recomposition을 가능하게 하는 범위 재구성이다.
이는 재시작 가능한 그룹과 직접 관련이 있다.
재시작 가능한 그룹이 생성될 때마다 Composer는 RecomposeScope를 생성하고 이를 Composition의 currentRecomposeScope로 설정한다.&lt;/p&gt;
&lt;p&gt;RecomposeScope는 Composable의 recomposition을 수동으로 invalidate하고 트리거하는 데 사용할 수 있다.
invalidate는 &lt;code class=&quot;language-text&quot;&gt;composer.currentRecomposeScope().invalidate()&lt;/code&gt;와 같이 Composer를 통해 요청된다.
재구성을 위해 Composer는 슬롯 테이블을 해당 그룹의 시작 위치에 배치한 다음 재구성 블록을 호출한다.
Composable 함수가 다시 호출되어 한 번 더 방출되므로 Composer에게 테이블의 기존 데이터를 재정의하도록 요청한다.&lt;/p&gt;
&lt;p&gt;Composer는 invalidate된 모든 재구성 범위의 스택을 유지한다.
다음 recomposition에서 트리거되어야 하는 보류 중인 범위들이다.
currentRecomposeScope는 실제로 이 재구성 범위 스택을 통해 생성된다.&lt;/p&gt;
&lt;p&gt;RecomposeScope가 항상 활성화되는 것은 아니다.
Compose가 Composable 함수 내에서 상태 스냅샷 읽기와 관련된 작업을 발견했을 경우에만 발생한다.
이 경우 Composer는 RecomposeScope를 used로 표시한다.
그러면 Composable 함수 끝에 삽입된 “end” 호출이 더 이상 null을 반환하지 않고 뒤따르는 recomposition 람다를 활성화한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// After compiler inserts boilerplate&lt;/span&gt;
&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $composer&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Composer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $changed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startRestartGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    $composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endRestartGroup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateScope&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; next &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $changed &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0b1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;endRestartGroup 함수 호출의 ? 문자 뒤를 보자.
Composer는 재구성이 필요할 때 현재 상위 그룹의 invalidate된 하위 그룹을 모두 recomposition할 수 있다.
그렇지 않은 경우 SlotReader가 그룹을 마지막까지 생략할 수 있다.
(&lt;a href=&quot;https://winter-love.dev/composeinternals/2-the-compose-compiler/#%EB%B9%84%EA%B5%90-%EC%A0%84%ED%8C%8C-comparison-propagation&quot;&gt;2장의 비교 전파 섹션 참고&lt;/a&gt;)&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composer와-사이드-이펙트-sideeffects-in-the-composer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composer%EC%99%80-%EC%82%AC%EC%9D%B4%EB%93%9C-%EC%9D%B4%ED%8E%99%ED%8A%B8-sideeffects-in-the-composer&quot; aria-label=&quot;composer와 사이드 이펙트 sideeffects in the composer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composer와 사이드 이펙트 (SideEffects in the Composer)&lt;/h1&gt;
&lt;p&gt;Composer는 사이드 이펙트도 기록할 수 있다.
사이드 이펙트는 항상 composition 이후에 실행된다.
트리에 대한 변경사항 적용이 완료된 시점에 호출 가능한 함수 형태로 기록된다.
이는 Composable 함수 외부에서 발생하는 이펙트를 나타내므로 Composable의 라이프사이클과 완전히 무관하다.
Composition을 떠날 때 실행 중인 작업을 자동 취소하거나 recomposition에 이펙트를 재시도하는 것 같은 작업은 담당하지 않는다.
이런 유형의 이펙트는 슬롯 테이블에 저장되지 않기 때문에 composition이 실패하면 간단히 폐기된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;compositionlocals-저장-storing-compositionlocals&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#compositionlocals-%EC%A0%80%EC%9E%A5-storing-compositionlocals&quot; aria-label=&quot;compositionlocals 저장 storing compositionlocals permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CompositionLocals 저장 (Storing CompositionLocals)&lt;/h1&gt;
&lt;p&gt;Composer는 CompositionLocals를 등록하고 키를 통해 해당 값을 획득하는 방법을 제공한다.
&lt;code class=&quot;language-text&quot;&gt;CompositionLocal.current&lt;/code&gt; 호출은 이에 의존한다.
CompositionLocals의 Provider(공급자)와 공급되는 값은 모두 슬롯 테이블에 그룹 형태로 저장된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;소스-정보-저장-storing-source-information&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%B3%B4-%EC%A0%80%EC%9E%A5-storing-source-information&quot; aria-label=&quot;소스 정보 저장 storing source information permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;소스 정보 저장 (Storing source information)&lt;/h1&gt;
&lt;p&gt;Composer는 composition 중에 수집된 내용을 CompositionData 형태로 소스 정보를 저장한다.
각종 Compose 툴에서 활용할 수 있도록 하기 위해서다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Subcomposition:&lt;/strong&gt; 독립적인 invalidation을 지원하기 위해 별도로 생성된 composition. 상위 composition과 CompositionContext로 연결됨.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;compositioncontext를-이용한-composition-연결-linking-compositions-via-compositioncontext&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#compositioncontext%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-composition-%EC%97%B0%EA%B2%B0-linking-compositions-via-compositioncontext&quot; aria-label=&quot;compositioncontext를 이용한 composition 연결 linking compositions via compositioncontext permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CompositionContext를 이용한 Composition 연결 (Linking Compositions via CompositionContext)&lt;/h1&gt;
&lt;p&gt;CompositionContext는 단일 composition에는 없지만 composition과 subcomposition 트리에 존재한다.&lt;/p&gt;
&lt;p&gt;Subcomposition은 독립적인 invalidation을 지원하기 위해 현재 컨텍스트에서 별도의 composition을 구성하려는 의도로 생성된 인라인 타입의 composition이다.
상위 CompositionContext 참조를 통해 상위 composition과 연결된다.&lt;/p&gt;
&lt;p&gt;CompositionContext는 composition과 subcomposition을 하나의 트리로 연결하기 위해 존재한다.
CompositionLocal과 invalidation이 마치 단일 composition에 속한 것처럼 투명하게 트리 아래로 전파되는 것을 보장한다.
CompositionContext 자체도 슬롯 테이블에 그룹의 한 유형으로 기록된다.&lt;/p&gt;
&lt;p&gt;Subcomposition은 일반적으로 &lt;code class=&quot;language-text&quot;&gt;rememberCompositionContext&lt;/code&gt;를 통해 생성된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rememberCompositionContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CompositionContext &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;buildContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 함수는 슬롯 테이블의 현재 위치에 새 composition을 기억하거나, 이미 기억된 경우 이를 반환한다.
VectorPainter, Dialog, SubcomposeLayout, Popup 같은 별도의 composition이 필요한 위치에서 subcomposition을 만드는 데 사용된다.
Android View를 Composable 트리에 통합하기 위해 사용하는 wrapper인 AndroidView도 마찬가지다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;현재-상태-스냅샷에-접근--accessing-the-current-state-snapshot&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%98%84%EC%9E%AC-%EC%83%81%ED%83%9C-%EC%8A%A4%EB%83%85%EC%83%B7%EC%97%90-%EC%A0%91%EA%B7%BC--accessing-the-current-state-snapshot&quot; aria-label=&quot;현재 상태 스냅샷에 접근  accessing the current state snapshot permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;현재 상태 스냅샷에 접근  (Accessing the current State snapshot)&lt;/h1&gt;
&lt;p&gt;Composer는 현재 스냅샷에 대한 참조를 가지고 있다.
이는 현재 스레드에 대한 가변적인 상태 및 기타 상태 객체들이 반환하는 값의 스냅샷과 유사하다.
모든 상태 객체는 스냅샷에서 명시적으로 변경되지 않는 한 스냅샷이 생성되었을 때와 동일한 값을 갖는다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;노드-탐색-navigating-the-nodes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%85%B8%EB%93%9C-%ED%83%90%EC%83%89-navigating-the-nodes&quot; aria-label=&quot;노드 탐색 navigating the nodes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;노드 탐색 (Navigating the nodes)&lt;/h1&gt;
&lt;p&gt;노드 트리 탐색은 Applier에 의해 수행되지만 직접적으로 수행되지는 않는다.
구독자에 의해 탐색되는 노드의 모든 위치를 기록하고 downNodes 배열에 기록함으로써 수행된다.
노드 탐색이 실현되면 downNodes에 있는 모든 하향 노드 정보를 Applier에 전달된다.
하향 노드 탐색이 수행되기 전에 상향 노드 탐색이 수행되는 경우에는 downNodes 스택에서 제거하여 탐색 경로를 단축한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;구독자와-작성자의-동기화-유지--keeping-reader-and-writer-in-sync&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B5%AC%EB%8F%85%EC%9E%90%EC%99%80-%EC%9E%91%EC%84%B1%EC%9E%90%EC%9D%98-%EB%8F%99%EA%B8%B0%ED%99%94-%EC%9C%A0%EC%A7%80--keeping-reader-and-writer-in-sync&quot; aria-label=&quot;구독자와 작성자의 동기화 유지  keeping reader and writer in sync permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;구독자와 작성자의 동기화 유지  (Keeping reader and writer in sync)&lt;/h1&gt;
&lt;p&gt;구독자와 작성자의 동기화 유지는 low-level에서 이루어지는 작업이다.
특정 그룹을 삽입, 삭제, 이동할 수 있으므로 작성자의 그룹 위치는 변경사항이 적용될 때까지 일시적으로 구독자의 위치와 다를 수 있다.&lt;/p&gt;
&lt;p&gt;이 차이를 추적하기 위해 델타를 유지 관리한다.
델타는 삽입, 삭제, 이동에 따라 업데이트되며 “작성자와 구독자의 현재 슬롯 위치를 정확하게 일치시키기 위해 이동해야 하는 실현되지 않은 거리”를 반영한다.&lt;/p&gt;
&lt;p&gt;구독자와 작성자 간의 동기화는 Compose Runtime 라이브러리의 ComposerChangeListWriter에서 수행된다.
이 클래스 내에는 writersReaderDelta 변수가 존재하고, 구독자와 작성자 간의 슬롯 위치를 지속적으로 계산하는 함수들이 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; writersReaderDelta&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moveReaderRelativeTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;location&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    writersReaderDelta &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; location &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; reader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentGroup
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moveReaderToAbsolute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;location&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    writersReaderDelta &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; location
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 함수들은 구독자와 작성자 간의 격차를 추적하기 위해 Composer에 의해 지속적으로 호출된다.
그룹 생성이 시작되거나 값에 업데이트가 발생할 때마다 realizeOperationLocation 함수를 실행시켜 거리 간격을 정확하게 일치시킨다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;realizeOperationLocation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;forParent&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Boolean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; location &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;forParent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; reader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parent &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; reader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentGroup
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; location &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; writersReaderDelta
    &lt;span class=&quot;token function&quot;&gt;runtimeCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;distance &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Tried to seek backward&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;distance &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        changeList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pushAdvanceSlotsBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;distance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        writersReaderDelta &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; location
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h1 id=&quot;변경-사항-적용하기-applying-the-changes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0-applying-the-changes&quot; aria-label=&quot;변경 사항 적용하기 applying the changes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;변경 사항 적용하기 (Applying the changes)&lt;/h1&gt;
&lt;p&gt;이번 챕터에서 여러 번 언급했듯이 Applier가 변경사항 적용을 담당한다.
Composer는 이 추상화를 Applier에게 위임하여 composition 이후에 기록된 모든 변경사항을 적용한다.
이것을 “구체화(materializing)“라고 한다.&lt;/p&gt;
&lt;p&gt;이 프로세스는 변경 목록을 실행하고 결과적으로 슬롯 테이블을 업데이트한다.
슬롯 테이블에 저장된 composition 데이터를 해석하여 효과적으로 결과를 생성한다.&lt;/p&gt;
&lt;p&gt;런타임은 Applier의 구현체와 독립적이다.
클라이언트 라이브러리가 구현할 것으로 기대되는 계약에 의존한다.
Applier는 플랫폼과의 통합점과 같으므로 유즈케이스에 따라 인터페이스의 구현체가 전혀 달라질 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; Applier&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;N&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; N
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onBeginChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onEndChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;down&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insertTopDown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; instance&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insertBottomUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; instance&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;from&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;가장 먼저 보이는 것은 N 제네릭 타입 매개변수다.
N 매개변수는 우리가 적용하는 노드의 타입을 결정한다.
이것이 Compose가 제네릭 호출 그래프 또는 노드 트리와 함께 동작할 수 있는 이유다.
사용되는 노드 타입에 대해서는 항상 상호운용이 가능하다.&lt;/p&gt;
&lt;p&gt;Applier는 트리를 탐색하고 노드를 삽입, 제거, 이동하는 작업을 제공한다.
하지만 해당 노드의 타입이나 최종적으로 어떻게 삽입되는지는 관여하지 않는다.
노드 자체에게 위임된다.&lt;/p&gt;
&lt;p&gt;Applier는 현재 노드에서 지정된 범위의 모든 하위 항목을 제거하거나, 하위 항목을 이동시키고 위치를 변경하는 방법도 정의한다.
clear 작업은 루트를 가리키고 트리에서 모든 노드를 제거한다.
Applier와 해당 루트를 향후 새 composition에 사용할 준비를 한다.&lt;/p&gt;
&lt;p&gt;Applier는 모든 노드를 방문하고 적용하면서 전체 트리를 순회한다.
트리는 하향 또는 상향 순회할 수 있다.
Applier는 방문하고 변경사항을 적용하는 현재 노드에 대한 참조를 항상 유지한다.&lt;/p&gt;
&lt;p&gt;Composer가 변경사항 적용을 시작하고 끝낼 때 &lt;code class=&quot;language-text&quot;&gt;onBeginChanges()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;onEndChanges()&lt;/code&gt;를 호출한다.
&lt;code class=&quot;language-text&quot;&gt;insertTopDown()&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;insertBottomUp()&lt;/code&gt;으로 상단에서 하단으로, 또는 하단에서 상단으로 노드를 삽입한다.
&lt;code class=&quot;language-text&quot;&gt;down()&lt;/code&gt;으로 현재 노드의 자식 노드로 이동하고, &lt;code class=&quot;language-text&quot;&gt;up()&lt;/code&gt;으로 현재 노드의 부모로 이동한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;노드-트리-구축-시-성능--performance-when-building-the-node-tree&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%85%B8%EB%93%9C-%ED%8A%B8%EB%A6%AC-%EA%B5%AC%EC%B6%95-%EC%8B%9C-%EC%84%B1%EB%8A%A5--performance-when-building-the-node-tree&quot; aria-label=&quot;노드 트리 구축 시 성능  performance when building the node tree permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;노드 트리 구축 시 성능  (Performance when building the node tree)&lt;/h1&gt;
&lt;p&gt;트리를 하향식으로 작성하는 것과 상향식으로 작성하는 것에는 중요한 차이가 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;하향식 삽입  (Inserting top‑down)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;아래와 같은 트리가 있다고 가정해보자.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 138.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAABYlAAAWJQFJUiTwAAACzklEQVR42tVVzU8TQRTf8qXxDzDReDPKyROx0YvEgwnc1IQ7N/8COdrEgwe9qCQNUChqWyRbS4WuLP2iS+lWSlvaClisoUAhUMpXC2wL1e5zX8vCEgjpwslJJvPb934z++a938wQxH/fVKCqOA2frwGhwKHeVV+FXWqTvxZAcSKZpJ65d3wz2BFLfWU3kiQrcfyw0vtwshCDwGaEn8hM8Yg7BZuUU250RbJ1m2mJwRy8N6tzbXRX7hfMg3Xb3SLlyIqwZ7m/IcLPAJv0895VP49Yv2xslB2htPWt0c+9XDCOHfHFJKMqyURv/dz8idY3S20X0iAzwNy39dvuYXUvtuDBZE3IoNRO9N49f4SieFVExUDKrh7Lhvjv2QkeMdpkC5yEUgWNKappFpbg25StYP/NFBAbN6gmKUeWDh3bnpZZWAQ11ZHrsGpziNEmW4diMVqT2jv+/GQmzE1DJBuFwJ/JNNrkXxRCfnBL5i/mx8bQ11dOjqWdO94hY9D82kSaHhXPcrk5FHPj6nZdpmn6qcViUYo+iqIeWAYHnwinpKasPB7eIlBf1cXoG7U2wy38DECgGjtiHa2r1bi6G4gAUX3mzSPmRJMglc5NT9CXDW3Y06MOdbyzVuS0Ln287cx47D4utDmcZoOahEF5ej6PdFfl5nxsXJCHa8GTT0ASHDsek0gb3mVN6LPHR/Ix4eYZzflZoomoPNie4kR0HYu6G5G/0VXHnLvwou3lnj8dhnA++pMYJC4JP6uJFGJRV4KFt33qPTY5XgjuT6c613qun4zyqGIKNzfunIcVCKR/7OPo3GX1Is2ecRsWIQVj68H9BcGH3FPWOF6QdwvtN21bIxYvF4gPbTE6VfjN1cOdCJjeYHR4lSEHuWcW5tAhnNe69rorGLH0zwd+xTX0CRwgytCjMKkCewmTlcefUfSVtCfllXVSzjpaRd95n1O57R/PrAH+Fhy8uAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/bb176ec8f505adb0b11e3728eaf4ace2/37523/1.png&quot;
        srcset=&quot;/static/bb176ec8f505adb0b11e3728eaf4ace2/e9ff0/1.png 180w,
/static/bb176ec8f505adb0b11e3728eaf4ace2/f21e7/1.png 360w,
/static/bb176ec8f505adb0b11e3728eaf4ace2/37523/1.png 720w,
/static/bb176ec8f505adb0b11e3728eaf4ace2/302a4/1.png 1080w,
/static/bb176ec8f505adb0b11e3728eaf4ace2/11a8f/1.png 1272w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 트리를 하향식으로 구축하려면 먼저 B를 R에 삽입한 다음 A를 B에 삽입하고 마지막으로 C를 B에 삽입한다.
즉, 아래 그림과 같은 순서(좌측에서 우측)로 동작한다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACwklEQVR42rVTzU8TQRwtYggY0aLU8GGUgzHGGBNj4k0T/wgSIgdj4kG9ES9gxHIwXoz2IJoQaRaMbeOEZdd2XUp229kt3WkLFZDyEQFFEDDQj6VUKGki485iEWhNvDDJZibv98ub995v1mDYj4UxLgCjoMiADQV7awQ3m80H/hffKgJQCF6DY1nynRfZ2+1VEMKDO9r1OsHBM1CSn3CJq5DTodsA8ybOxpUBCA4TnFEZI8GZNKzhXtnKnE7nIb1/DpT40v23XHF4Ya8IfflW+9+Ob05jbe+0WCxGhJCuVloJPB3bnMJ9q/1uO2uvCgaDRwiONsJNw5kJ7IuHhrWYcm17VKUlmBzEnoTSbDFbjG7k1gk9Cd9dlAhjqKJWYAUmPsjrhGJKqfNFQ9izrHTlVahlWMT6uevkzLJslfaVZmuswl1r06zSNF2ZtazHITFXGcgY82bI/OipgUtKSw+WK+k39AkggKMEty04y+VY4CEfE88Thdpw9Gzbo2ypdxk9cMfEK3kVDqQj777iBRzeiNgbGxvLshkG1geff8Hz+ON6xNMBOqr9ExO68lBmuPnz5jccWv0U0TIszFEoqsp9cb4PC6q/gTJTWoZbhL2zsMmz4MdeVXlitVpNQljQlQtz0j3hu5QR5+UPtbW1hTkKyYOGeMuOy+WqJlkBhEocnY6zThzWc+Np/iRFUcXUDCy2UbZzAI8WORyOGuAC1bm2NcIs0P2i+3jvoveyFEcDMI5atwdHgYr3c+4zcjzgkxMBm+5sRamTo2hGSEg3/pAe2PX7kd18+mbx0Np4w8yvRTySmoxDHC4nOHlOodRQ/dTGLB5NTq21rXeeGvk5aY/hFB7LTHf9k5AHvIkepythEj12R+X6bJ0DXAUFKaN3xf9IjPvv6L2qdAkmgy/5hHgx77T3bZGbiPxdFv7WtvEdfdvKfgOrUsb0cwiUEQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;&quot;
        src=&quot;/static/434146ece8a02d8c9abdafc06d48ddbd/37523/2.png&quot;
        srcset=&quot;/static/434146ece8a02d8c9abdafc06d48ddbd/e9ff0/2.png 180w,
/static/434146ece8a02d8c9abdafc06d48ddbd/f21e7/2.png 360w,
/static/434146ece8a02d8c9abdafc06d48ddbd/37523/2.png 720w,
/static/434146ece8a02d8c9abdafc06d48ddbd/302a4/2.png 1080w,
/static/434146ece8a02d8c9abdafc06d48ddbd/07a9c/2.png 1440w,
/static/434146ece8a02d8c9abdafc06d48ddbd/78ed4/2.png 2566w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;상향식 삽입 (Inserting bottom‑up)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;트리의 상향식 구축은 A와 C를 B에 삽입한 다음, B 트리를 R에 삽입하는 것으로 시작된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAClUlEQVR42rVTz2vTcBTv7OZ0mw42XQc6GU4U/wAVERxe9OJOssME8eZJYV5FiEdRBgpD6Xao3cDBF7o2TU3aJWn6I+m6Lq61blW7TUXUNmtWarUrOOGZb2ak+5GL4IMv7+Xx4ZP3Pu89i+V/mSzLDdpr2ppLpVLNO+Fpmm4UBKHFlNButzeMj4/vx7EGrMfeITj2kBxnMzA4DwB1OPZ6vU1jrrEOHBu5Tcap4p3gaszhXvR3+ZCvE+emlPBNfkVkptTQSfzNMEw3Qmg3jlk1epcvSM9Qyd+2jZQFuXVWTavz5UWIr70aGO4lWnqBqE+WFxKfQIGZauqW3iZP92A/A5n2ueJ8IVNZAhkyl/8QWi21zFw+PBjMSSMoSx8kSdLWb7FY/W+5QUGN2T1h33mMcddUqFV+O6hII17wNm2tcEMTwXvAI3pOoH5kJWPkMX5VGphMvTiud7AcvBKoRM5oZJ14GDjnCrg6MH5HDfsBWQVV9AmK+HEiO9kTUqafLsNniJYSjokq0y2ps7/i5eQP6s3UJX36IDdwSpRiv0Te85DQSQkgdv0l9IC4b+bbXD798x3wJfGif4kbjBTiwK2IxDCgFiEnLfF5MUMl/acxfhrStnhpTklWMiCvv9Y1RFpRmzRkS9Kp6HqibwgN7aUo6lAAUs0EbKxPAALNj4FudE+4u5Amvv3G/VY6y/Wx+ehV5yPnEdPVMfbL5XId1tsgtDbAUmeAydHnNmY1dDakTo/68uxRfZi56BCjRK5tIzU0wIS4wlqA4YknDzuSlQVKhe/wsrpwj6uKFz7AV0ivZXOjJdRmWqEZ4aTT2c4q4etCIRYPlCPnUBG1hotxOlSUHpieIG4T37DZvZtq9a+GCY1n6Fv7k98hwrPmcxMu5wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;3&quot;
        title=&quot;&quot;
        src=&quot;/static/cf97a607676ef4497f404bdd62879df1/37523/3.png&quot;
        srcset=&quot;/static/cf97a607676ef4497f404bdd62879df1/e9ff0/3.png 180w,
/static/cf97a607676ef4497f404bdd62879df1/f21e7/3.png 360w,
/static/cf97a607676ef4497f404bdd62879df1/37523/3.png 720w,
/static/cf97a607676ef4497f404bdd62879df1/302a4/3.png 1080w,
/static/cf97a607676ef4497f404bdd62879df1/07a9c/3.png 1440w,
/static/cf97a607676ef4497f404bdd62879df1/81a70/3.png 2616w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;하향식과 상향식의 트리 작성 성능은 상당히 다를 수 있다.
사용되는 Applier의 구현체에 따라 성능의 결과가 달라지며, 일반적으로 새 하위 항목이 삽입될 때마다 알림을 받아야 하는 노드 수에 따라 달라진다.&lt;/p&gt;
&lt;p&gt;Compose로 표현하려는 그래프에 노드가 삽입될 때마다 노드의 모든 상위 항목에 알려야 한다고 상상해보자.
하향식 삽입의 경우는 수많은 노드(부모 노드, 부모의 부모 노드 등 먼 조상까지)에게 알려야 할지도 모른다.
그래프에 새로운 깊이가 추가될 때마다 변경사항을 알려야 할 노드가 기하급수적으로 증가한다.&lt;/p&gt;
&lt;p&gt;대신 상향식 삽입의 경우 부모가 아직 트리에 연결되어 있지 않기 때문에 언제나 직속 부모 노드에게만 알린다.
자식 노드에게만 변화를 알리는 형태의 전략을 취한다면 노드의 변화를 알리기 위한 비용을 많이 절감시킬 수 있다.&lt;/p&gt;
&lt;p&gt;따라서 전략은 표현하고 있는 트리에 따라서, 혹은 변경사항들이 트리의 위쪽이나 아래쪽에 어떻게 알려져야 하는지에 따라서 달라질 수 있다.
핵심은 노드 삽입 전략을 둘 다 선택해서는 안 되고, 단 하나만을 선택해야 한다는 것이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;변경-사항이-적용되는-방식-how-changes-are-applied&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD%EC%9D%B4-%EC%A0%81%EC%9A%A9%EB%90%98%EB%8A%94-%EB%B0%A9%EC%8B%9D-how-changes-are-applied&quot; aria-label=&quot;변경 사항이 적용되는 방식 how changes are applied permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;변경 사항이 적용되는 방식 (How changes are applied)&lt;/h1&gt;
&lt;p&gt;클라이언트 라이브러리는 Applier 인터페이스에 대한 구현을 제공한다.
그중 하나가 Android UI에서 사용되는 UiApplier다.
UiApplier는 “노드 적용”의 의미를 내포하며, 디바이스 스크린에서 볼 수 있는 구성 요소를 어떻게 생성하는지 보여주는 완벽한 예시다.&lt;/p&gt;
&lt;p&gt;구현체를 살펴보면 별로 거창하지 않다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;internal&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UiApplier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    root&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; LayoutNode
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; AbstractApplier&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;LayoutNode&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;root&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insertTopDown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; instance&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; LayoutNode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Ignored.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insertBottomUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; instance&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; LayoutNode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; instance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;from&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;from&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onClear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        root&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onEndChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onEndChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;root&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;owner &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; AndroidComposeView&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearInvalidObservations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;가장 먼저 볼 수 있는 것은 Applier 인터페이스의 제네릭 타입 N이 LayoutNode로 바뀌었다는 것이다.
이는 렌더링될 UI 노드를 나타내기 위해 Compose UI가 선택한 노드 타입이다.&lt;/p&gt;
&lt;p&gt;다음으로 주목해야 할 점은 AbstractApplier를 상속받는 형태다.
이는 방문한 노드를 스택에 저장하는 기본 구현체다.
트리 하단에서 새 노드를 방문할 때마다 스택에 추가하고, 방문자가 위로 이동할 때마다 마지막으로 방문한 노드를 스택 상단에서 제거한다.
일반적으로 여러 Applier 간에 공통적으로 사용되는 스펙이기 때문에 추상 클래스로 만든 것이다.&lt;/p&gt;
&lt;p&gt;Android의 경우 노드 삽입이 상향식으로만 수행되기 때문에 UiApplier에서 insertTopDown이 무시되는 것을 확인할 수 있다.
노드 선택 전략은 둘 중 하나를 선택하는 것이 중요하다.
이 경우 새 하위 항목이 삽입될 때마다 중복되는 노드 알림을 방지하려면 상향식 전략이 더 적합하다.&lt;/p&gt;
&lt;p&gt;노드를 삽입, 제거, 이동하는 방법은 모두 노드 자체에 위임된다.
LayoutNode는 Compose UI가 UI 노드를 모델링하는 방법이므로 상위 노드와 하위 노드에 관한 모든 것을 알고 있다.
노드를 삽입한다는 것은 해당 노드를 주어진 위치의 새 부모 노드에 연결하는 것을 의미한다.
노드를 이동한다는 것은 본질적으로 부모 노드의 자식 노드들을 재정렬하는 것을 의미한다.
노드를 제거한다는 것은 단순히 목록에서 해당 노드를 제거하는 것을 의미한다.&lt;/p&gt;
&lt;p&gt;변경사항 적용이 끝나면 &lt;code class=&quot;language-text&quot;&gt;onEndChanges()&lt;/code&gt;를 호출할 수 있다.
이는 최종적인 요구사항을 루트 노드 소유자에게 위임한다.
변경사항을 적용하기 전에 항상 &lt;code class=&quot;language-text&quot;&gt;onBeginChanges()&lt;/code&gt;가 먼저 호출된다고 가정되므로 &lt;code class=&quot;language-text&quot;&gt;onEndChanges()&lt;/code&gt;는 마지막에 호출해야 한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;onEndChanges()&lt;/code&gt;가 호출된 시점에서 모든 보류 중인 무효화된 관찰들이 해제된다.
이 스냅샷 관찰들은 읽고 의존하는 값이 변경될 때 자동으로 레이아웃이나 화면에 그리는 작업을 다시 호출하기 위한 것이다.
트리에서 노드가 추가되거나 삽입되거나 교체되거나 이동되는 것이 레이아웃 크기의 측정이나 구성 등에 어떻게 영향을 미칠 수 있는지 생각해보자.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;노드-연결-및-그리기-attaching-and-drawing-the-nodes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%85%B8%EB%93%9C-%EC%97%B0%EA%B2%B0-%EB%B0%8F-%EA%B7%B8%EB%A6%AC%EA%B8%B0-attaching-and-drawing-the-nodes&quot; aria-label=&quot;노드 연결 및 그리기 attaching and drawing the nodes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;노드 연결 및 그리기 (Attaching and drawing the nodes)&lt;/h1&gt;
&lt;p&gt;트리에 노드를 삽입하면 어떻게 화면에 나타날까?
노드는 스스로 연결하고 그리는 방법을 알고 있다.&lt;/p&gt;
&lt;p&gt;UiApplier가 LayoutNode에게 삽입을 위임하면 다음 순서로 진행된다.
조건 확인 (부모 노드 없는지 등), Z 인덱스 정렬된 자식 목록 invalidate, 부모 노드와 Owner에 연결, invalidate 수행.&lt;/p&gt;
&lt;p&gt;Owner는 트리의 루트에 존재한다.
Composable 트리를 안드로이드 뷰 시스템과 연결하는 통합 계층이다.
AndroidComposeView(표준 View)로 구현된다.
모든 레이아웃, 그리기, 입력, 접근성은 Owner를 통해 연결된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACKUlEQVR42mNgoAv4/58RRCnO/ixuvfJPrdO6P3WOa//UWq743WKy6KcOWE39fybiDYQq1l77U997//9/6af//08/9e9P0Kn//y02/4kGydnv/89Cukt3/udmuPzfVOnIfy/Dg1+DGc78N+c5918U2RfE+ZiBAaz4NWeS1H+hgt7/qtVT/+rWzfwvVjT1J3+2EURNPRMJBkIUv1Ro0v+rM+nff6uZ///ZzPzz33j2/88qbWAv/7evZyHBQIh3NkyeI3U2tMvjPkOs5m3WOO1LNrX227pm60F8jMfL/xlCmUH0c9mK8PfKdcc/abdu/6TVsuedWv2WHRbJQsiufqZe2/FJrfkYUM22zxotB1/KVfdjGgh1/lu5qtL/xpP/f7fs//XXbur/b6rN746LRYiD5M4wpLGC6A+yNWv+W0z7/92q/8d/2+n/P8rXHcRMJUDb6+3tWWYyMLCuyGs0nWuTKLosuVJvkW+OYj0DA1M91HWrGBiYJwqZ8a3KbrScyKDCtyKz1nRBaKE0UIqxHjmSHitXxL437fj60ab3xXuzzpvn5HK13hm2Hv1g0/vyg0X37xdaDYXreAOE3+u3vfpo0/f8vVXPq0fKlbnvjNsufbDte/nOvPPXU/WaKLiBz5SqTD7otXYBNbS+0WqsuyKaJfFWq6H4vX572wedlr7n6tUOi8Rdud/rNLd81Gtteafb3HFfvtzhjXZj1Xu9ttZ32i29z5RrjWmSbQGL/PrNKxYmiAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;4&quot;
        title=&quot;&quot;
        src=&quot;/static/c65103cb98020ebdff04da2997ed8ae7/37523/4.png&quot;
        srcset=&quot;/static/c65103cb98020ebdff04da2997ed8ae7/e9ff0/4.png 180w,
/static/c65103cb98020ebdff04da2997ed8ae7/f21e7/4.png 360w,
/static/c65103cb98020ebdff04da2997ed8ae7/37523/4.png 720w,
/static/c65103cb98020ebdff04da2997ed8ae7/302a4/4.png 1080w,
/static/c65103cb98020ebdff04da2997ed8ae7/07a9c/4.png 1440w,
/static/c65103cb98020ebdff04da2997ed8ae7/84bc0/4.png 3176w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;LayoutNode는 Owner와 연결되어야 화면에 나타난다.
Owner는 setContent 호출 시 설정된다.
Activity, Fragment, ComposeView에서 setContent를 호출하면 AndroidComposeView가 생성되어 View 계층에 연결되고 Owner로 설정된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composition&quot; aria-label=&quot;composition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composition&lt;/h1&gt;
&lt;p&gt;Composer가 Composition에 대한 참조를 가지고 있어서 Composer가 Composition을 생성하고 소유한다고 생각할 수 있다.
하지만 실제로는 그 반대다.
Composition이 생성되면 Composer는 스스로 구축한다.
Composer는 currentComposer 메커니즘을 통해 접근할 수 있으며, Composition이 관리하는 트리를 생성하고 업데이트하는 데 사용된다.&lt;/p&gt;
&lt;p&gt;클라이언트 라이브러리는 두 가지 진입점을 통해 Jetpack Compose Runtime에 접근한다.&lt;/p&gt;
&lt;p&gt;Composable 함수 작성: 관련된 모든 정보를 방출하고 런타임과 연결한다.
setContent: 대상 플랫폼과의 통합 계층. Composition이 생성되고 시작된다. Composable 함수는 Composition 프로세스 없이는 실행되지 않기 때문에 필요하다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composition-생성하기-creating-a-composition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composition-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0-creating-a-composition&quot; aria-label=&quot;composition 생성하기 creating a composition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composition 생성하기 (Creating a Composition)&lt;/h1&gt;
&lt;p&gt;Android에서는 &lt;code class=&quot;language-text&quot;&gt;ViewGroup.setContent&lt;/code&gt; 호출로 새 composition을 생성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doSetContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    owner&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; AndroidComposeView&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    parent&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CompositionContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Composition &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; original &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Composition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;UiApplier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;root&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; wrapped &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;WrappedComposition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; original&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    wrapped&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; wrapped
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;WrappedComposition은 Composition을 AndroidComposeView에 연결하는 데코레이터다.
안드로이드 Context 정보를 CompositionLocal로 제공한다.
UiApplier는 트리의 루트 LayoutNode를 가리킨다.
클라이언트 라이브러리가 Applier 구현을 선택한다.&lt;/p&gt;
&lt;p&gt;VectorPainter는 자신만의 Composition을 생성한다.
VectorApplier를 사용하며 벡터 트리의 루트 노드(VNode)를 가리킨다.
SubcomposeLayout도 자체 Composition을 유지한다. 측정 단계에서 내용을 하위 구성할 수 있다.&lt;/p&gt;
&lt;p&gt;상위 CompositionContext를 전달하면 새 composition을 기존 composition에 논리적으로 연결한다.
invalidation과 CompositionLocal이 전체에서 동일하게 작동한다.
recomposition 컨텍스트로 변경사항을 적용할 CoroutineContext를 지정할 수 있다.
제공하지 않으면 EmptyCoroutineContext가 사용된다.&lt;/p&gt;
&lt;p&gt;Composition은 더 이상 필요하지 않으면 &lt;code class=&quot;language-text&quot;&gt;composition.dispose()&lt;/code&gt;로 폐기해야 한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;초기-composition-과정-the-initial-composition-process&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B4%88%EA%B8%B0-composition-%EA%B3%BC%EC%A0%95-the-initial-composition-process&quot; aria-label=&quot;초기 composition 과정 the initial composition process permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;초기 Composition 과정 (The initial Composition process)&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;composition.setContent(content)&lt;/code&gt;가 호출되면 슬롯 테이블이 데이터로 채워진다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;composable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; content
    parent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;composeInitial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; composable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;상위로 계속 위임하다가 결국 Recomposer가 초기 composition을 수행한다.&lt;/p&gt;
&lt;p&gt;모든 State 객체의 현재 값을 스냅샷으로 취합한다.
이 스냅샷은 가변적이지만 동시성에 안전하다.
State 변경사항은 해당 객체에만 발생하고 나중에 전역 상태와 원자적으로 동기화된다.
&lt;code class=&quot;language-text&quot;&gt;snapshot.enter(block)&lt;/code&gt; 안에서만 State 값 수정 가능하다.
Recomposer는 State 읽기/쓰기 관찰자를 전달해서 composition에 알린다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;composition.composeContent(content)&lt;/code&gt;가 실행되고 Composer가 실제 composition을 수행한다.
완료되면 &lt;code class=&quot;language-text&quot;&gt;snapshot.apply()&lt;/code&gt;로 변경사항을 전역 상태에 전파한다.&lt;/p&gt;
&lt;p&gt;진행 중이면 재진입 불가. 보류 중인 invalidation을 복사하고, isComposing을 true로 설정한다.
&lt;code class=&quot;language-text&quot;&gt;startRoot()&lt;/code&gt; → &lt;code class=&quot;language-text&quot;&gt;startGroup&lt;/code&gt; → content 람다 호출 → &lt;code class=&quot;language-text&quot;&gt;endGroup&lt;/code&gt; → &lt;code class=&quot;language-text&quot;&gt;endRoot()&lt;/code&gt; 순으로 진행한다.
완료 후 &lt;code class=&quot;language-text&quot;&gt;isComposing&lt;/code&gt;을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 변경하고 임시 데이터를 삭제한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;초기-composition-후-변경-사항-적용-applying-changes-after-initial-composition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B4%88%EA%B8%B0-composition-%ED%9B%84-%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD-%EC%A0%81%EC%9A%A9-applying-changes-after-initial-composition&quot; aria-label=&quot;초기 composition 후 변경 사항 적용 applying changes after initial composition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;초기 Composition 후 변경 사항 적용 (Applying changes after initial Composition)&lt;/h1&gt;
&lt;p&gt;초기 composition 이후 Applier는 &lt;code class=&quot;language-text&quot;&gt;composition.applyChanges()&lt;/code&gt; 프로세스 중에 기록된 모든 변경사항을 적용하라는 알림을 받는다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;applier.onBeginChanges()&lt;/code&gt;를 호출하고 모든 변경사항을 실행한다.
필요한 Applier와 SlotWriter 인스턴스를 각 변경사항에 전달한다.
마지막으로 모든 변경사항이 적용된 후 &lt;code class=&quot;language-text&quot;&gt;applier.onEndChanges()&lt;/code&gt;를 호출한다.&lt;/p&gt;
&lt;p&gt;등록된 모든 RememberedObserver를 전달하므로 RememberObserver 계약을 구현하는 모든 클래스는 composition에 들어가거나 나갈 때 알림을 받을 수 있다.
&lt;code class=&quot;language-text&quot;&gt;LaunchedEffect&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;DisposableEffect&lt;/code&gt; 같은 항목이 RememberedObserver를 구현하므로 composition 내의 Composable 수명 주기에 대한 이펙트를 제한할 수 있다.&lt;/p&gt;
&lt;p&gt;그 직후 모든 사이드 이펙트들은 기록된 순서대로 실행된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composition에-대한-추가-정보-additional-information-about-the-composition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composition%EC%97%90-%EB%8C%80%ED%95%9C-%EC%B6%94%EA%B0%80-%EC%A0%95%EB%B3%B4-additional-information-about-the-composition&quot; aria-label=&quot;composition에 대한 추가 정보 additional information about the composition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composition에 대한 추가 정보 (Additional information about the Composition)&lt;/h1&gt;
&lt;p&gt;Composition은 보류 중인 invalidation을 인지하고 있다.
&lt;code class=&quot;language-text&quot;&gt;isComposing&lt;/code&gt; 플래그로 현재 composition 수행 중인지 알고 있어서 invalidation을 즉시 적용하거나 연기할 수 있다.&lt;/p&gt;
&lt;p&gt;런타임은 ControlledComposition에 의존한다.
Recomposer가 invalidation과 recomposition을 조율할 수 있게 해준다.&lt;/p&gt;
&lt;p&gt;Composition은 관찰 중인 객체들이 변경되면 recomposition을 강제할 수 있다.
상위 composition에서 CompositionLocal이 변경되면 하위 composition도 recomposition된다.&lt;/p&gt;
&lt;p&gt;오류 발견 시 composition을 중단하고 Composer를 재설정한다.
currentRecomposeScope가 recomposition을 요구하지 않으면 건너뛴다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;recomposer-the-recomposer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#recomposer-the-recomposer&quot; aria-label=&quot;recomposer the recomposer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recomposer (The Recomposer)&lt;/h1&gt;
&lt;p&gt;Recomposer는 ControlledComposition을 제어한다.
필요할 때 recomposition을 트리거하고 변경사항들을 적용한다.
composition이나 recomposition할 스레드와 변경사항을 적용할 스레드를 결정한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;recomposer-생성-spawning-the-recomposer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#recomposer-%EC%83%9D%EC%84%B1-spawning-the-recomposer&quot; aria-label=&quot;recomposer 생성 spawning the recomposer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recomposer 생성 (Spawning the Recomposer)&lt;/h1&gt;
&lt;p&gt;루트 composition의 부모가 Recomposer가 된다.&lt;/p&gt;
&lt;p&gt;Android의 &lt;code class=&quot;language-text&quot;&gt;ViewGroup.setContent&lt;/code&gt;를 호출하면 WindowRecomposerFactory가 Recomposer를 생성한다.
생성된 Recomposer는 수명 주기를 인식해서 뷰 트리가 연결되지 않으면 취소된다.&lt;/p&gt;
&lt;p&gt;AndroidUiDispatcher는 Choreographer와 메인 Looper의 핸들러와 연결된다.
MonotonicFrameClock과도 연결되어 프레임 렌더링을 조정한다.&lt;/p&gt;
&lt;p&gt;PausableMonotonicFrameClock을 생성한다.
Window가 보이지 않을 때 이벤트 전달을 일시 중지할 수 있다.&lt;/p&gt;
&lt;p&gt;Recomposer 인스턴스화 시 CoroutineContext를 제공한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; contextWithClock &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentThreadContext &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pausableClock &lt;span class=&quot;token operator&quot;&gt;?:&lt;/span&gt; EmptyCoroutineContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; recomposer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Recomposer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;effectCoroutineContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; contextWithClock&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 컨텍스트는 변경사항을 적용하고 &lt;code class=&quot;language-text&quot;&gt;LaunchedEffect&lt;/code&gt;에서 이펙트를 실행하는 데 사용된다.&lt;/p&gt;
&lt;p&gt;뷰 트리 수명 주기에 관찰자를 연결한다.
&lt;code class=&quot;language-text&quot;&gt;onCreate&lt;/code&gt; 시 &lt;code class=&quot;language-text&quot;&gt;recomposer.runRecomposeAndApplyChanges()&lt;/code&gt;로 recomposition 작업을 시작한다.
&lt;code class=&quot;language-text&quot;&gt;onStart&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;onStop&lt;/code&gt; 시 이벤트 재개/일시 중지, &lt;code class=&quot;language-text&quot;&gt;onDestroy&lt;/code&gt; 시 Recomposer 종료.&lt;/p&gt;
&lt;p&gt;이 함수는 invalidation을 기다리고 recomposition한 후 변경사항을 적용한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;recomposition-프로세스-recomposition-process&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#recomposition-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-recomposition-process&quot; aria-label=&quot;recomposition 프로세스 recomposition process permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recomposition 프로세스 (Recomposition process)&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;recomposer.runRecomposeAndApplyChanges()&lt;/code&gt; 호출 시 invalidation을 기다리다가 발생하면 자동으로 recomposition한다.&lt;/p&gt;
&lt;p&gt;먼저 변경사항 전파 프로세스에 관찰자를 등록한다.
상태 변경 시 자동으로 recomposition을 트리거한다.&lt;/p&gt;
&lt;p&gt;Recomposer는 모든 Composition을 invalidate하고 모든 것이 변경되었다고 가정한다.
이전 변경사항은 추적되지 않았으니 처음부터 기록한다.
보류 중인 invalidation이 유입될 때까지 작업을 지연한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;parentFrameClock.withFrameNanos {}&lt;/code&gt;를 호출하고 다음 프레임을 기다린다.
블록 내에서 모노리틱 클럭 프레임을 애니메이션 같은 대기자에게 전달한다.
이로 인해 새로운 invalidation이 발생할 수 있다.&lt;/p&gt;
&lt;p&gt;보류 중인 모든 스냅샷에 대해 invalidation을 수행한다.
마지막 recomposition 이후 수정된 모든 상태 값을 가져와 보류 중인 recomposition으로 기록한다.&lt;/p&gt;
&lt;p&gt;각 composition에 대해 recomposition을 수행하고 변경사항 적용을 보류 목록에 추가한다.
Recomposition은 Composition 상태(슬롯 테이블)와 구체화된 트리(Applier)에 필요한 모든 변경을 다시 계산하는 것이다.
값 변경으로 다시 composition을 수행해야 하는 잠재적인 recomposition을 찾아내고 작업으로 예약한다.
적용할 변경사항이 있는 모든 Composition을 검토하고 &lt;code class=&quot;language-text&quot;&gt;composition.applyChanges()&lt;/code&gt;를 호출한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;recomposition의-동시성-concurrent-recomposition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#recomposition%EC%9D%98-%EB%8F%99%EC%8B%9C%EC%84%B1-concurrent-recomposition&quot; aria-label=&quot;recomposition의 동시성 concurrent recomposition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recomposition의 동시성 (Concurrent recomposition)&lt;/h1&gt;
&lt;p&gt;Recomposer는 recomposition을 동시에 수행할 수 있는 기능이 있다.
Compose UI는 이 기능을 사용하지 않지만 다른 클라이언트 라이브러리는 필요에 따라 사용할 수 있다.
&lt;code class=&quot;language-text&quot;&gt;runRecomposeConcurrentlyAndApplyChanges&lt;/code&gt; 함수로 recomposition을 동시에 대응할 수 있다.
상태 스냅샷 invalidation을 기다리고 자동으로 recomposition을 트리거하는 suspend 함수다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;runRecomposeConcurrentlyAndApplyChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    recomposeCoroutineContext&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CoroutineContext
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;runRecomposeAndApplyChanges&lt;/code&gt;와의 차이점은 외부에서 제공되는 CoroutineContext를 사용하여 invalidation된 Composition의 recomposition을 수행한다는 점이다.&lt;/p&gt;
&lt;p&gt;전달된 컨텍스트로 자체 CoroutineScope를 생성하고 이를 사용하여 필요한 모든 recomposition을 동시에 수행하기 위한 하위 작업을 생성하고 조정한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;recomposer의-상태-recomposer-states&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#recomposer%EC%9D%98-%EC%83%81%ED%83%9C-recomposer-states&quot; aria-label=&quot;recomposer의 상태 recomposer states permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recomposer의 상태 (Recomposer states)&lt;/h1&gt;
&lt;p&gt;Recomposer는 수명 주기를 나타내는 일련의 상태를 갖는다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; State &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ShutDown&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    ShuttingDown&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Inactive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    InactivePendingWork&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Idle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    PendingWork
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;각 상태의 의미는 다음과 같다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ShutDown&lt;/strong&gt;: Recomposer가 취소되고 정리 작업이 완료되었다. 더 이상 사용할 수 없다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ShuttingDown&lt;/strong&gt;: Recomposer가 취소되었지만 여전히 정리 작업 중이다. 더 이상 사용할 수 없다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Inactive&lt;/strong&gt;: Recomposer는 Composer의 invalidation을 무시하고 recomposition을 트리거하지 않는다. Recomposition 관찰을 시작하려면 &lt;code class=&quot;language-text&quot;&gt;runRecomposeAndApplyChanges&lt;/code&gt;를 호출해야 한다. 생성 후 Recomposer의 초기 상태다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;InactivePendingWork&lt;/strong&gt;: Recomposer가 비활성 상태이지만 이미 프레임을 기다리는 보류 중인 이펙트가 있을 가능성이 있다. 프레임은 Recomposer가 실행을 시작하자마자 생성된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Idle&lt;/strong&gt;: Recomposer가 composition 및 스냅샷 invalidation을 추적하고 있지만 현재 수행할 작업이 없다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PendingWork&lt;/strong&gt;: Recomposer가 보류 중인 작업에 대해 알림을 받았으며 이미 작업을 수행 중이거나 수행할 기회를 기다리고 있다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVR42k1TaWsTURTNLxZEFCnFVrStYhdtFeqC2FZEBa3d0i1ts0ySyUz2ZJLZskwmW1P9Ivj5eO4Lgh8u83jz3nnnnnNupFNNolW+RNjModfU0WtkMHLSaJpnqGWj8PmvYZzALcZU9RtJ9KzM9CxL7gpGaOfglhKIBPzZracJpKNT13goh4GTg1eOwytdqb12LYVWNY42Lw5dA33H5PmsAgysNAKuQ669chKRgZvH0CugzxcGdhY33SquOxWMvDzGfh43QU1Vn/+GPDvwigqwS3C5M/KLEIwegVtVDZGRncbE1/mChoZ5irp+TGYXZJ0iCw0W27XzZ/jZyasae1nVhTzQNI5R0fZh6UeoZQ7R0KNk6Oi49nOI7e9gaf4uVhZmsP5sXq3l+/rFIrbfrOLP2MKkTYZsObRNxSgkqGgnrQsBnzJFZGPsZnG+t41E9BMcCn/2YwvG1S4Z0xidhpRomp2hBKZqV7WsOtDJVB4wEFBrv5JCpFc+x8jW8PXDOt6/eko2K2Q2h5fL83i78USt15Zm8Wj2NnXN4aZlqET0qZsAt8lKjBlQc08AQzo0cjIoJPZgxndR1A7QtTTEo59R0g5hF2JInnxR+v4KiqomLRMjN6uYqeIDARkrl8NmlkLr+L7zCgsP7mB1cQZz92/h47s1bD5/jI3lh9TzHrY2l/F7WKWOJs9PE6Gy29CVSV22rAB71UsMJKx1Uq8n0K7ElatyqU/d/PIFgxtXJS6PXIaauocOW6Y5cj5gjoduYdqy6DCQHDLMYZPCt8sqhxLUgWNg0qmqkjRI3v7lTqZDBVpCToaipVuky0JVJmBqfXqaMQL3rBS6Ne430mocg7qMnDadDFa7FENA1kFNgKcT48no+cULuBQ8+G+UupUYHIbWNk/gmPwaUbiFU65PGN4jWOl91FO7sJLf4OkHZJeAjHDTjOEvGExu+FyBF9kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png&quot;
        srcset=&quot;/static/5314d2a18f59617ee9c2723cac41e942/e9ff0/cover.png 180w,
/static/5314d2a18f59617ee9c2723cac41e942/f21e7/cover.png 360w,
/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2장 - Compose 컴파일러 (The Compose compiler)]]></title><description><![CDATA[Jetpack Compose Internals…]]></description><link>https://www.winter-love.dev/composeinternals/2-the-compose-compiler/</link><guid isPermaLink="false">https://www.winter-love.dev/composeinternals/2-the-compose-compiler/</guid><pubDate>Sun, 23 Nov 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;Jetpack Compose Internals 를 읽고 정리하는 글이다.
어쩌다보니 올해 안에 완독 하겠다는 목표를 세워서 &lt;a href=&quot;https://winter-love.dev/insights/compose-internals&quot;&gt;(관련글)&lt;/a&gt; 열심히 읽는중이다.
이 글의 수준을 다음과 같이 설정했다.
대학생이나 현업 개발자 등 컴포즈를 평소보다 좀 더 깊이 있게 파고들고 싶은 자가 받아들일 수 있을 정도로 쉬운 난이도.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;참고. compose architecture&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAArklEQVR42mNgAIL///8zAjETCDNAAYyPJMaIIQbUx1APZIMwiA0DB14dm7bn8eEHe54efrz37dHITWmbuE6fOX3l6NGjN0+dOnXvzJkzFidPnrQEsu8DxW6dOX/hwv8rWTx6i7/nOqz9+9Rl/d+7Zst/r4QbuO/F0Wk77u57sPP+PoiB9UADT5++cvDgwZvHjx+HG3jixIn7hw4dunXqzNkL/18iDHTdgGYgNb0MAMdIqi4GQCyQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/7970e338a20dbbf6b503a293a6823b5f/37523/0.png&quot;
        srcset=&quot;/static/7970e338a20dbbf6b503a293a6823b5f/e9ff0/0.png 180w,
/static/7970e338a20dbbf6b503a293a6823b5f/f21e7/0.png 360w,
/static/7970e338a20dbbf6b503a293a6823b5f/37523/0.png 720w,
/static/7970e338a20dbbf6b503a293a6823b5f/302a4/0.png 1080w,
/static/7970e338a20dbbf6b503a293a6823b5f/07a9c/0.png 1440w,
/static/7970e338a20dbbf6b503a293a6823b5f/58e49/0.png 4296w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 챕터를 읽기전에…
Compose Compiler가 어떻게 동작하는지 내 기준 꽤 깊이 있게 살펴본다. 크게 세 부분으로 나뉜다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compose 어노테이션들&lt;/strong&gt;  @Composable부터 @Stable, @Immutable까지 각 어노테이션이 무엇을 의미하고 왜 필요한지.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;정적 분석과 검사&lt;/strong&gt; 컴파일 단계에서 코드를 검증하고 오류를 잡아내는 과정.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;코드 생성과 변환&lt;/strong&gt; IR 낮추기(Lowering)를 통해 우리가 작성한 코드가 어떻게 변환되는지. Composer 주입, 비교 전파, 그룹 생성 등 실제 최적화 기법들.&lt;/p&gt;
&lt;p&gt;마음의 준비를 하자.
내용이 많고 기술적인 용어들이 마구 언급되며, 챕터 자체의 분량이 꽤 길다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;IR:&lt;/strong&gt; Intermediate Representation, Kotlin 컴파일러가 소스파일을 해석하는 하나의 과정.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Compose Compiler:&lt;/strong&gt; Kotlin 컴파일러 플러그인. Composable 함수를 변환하는 역할.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Composer:&lt;/strong&gt; 런타임중 트리의 형태를 빌드하거나 업데이트하는 객체.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;compose-컴파일러-the-compose-compiler&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#compose-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC-the-compose-compiler&quot; aria-label=&quot;compose 컴파일러 the compose compiler permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compose 컴파일러 (The Compose compiler)&lt;/h1&gt;
&lt;p&gt;Kotlin 에서 코드 생성이라고 하면 보통 kapt, KSP 를 떠올린다.
하지만 Compose Compiler 는 KSP 같은 어노테이션 프로세서가 아니라 “Kotlin 컴파일러” 의 플러그인이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;둘의 차이:&lt;/strong&gt; &lt;br/&gt;
KSP: 컴파일 전에 실행. 새 코드만 추가 가능. &lt;br/&gt;
컴파일러 플러그인: 컴파일 중에 실행. 기존 코드 수정 가능. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://winter-love.dev/composeinternals/1-composable-functions/#%ED%98%B8%EC%B6%9C-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-calling-context&quot;&gt;이전 1장 글에서 봤던 Composer 파라미터 주입&lt;/a&gt;
이 바로 “기존 코드 수정”의 예시다. KSP 로는 불가능.&lt;/p&gt;
&lt;p&gt;Compose Compiler 는 IR (Intermediate Representation) 단계에서 코드를 변환한다.
IR 은 소스 코드가 최종 결과물로 변환되기 전 중간 단계다.
이 단계에서 Compose Compiler 는 우리가 작성한 Composable 함수를 Runtime 이 원하는 형태로 마음대로 바꿔버린다.&lt;/p&gt;
&lt;p&gt;예를 들어 우리가 작성한 &lt;code class=&quot;language-text&quot;&gt;fun Header()&lt;/code&gt; 는 컴파일 후에는 &lt;code class=&quot;language-text&quot;&gt;fun Header($composer: Composer)&lt;/code&gt; 로 변환된다.
이게 IR 변환이다.&lt;/p&gt;
&lt;p&gt;핵심: IR 단계에서 코드를 변환하니까 우리 눈에 안 보이는 일들이 일어날 수 있다.&lt;/p&gt;
&lt;p&gt;@Composable 어노테이션은 단순 마커가 아니다. 함수의 타입 자체를 바꾼다.&lt;/p&gt;
&lt;p&gt;일반 함수 타입: &lt;code class=&quot;language-text&quot;&gt;(String) -&gt; Unit&lt;/code&gt; &lt;br/&gt;
Composable 함수 타입: &lt;code class=&quot;language-text&quot;&gt;@Composable (String) -&gt; Unit&lt;/code&gt; &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;타입이 다르니까 컴파일러가 규칙을 강제할 수 있다.
일반 함수에서 Composable 함수를 호출하면 컴파일 에러가 나는 이유다.
그럼 타입을 바꾸면 뭐가 좋은가? Composable 함수에게 “메모리”가 생긴다.&lt;/p&gt;
&lt;p&gt;“메모리”가 생긴다는 의미: @Composable 이 붙으면 그 함수는 다음과 같이 동작하게 된다.&lt;/p&gt;
&lt;p&gt;remember 사용 가능 (값을 기억할 수 있음), Composer 와 슬롯 테이블 사용 가능,
고유한 ID 를 할당받음 (1장의 위치 기억법), 트리 내 위치를 가짐,
라이프사이클을 가짐 (recomposition 되어도 상태 유지 가능).&lt;/p&gt;
&lt;p&gt;이 모든 게 “메모리”다.
Composable 함수가 실행될 때마다 매번 새로 시작하는 게 아니라, 이전 실행을 “기억”하고 있다는 뜻이다.
결과적으로 Composable 함수는 노드를 방출해서 트리를 구성할 수 있게 된다.&lt;/p&gt;
&lt;p&gt;요약: @Composable 은 타입을 바꾸고, 타입이 바뀌면 메모리를 갖게 되고, 메모리가 있으니까 트리의 일부가 될 수 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;compose-어노테이션들-compose-annotations&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#compose-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EB%93%A4-compose-annotations&quot; aria-label=&quot;compose 어노테이션들 compose annotations permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compose 어노테이션들 (Compose annotations)&lt;/h1&gt;
&lt;p&gt;Compose Compiler가 코드를 변환하려면 먼저 어떤 함수가 Composable인지, 어떤 최적화를 적용해야 하는지 알아야 한다.
이를 위해 어노테이션을 사용한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compose Compiler의 작동 시점&lt;/strong&gt;: Compose Compiler는 Kotlin 컴파일 과정 중 프론트엔드 단계에서 동작한다.
이 단계에서 소스 코드를 분석하고 검증한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;컴파일러가 확인하는 것들:&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션이 붙은 함수들을 찾기,
Composable 함수가 제약을 잘 지키고 있는지 검증 (다른 Composable에서만 호출되는지 등),
타입 시스템이 Composable 함수를 일반 함수와 다르게 처리하도록 만들기&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;추가 어노테이션들&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 외에도 Compose는 여러 어노테이션을 제공한다.
이 어노테이션들은 특정 상황에서 추가 검사를 하거나 런타임 최적화를 활성화하는 역할을 한다.&lt;/p&gt;
&lt;p&gt;예를 들어 어떤 함수는 결과를 캐싱해도 되고, 어떤 함수는 안정적인 입력만 받아야 하고,
어떤 함수는 리컴포지션을 Skip해도 된다는 힌트를 컴파일러에게 줄 수 있다.&lt;/p&gt;
&lt;p&gt;이런 어노테이션들은 모두 Compose Runtime 라이브러리에서 제공된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composable&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composable&quot; aria-label=&quot;composable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@Composable&lt;/h1&gt;
&lt;p&gt;가장 중요한 어노테이션이다.
&lt;a href=&quot;https://winter-love.dev/composeinternals/1-composable-functions/#composable-%ED%95%A8%EC%88%98%EC%9D%98-%EC%9D%98%EB%AF%B8-the-meaning-of-composable-functions&quot;&gt;1장에서 이미 다뤘지만 (Composable 함수의 의미)&lt;/a&gt;,
컴파일러 관점에서 다시 한번 정리한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compose Compiler vs 어노테이션 프로세서&lt;/strong&gt;: 일반적인 어노테이션 프로세서: 새로운 코드만 생성 가능, 기존 코드를 직접 수정할 수 없음.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compose Compiler:&lt;/strong&gt; IR(중간 표현)을 직접 변환, 기존 코드를 수정할 수 있음.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션이 붙으면 컴파일러가 해당 함수를 직접 변환한다.
가장 중요한 변경은 &lt;strong&gt;함수의 타입이 바뀐다&lt;/strong&gt;는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;타입 변경으로 얻는 것들&lt;/strong&gt;: 타입이 바뀌면 컴파일러가 Composable 함수에 특별한 제약을 강제할 수 있다.
Composable 함수는 다른 Composable 함수에서만 호출 가능하다는 규칙 같은 것들 말이다.
하지만 제약만 생기는 게 아니다. &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;을 통해 함수는 “메모리”를 갖게 된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;메모리를 가진다는 의미:&lt;/strong&gt;
&lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt;를 사용해서 값을 저장하고 재사용할 수 있음,
&lt;code class=&quot;language-text&quot;&gt;Composer&lt;/code&gt;와 슬롯 테이블을 활용할 수 있음,
라이프사이클을 가짐 (리컴포지션 되어도 상태 유지 가능),
고유한 정체성(ID)을 부여받음 (&lt;a href=&quot;https://winter-love.dev/composeinternals/1-composable-functions/#%EC%9C%84%EC%B9%98-%EA%B8%B0%EC%96%B5%EB%B2%95-positional-memoization&quot;&gt;위치 기억법에서 다뤘음&lt;/a&gt;),
노드를 Composition으로 방출할 수 있음,
CompositionLocals 처리 가능.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Composable 함수의 본질&lt;/strong&gt;: Composable 함수는 데이터를 트리의 노드로 변환한다.
이 노드가 UI 노드일 수도 있고, 다른 종류의 노드일 수도 있다.
Compose Runtime은 UI에만 국한되지 않는다.
범용적인 트리 구조를 다루는 시스템이며, 우리가 어떻게 사용하느냐에 따라 UI가 될 수도, 다른 무언가가 될 수도 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composablecompilerapi&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composablecompilerapi&quot; aria-label=&quot;composablecompilerapi permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@ComposableCompilerApi&lt;/h1&gt;
&lt;p&gt;Compose 컴파일러 전용 API라는 것을 표시하는 어노테이션이다.
“이건 컴파일러가 내부적으로 쓰는 거니까 일반 개발자는 건드리지 마세요” 라는 경고 표시다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;internalcomposeapi&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#internalcomposeapi&quot; aria-label=&quot;internalcomposeapi permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@InternalComposeApi&lt;/h1&gt;
&lt;p&gt;Compose 내부에서만 사용하는 API라는 표시다.
Kotlin의 &lt;code class=&quot;language-text&quot;&gt;internal&lt;/code&gt; 키워드는 같은 모듈 안에서만 접근 가능하다.
하지만 Compose는 여러 모듈로 나뉘어 있어서 모듈 간에 내부 API를 공유해야 할 때가 있다.
&lt;code class=&quot;language-text&quot;&gt;@InternalComposeApi&lt;/code&gt;는 이런 경우에 사용한다.
“Compose 내부에서는 쓰지만, 외부 개발자는 쓰지 마세요. 언제든 바뀔 수 있어요”라는 의미다.
stable 버전에 포함되어도 내부 구현은 계속 바뀔 수 있기 때문에 이런 표시가 필요하다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;disallowcomposablecalls&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#disallowcomposablecalls&quot; aria-label=&quot;disallowcomposablecalls permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@DisallowComposableCalls&lt;/h1&gt;
&lt;p&gt;특정 람다 안에서 Composable 함수 호출을 금지하는 어노테이션이다.
&lt;strong&gt;왜 필요한가?&lt;/strong&gt; 대표적인 예시가 &lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt;다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt;  &lt;span class=&quot;token function&quot;&gt;remember&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    calculation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@DisallowComposableCalls&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; T
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; T &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentComposer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; calculation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;calculation&lt;/code&gt; 람다를 최초 1회만 실행하고 결과를 저장한다.
recomposition 시에는 저장된 값을 그냥 반환한다.
만약 &lt;code class=&quot;language-text&quot;&gt;calculation&lt;/code&gt; 안에서 Composable 함수를 호출하면 어떻게 될까?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; remember &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// 🚨 만약 가능하다면?&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;forEach&lt;/code&gt;의 람다는 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;로 표시되어 있지 않지만,
&lt;code class=&quot;language-text&quot;&gt;MyScreen&lt;/code&gt;이 Composable이므로 안에서 &lt;code class=&quot;language-text&quot;&gt;Text&lt;/code&gt;를 호출할 수 있다.
이건 &lt;code class=&quot;language-text&quot;&gt;forEach&lt;/code&gt; 같은 경우에는 유용하지만, &lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt; 같은 경우에는 문제가 된다.
그래서 명시적으로 금지해야 한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;전파성&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;@DisallowComposableCalls&lt;/code&gt;가 붙은 람다 안에서 또 다른 inline 람다를 호출하면,
컴파일러는 그 람다에도 &lt;code class=&quot;language-text&quot;&gt;@DisallowComposableCalls&lt;/code&gt;를 요구한다.
이 어노테이션은 주로 Compose Runtime 같은 라이브러리를 만들 때 사용한다.
일반 앱 개발에서는 거의 쓸 일이 없다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; remember &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; item &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; item &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// map의 람다도 금지됨&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h1 id=&quot;readonlycomposable&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#readonlycomposable&quot; aria-label=&quot;readonlycomposable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@ReadOnlyComposable&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@ReadOnlyComposable&lt;/code&gt; 이 붙은 Composable 함수는 composition 에 쓰지 않고 읽기만 한다는 의미다.
본문 내 중첩된 모든 Composable 호출에도 적용된다.
일반적인 Composable 함수는 컴파일러가 본문을 “그룹” 으로 감싸서 방출한다.
그룹은 나중에 recomposition 할 때 데이터를 어떻게 정리하거나 이동시킬지에 대한 정보를 담고 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;그룹이 뭔가?&lt;/strong&gt; 텍스트에서 시작과 끝을 가리키는 두 개의 포인터를 떠올려보자.
모든 그룹에는 소스 코드 위치 키가 있고, 이 키로 위치 기억법을 적용할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;condition&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;World&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;둘 다 Text 함수지만 if 와 else 는 서로 다른 고유성을 가진다.
그룹의 키가 이 고유성을 구분한다.
이동 가능한 그룹은 고유한 키를 가지고 있어서 부모 그룹 내에서 재정렬될 수 있다.&lt;/p&gt;
&lt;p&gt;그런데 composition 에 쓰이지 않는 Composable 은 데이터가 교체되거나 이동되지 않으므로 그룹이 필요없다.
@ReadOnlyComposable 은 이런 불필요한 코드 생성을 방지한다.&lt;/p&gt;
&lt;p&gt;실제 예시로는 CompositionLocal 을 통해 읽는 값들이 있다.
Material 라이브러리의 Colors, Typography, isSystemInDarkTheme() 함수, LocalContext, LocalConfiguration 등이다.
이런 값들은 단순히 읽기만 하지 쓰지 않는다.&lt;/p&gt;
&lt;p&gt;요약: 읽기만 하는 Composable 은 그룹이 필요없으니 성능 최적화를 위해 명시한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;nonrestartablecomposable&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nonrestartablecomposable&quot; aria-label=&quot;nonrestartablecomposable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@NonRestartableComposable&lt;/h1&gt;
&lt;p&gt;@NonRestartableComposable 이 붙으면 해당 Composable 함수는 재시작이 불가능해진다.
모든 Composable 이 기본적으로 재시작 가능한 건 아니다.
인라인 Composable 이나 반환 타입이 Unit 이 아닌 Composable 은 원래 재시작할 수 없다.
이 어노테이션을 추가하면 컴파일러가 recomposition 중에 함수를 재구성하거나 생략하는 데 필요한 보일러플레이트 코드를 생성하지 않는다.
언제 쓰나? 다른 Composable 에 의해 recomposition 될 가능성이 희박한 경우다.
논리가 거의 없어서 스스로 invalidation 시키는 게 의미 없는 함수들이다.
이런 함수는 상위 Composable 에 의해서만 recomposition 되면 충분하다.
실제 사용 사례는 매우 드물다.
정확성을 위해 필요한 건 아니지만, 특수한 경우에 성능 최적화 기법으로 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;요약: 재시작이 필요없는 Composable 에 붙여서 불필요한 코드 생성을 방지한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;stablemarker&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#stablemarker&quot; aria-label=&quot;stablemarker permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@StableMarker&lt;/h1&gt;
&lt;p&gt;Compose Runtime 은 타입의 안정성을 나타내기 위해 몇 가지 어노테이션을 제공한다. &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;@Stable&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt; 과 &lt;code class=&quot;language-text&quot;&gt;@Stable&lt;/code&gt; 에 사용되는 메타 어노테이션이다.
어노테이션을 위한 어노테이션이라고 보면 된다. &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt; 로 마킹된 타입은 다음 요구 사항을 만족해야 한다.
equals 결과가 동일한 두 인스턴스에 대해 항상 동일하다,
public 프로퍼티가 변경되면 composition 에 알린다,
모든 public 프로퍼티가 안정적이다.&lt;/p&gt;
&lt;p&gt;이 요구사항을 만족하면 컴파일러가 최적화할 수 있다.
입력값이 안 바뀌었다는 걸 확신할 수 있으므로 recomposition을 Skip할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt; 이나 &lt;code class=&quot;language-text&quot;&gt;@Stable&lt;/code&gt; 로 마킹된 모든 타입도 위 요구 사항을 만족해야 한다.
둘 다 &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt; 를 사용하기 때문이다. 중요한 건 이게 컴파일러에게 하는 “약속” 이라는 점이다.
컴파일 시 유효성 검사를 하지 않는다.
요구 사항을 충족하는지는 개발자가 책임진다.
대부분의 경우 Compose Compiler 가 알아서 타입의 안정성을 추론한다.
굳이 어노테이션을 달지 않아도 컴파일러가 안정적인 타입으로 취급한다는 뜻이다.&lt;/p&gt;
&lt;p&gt;하지만 두 가지 경우엔 명시적으로 달아야 한다.
&lt;strong&gt;인터페이스나 추상 클래스에서 구현체가 반드시 안정적이어야 한다고 강제하고 싶을 때.&lt;/strong&gt;
이 어노테이션은 컴파일러와의 약속이자 구현을 위한 요구 사항이 된다.
구현체가 내부적으로 mutable 하지만 public API 는 안정적이어서 안정적인 타입으로 취급하고 싶을 때.
예를 들어 내부 캐시는 변하지만 외부로 보이는 값은 변하지 않는 경우다.&lt;/p&gt;
&lt;p&gt;요약: &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt; 는 타입의 안정성을 컴파일러에게 약속하는 메타 어노테이션이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;immutable&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#immutable&quot; aria-label=&quot;immutable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@Immutable&lt;/h1&gt;
&lt;p&gt;한번 생성되면 절대 변하지 않는 타입을 표시하는 어노테이션이다.
Kotlin의 &lt;code class=&quot;language-text&quot;&gt;val&lt;/code&gt; 보다 강력한 약속으로서 재할당을 막지만, 불변성을 보장하진 않는다.
&lt;code class=&quot;language-text&quot;&gt;val&lt;/code&gt;로 선언된 프로퍼티가 mutable한 데이터 구조를 참조하면 내용은 바뀔 수 있다.
&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt;은 이런 &lt;code class=&quot;language-text&quot;&gt;val&lt;/code&gt;보다 훨씬 강력한 불변성의 보장이다.&lt;/strong&gt;
&lt;strong&gt;생성 후 모든 public 프로퍼티가 절대 안 바뀐다는 약속이다.&lt;/strong&gt;
Kotlin은 언어 차원에서 불변성을 보장하는 메커니즘이 없기 때문에 이 어노테이션이 필요하다.&lt;/p&gt;
&lt;p&gt;다음 조건을 모두 만족하는 클래스에 사용할 수 있다. &lt;strong&gt;모든 프로퍼티가 &lt;code class=&quot;language-text&quot;&gt;val&lt;/code&gt;, 커스텀 getter가 없음 (매번 다른 값을 반환할 수 있으니까), 모든 프로퍼티가 불변 타입 (primitive 타입 또는 &lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt; 타입).&lt;/strong&gt;
대표적인 예시는 모든 프로퍼티가 &lt;code class=&quot;language-text&quot;&gt;val&lt;/code&gt;인 데이터 클래스다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;최적화 효과&lt;/strong&gt;: Compose Runtime은 &lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt; 타입을 보면 값이 절대 안 바뀐다고 가정한다.
이 확신 덕분에 스마트 recomposition과 recomposition Skip 같은 최적화를 적극적으로 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;@StableMarker와의 관계&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt;를 포함한다.
불변 타입은 외부로 노출된 값이 절대 변경되지 않기 때문에, &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt;의 모든 요구사항을 자동으로 만족한다.
불변 타입은 값이 변경되지 않으므로 composition에게 변경을 알릴 필요도 없다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;stable&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#stable&quot; aria-label=&quot;stable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;@Stable&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt;보다 약한 약속이다.
적용 대상에 따라 의미가 달라진다.
&lt;strong&gt;타입에 적용하는 경우, 타입이 mutable이지만 안정적이라는 표시다.&lt;/strong&gt;
완전히 불변은 아니지만 &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt;의 요구사항은 만족한다는 의미다.
다시 한번 정리하면 &lt;code class=&quot;language-text&quot;&gt;@StableMarker&lt;/code&gt;의 요구사항: &lt;strong&gt;equals 일관성, 프로퍼티 변경 시 composition에 알림, 모든 public 프로퍼티가 안정적.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;함수나 프로퍼티에 적용하는 경우&lt;/strong&gt;, 같은 입력에 대해 항상 같은 결과를 반환한다는 약속이다.
이는 함수의 파라미터가 모두 안정적인 타입이거나 primitive 타입일 때만 가능하다.
대표적인 예시는 public API는 불변처럼 보이지만 내부는 mutable인 경우다.  예를 들어 private한 mutable 상태를 가지고 있지만,
public으로 노출되는 API는 불변적으로 동작하거나 &lt;code class=&quot;language-text&quot;&gt;MutableState&lt;/code&gt;로 내부 프로퍼티를 구현했지만,
외부에서는 읽기 전용으로만 노출되는 경우.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;최적화 효과&lt;/strong&gt;: Composable 함수의 모든 파라미터가 안정적인 타입이면,
Compose는 위치 기억법을 사용해서 이전 호출과 파라미터를 비교한다.
모든 값이 동일하면 recomposition을 생략한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;주의사항&lt;/strong&gt;: 이 어노테이션은 컴파일러와의 약속이다.
요구사항을 만족하지 않는데 어노테이션을 달면 런타임 오류가 발생할 수 있다.
확신이 없다면 사용하지 않는 것이 좋다.
대부분의 경우 컴파일러가 자동으로 안정성을 추론하므로 어노테이션 없이도 잘 동작한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;@Immutable과의 차이&lt;/strong&gt;: 사실 현재는 Compose Compiler는 &lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;@Stable&lt;/code&gt;을 동일하게 취급한다.
둘 다 스마트 recomposition과 Skip 최적화를 동일하게 활성화한다.
그럼에도 두 어노테이션이 따로 존재하는 이유는 미래를 위해서다.
각자 다른 의미를 가지므로, 향후 Compose가 발전하면서 다르게 처리될 수 있다.
올바른 어노테이션을 사용하면 미래의 최적화 혜택을 받을 수 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;라이브 리터럴 (Live Literals):&lt;/strong&gt; 코드의 상수 값(문자열, 숫자 등)을 리컴파일 없이 실시간으로 변경할 수 있게 해주는 기능. Android Studio의 Compose 미리보기에서 텍스트나 색상을 수정하면 즉시 반영되는 것이 이 기능 덕분.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;컴파일러-확장-등록-registering-compiler-extensions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC-%ED%99%95%EC%9E%A5-%EB%93%B1%EB%A1%9D-registering-compiler-extensions&quot; aria-label=&quot;컴파일러 확장 등록 registering compiler extensions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컴파일러 확장 등록 (Registering Compiler extensions)&lt;/h1&gt;
&lt;p&gt;Compose Compiler 플러그인이 가장 먼저 하는 일은 Kotlin 컴파일러에 자신을 등록하는 것이다.
&lt;code class=&quot;language-text&quot;&gt;ComponentRegistrar&lt;/code&gt;라는 메커니즘을 사용해서 Kotlin 컴파일 파이프라인에 끼어든다.
&lt;code class=&quot;language-text&quot;&gt;ComposeComponentRegistrar&lt;/code&gt;가 일련의 컴파일러 익스텐션들을 등록한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;익스텐션의 역할:&lt;/strong&gt; 라이브러리 사용을 쉽게 만들기, 런타임에 필요한 코드 생성, Composable 함수 변환.
이 익스텐션들은 Kotlin 컴파일러와 함께 실행된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;컴파일러 플래그:&lt;/strong&gt; Compose Compiler는 컴파일러 플래그를 통해 추가 기능을 활성화할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;활성화 가능한 기능들:&lt;/strong&gt;
라이브 리터럴 (Live Literals): 코드 수정 시 즉시 반영,
소스 정보 포함: Android Studio가 composition 검사 가능,
&lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt; 최적화,
Kotlin 버전 호환성 검사 무시,
IR 변환 과정에서 디버깅용 메서드 생성.
이런 플래그들을 설정해서 원하는 기능을 켜고 끌 수 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;정적-분석-static-analysis&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EC%A0%81-%EB%B6%84%EC%84%9D-static-analysis&quot; aria-label=&quot;정적 분석 static analysis permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정적 분석 (Static analysis)&lt;/h1&gt;
&lt;p&gt;컴파일러 플러그인이 가장 먼저 하는 일은 린팅(linting)이다.
소스 코드를 스캔해서 잘못된 부분을 찾아내는 작업이다.
Compose Compiler는 어노테이션이 올바르게 사용되고 있는지 검사한다.
“올바르게”의 기준은 Compose Runtime이 기대하는 방식이다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 함수가 일반 함수에서 호출되는지,
&lt;code class=&quot;language-text&quot;&gt;@Immutable&lt;/code&gt; 타입이 실제로 불변인지,
&lt;code class=&quot;language-text&quot;&gt;@DisallowComposableCalls&lt;/code&gt; 람다 안에서 Composable을 호출하는지 같은 것들을 검사한다.
검사는 컴파일러의 프론트엔드 단계에서 한다.
코드가 IR로 변환되기 전에 먼저 검증한다는 의미다.
개발자가 빠르게 피드백을 받을 수 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;정적-검사기-static-checkers&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EC%A0%81-%EA%B2%80%EC%82%AC%EA%B8%B0-static-checkers&quot; aria-label=&quot;정적 검사기 static checkers permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정적 검사기 (Static Checkers)&lt;/h1&gt;
&lt;p&gt;등록된 익스텐션 중 일부는 정적 검사기다.
개발자가 코드를 작성하는 동안 잘못된 부분을 실시간으로 알려준다.&lt;/p&gt;
&lt;p&gt;Compose Compiler는 함수 호출, 타입, 선언에 대한 검사기를 익스텐션으로 등록한다.
&lt;a href=&quot;https://winter-love.dev/composeinternals/1-composable-functions/#composable-%ED%95%A8%EC%88%98%EC%9D%98-%EC%86%8D%EC%84%B1-properties-of-composable-functions&quot;&gt;1장에서 다룬 Composable 함수의 제약들&lt;/a&gt;
이 검사기들에 의해 검증된다.
개발자가 요구사항을 위반하면 즉시 IDE에 보고된다.&lt;/p&gt;
&lt;p&gt;Kotlin 컴파일러는 다양한 검사기를 제공한다.
클래스 인스턴스화, 타입, 함수 호출, deprecated 호출, 계약(contracts), 클로저 캡처, 중위 호출, 코루틴 호출, 연산자 호출 등을 검사할 수 있다.
컴파일러 플러그인은 이런 검사기들을 활용해서 소스 코드의 모든 요소를 정적 분석하고, 상황에 따라 경고나 오류를 보고한다.&lt;/p&gt;
&lt;p&gt;모든 검사기는 컴파일러의 프론트엔드 단계에서 실행된다.
속도가 빠르고 CPU를 많이 소모하지 않는다.
개발자가 코드를 입력하는 동안 무거운 검사가 실행되면 IDE가 버벅이기 때문이다.
빠르고 가벼운 검사기가 필요하다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;PSI (Program Structure Interface):&lt;/strong&gt; Kotlin 컴파일러가 소스 코드의 구조를 표현하는 트리. 함수, 클래스, 변수 등 모든 코드 요소가 노드로 표현됨.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;호출-검사-call-checks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%98%B8%EC%B6%9C-%EA%B2%80%EC%82%AC-call-checks&quot; aria-label=&quot;호출 검사 call checks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;호출 검사 (Call checks)&lt;/h1&gt;
&lt;p&gt;Compose Compiler가 등록한 검사기 중 하나가 호출 검사기다.
Composable 함수가 올바른 위치에서 호출되는지 검증한다.
검사기는 PSI 트리를 방문자 패턴으로 탐색한다.
PSI는 프론트엔드 컴파일러 단계의 언어 구조를 모델링한 것으로, 구문적이고 정적인 코드 이해 방식이다.&lt;/p&gt;
&lt;p&gt;단일 노드만 분석하는 것으론 부족한 경우가 많다.
Composable 함수가 어디서 호출되는지 알려면 더 넓은 컨텍스트가 필요하기 때문이다.
컴파일러는 컨텍스트 추적(context trace)을 통해 방문 경로의 정보를 기록하고,
람다식이나 try/catch 구문 같은 관련 항목들을 탐색한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@DisallowComposableCalls&lt;/code&gt;로 마킹된 람다 내에서 Composable 함수 호출이 발생하면,
컨텍스트 추적에 정보를 기록하고 IDE에 오류를 보고한다.
컨텍스트 추적은 전반적인 분석을 위한 정보를 기록할 수 있는 가변 구조다.&lt;/p&gt;
&lt;p&gt;각 Composable 함수 호출마다 컴파일러는 PSI 트리를 방문해서 호출자, 호출자의 호출자를 확인한다.
모든 요구사항이 충족되었는지 검증하는 것이다.
호출자는 람다식, 함수, 프로퍼티, try/catch 블록, 클래스, 파일 등 다양할 수 있다.&lt;/p&gt;
&lt;p&gt;인라인 함수도 중요하게 고려된다.
인라인 람다의 호출자가 Composable이면 그 람다 안에서도 Composable 함수를 호출할 수 있어야 하기 때문이다.
Compose Compiler는 Composable 함수를 호출하는 모든 인라인 람다가 호출 스택 어딘가에서 Composable 함수로 둘러싸여 있는지 확인한다.&lt;/p&gt;
&lt;p&gt;검사기는 금지만 하는 게 아니다.
누락된 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션을 감지하면 개발자에게 추가하도록 제안한다.
Composable 함수가 람다 내에서 호출되면 그 람다에 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;을 추가하라고 제안하는 식이다.
&lt;code class=&quot;language-text&quot;&gt;@ReadOnlyComposable&lt;/code&gt; 어노테이션이 달린 함수는 다른 읽기 전용 Composable만 호출할 수 있다.
그렇지 않으면 composition에서 읽기만 가능하고 쓰기는 불가능하다는 최적화 계약을 위반하게 된다.&lt;/p&gt;
&lt;p&gt;Jetpack Compose는 Composable 함수의 참조(reference) 사용을 지원하지 않는다.
이런 사용도 호출 검사에서 차단한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;타입-검사-type-checks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%83%80%EC%9E%85-%EA%B2%80%EC%82%AC-type-checks&quot; aria-label=&quot;타입 검사 type checks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;타입 검사 (Type checks)&lt;/h1&gt;
&lt;p&gt;함수뿐만 아니라 타입에도 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션을 달 수 있다.
Compose Compiler는 타입 추론과 관련된 검사를 수행한다.
&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션이 달린 타입을 예상했는데 실제로는 어노테이션이 없는 타입이 발견되면 오류를 보고한다.
오류 메시지는 추론된 타입과 예상되는 타입을 어노테이션과 함께 출력해서 차이점을 명확하게 보여준다.
함수 호출 검사와 유사한 방식이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;선언-검사-declaration-checks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%A0%EC%96%B8-%EA%B2%80%EC%82%AC-declaration-checks&quot; aria-label=&quot;선언 검사 declaration checks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;선언 검사 (Declaration checks)&lt;/h1&gt;
&lt;p&gt;호출 위치와 타입 검사만으론 부족하다.
엘리먼트의 선언 위치도 검사해야 한다.
프로퍼티, 프로퍼티 접근자, 함수 선언, 함수 파라미터 같은 것들이 분석 대상이다.
프로퍼티, getter, 함수는 Composable로 어노테이션 되어 있어도 재정의될 수 있다.
Compose Compiler는 이런 요소들이 재정의될 때 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션이 유지되는지 확인해서 일관성을 유지한다.&lt;/p&gt;
&lt;p&gt;Composable 함수가 suspend 함수인지도 검사한다.
Composable 함수에 suspend는 지원되지 않기 때문이다.
&lt;a href=&quot;https://winter-love.dev/composeinternals/1-composable-functions/#suspend-%ED%95%A8%EC%88%98%EC%99%80%EC%9D%98-%EC%9C%A0%EC%82%AC%EC%84%B1-similarities-with-suspend-functions&quot;&gt;1장에서 설명했듯이 (Suspend 함수와의 유사성)&lt;/a&gt;
suspend와 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;은 완전히 다른 개념이며 함께 사용할 수 없다.
main 함수를 Composable로 만드는 것도 금지된다.
Composable 프로퍼티의 backing 필드 선언도 금지된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;진단-제지기-diagnostic-suppression&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%84%EB%8B%A8-%EC%A0%9C%EC%A7%80%EA%B8%B0-diagnostic-suppression&quot; aria-label=&quot;진단 제지기 diagnostic suppression permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;진단 제지기 (Diagnostic suppression)&lt;/h1&gt;
&lt;p&gt;컴파일러 플러그인은 진단 제지기를 등록해서 특정 상황의 진단을 음소거할 수 있다.
일반적으로 Kotlin 컴파일러가 허용하지 않는 코드를 생성하거나 지원할 때 필요하다.
Compose는 &lt;code class=&quot;language-text&quot;&gt;ComposeDiagnosticSuppressor&lt;/code&gt;를 등록해서 일부 언어 제한을 우회한다.
특수한 유즈 케이스를 활성화하기 위해서다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;인라인 람다의 어노테이션 제약 우회&lt;/strong&gt;. Kotlin은 인라인 람다에 BINARY나 RUNTIME 보존 타입 어노테이션을 사용하는 것을 금지한다.
인라인 람다는 컴파일 타임에 호출자 쪽으로 인라인 되므로 어디에도 저장되지 않는다.
따라서 어노테이션을 저장할 대상이 사라진다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;일반 Kotlin 코드에서는 이런 오류가 발생한다.&lt;/strong&gt;
“해당 람다식은 인라인 된 매개변수이므로, 이 어노테이션은 어디에도 저장할 수 없습니다.”
하지만 Compose Compiler는 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션인 경우에만 이 검사를 제지한다.
덕분에 호출 시점에서 람다에 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;을 붙일 수 있다.
인라인 함수를 선언할 때만 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;을 붙일 필요가 없어진다.
함수가 더 유연한 계약을 가질 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;함수 타입 파라미터 이름 지정 우회&lt;/strong&gt;. Kotlin은 함수 타입의 파라미터에 이름을 지정하는 것을 허용하지 않는다.
하지만 &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;로 어노테이션 된 함수 타입은 가능하다.
&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션을 제거하면 다음 오류가 발생한다:
“함수 유형에는 매개변수에 명명하는 것이 허용되지 않습니다.”&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;expect 클래스 제약 우회&lt;/strong&gt;. Kotlin 멀티플랫폼의 expect 클래스 멤버에도 동일한 제약 완화가 적용된다.
Jetpack Compose는 멀티플랫폼을 목표로 하므로, &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;로 어노테이션 된 expect 함수와 프로퍼티에 대해서 이런 유연성을 허용해야 한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;런타임-버전-검사-runtime-version-check&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%9F%B0%ED%83%80%EC%9E%84-%EB%B2%84%EC%A0%84-%EA%B2%80%EC%82%AC-runtime-version-check&quot; aria-label=&quot;런타임 버전 검사 runtime version check permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;런타임 버전 검사 (Runtime version check)&lt;/h1&gt;
&lt;p&gt;코드 생성 단계로 넘어가기 전에 실행되는 작업을 보자.
코드 생성 직전에 가장 먼저 하는 일은 Compose Runtime 버전을 확인하는 것이다.
Compose Compiler는 지원하는 최소 버전의 Runtime이 필요하다.
Runtime이 누락되지 않았는지, 버전이 너무 오래되지 않았는지 검사한다.
각 Compiler 버전은 지원하는 최소 Runtime 버전이 있고, 그보다 높은 여러 버전을 지원한다.&lt;/p&gt;
&lt;p&gt;이것은 두 번째 버전 검사다.
첫 번째는 Kotlin 컴파일러 버전을 검사하고, 그 다음이 Compose Runtime 버전 검사다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;코드-생성-code-generation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%93%9C-%EC%83%9D%EC%84%B1-code-generation&quot; aria-label=&quot;코드 생성 code generation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코드 생성 (Code generation)&lt;/h1&gt;
&lt;p&gt;마지막으로 Compose Compiler가 코드 생성 단계로 넘어간다.
이는 어노테이션 프로세서와 컴파일러 플러그인의 공통점이다.
둘 다 런타임 라이브러리가 사용할 편리한 코드를 생성하거나 합성하는 데 자주 활용된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;코틀린-ir-the-kotlin-ir&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%ED%8B%80%EB%A6%B0-ir-the-kotlin-ir&quot; aria-label=&quot;코틀린 ir the kotlin ir permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코틀린 IR (The Kotlin IR)&lt;/h1&gt;
&lt;p&gt;컴파일러 플러그인은 IR(Intermediate Representation, 중간 표현)에 접근할 수 있다.
IR은 목표 플랫폼에 대한 최종 코드를 생성하기 전 단계의 언어 표현이다.
컴파일러 플러그인은 IR을 통해 개발자가 작성한 소스 코드를 수정할 수 있다.
파라미터를 몰래 교체하고, 새 파라미터를 추가하고, 코드 구조를 재구성할 수 있다.
이는 Kotlin 컴파일러의 백엔드 단계에서 발생한다.
Compose가 각 Composable 함수에 &lt;code class=&quot;language-text&quot;&gt;Composer&lt;/code&gt; 파라미터를 주입하는 것도 이 과정에서 일어난다.&lt;/p&gt;
&lt;p&gt;컴파일러 플러그인은 다양한 형태로 코드를 생성할 수 있다.
JVM만 목표로 한다면 바이트코드를 생성하면 되지만, Kotlin 팀은 모든 플랫폼을 위한 하나의 통합 백엔드를 만들고 있다.
IR을 생성하는 것이 더 의미 있는 이유다.&lt;/p&gt;
&lt;p&gt;IR은 목표 플랫폼에 관계없이 존재하는 언어 요소의 중간 표현이다.
IR을 생성하면 Jetpack Compose가 생성하는 코드가 멀티플랫폼이 될 수 있다.
Compose Compiler 플러그인은 &lt;code class=&quot;language-text&quot;&gt;IrGenerationExtension&lt;/code&gt;의 구현체를 등록해서 IR을 생성한다.
이는 Kotlin 컴파일러의 공통 IR 백엔드가 제공하는 익스텐션이다.
Kotlin IR에 대한 심도 있는 학습은 이 책의 범위를 벗어난다고 함. (휴…)&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;낮추기 (Lowering):&lt;/strong&gt; 고수준 프로그래밍 개념을 저수준 개념으로 변환하는 작업. 예를 들어 &lt;code class=&quot;language-text&quot;&gt;for&lt;/code&gt; 루프를 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;과 인덱스 변수로 변환하는 것. 컴파일러가 최종 기계어 생성을 위해 코드를 단순화하는 과정.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;낮추기-lowering&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%82%AE%EC%B6%94%EA%B8%B0-lowering&quot; aria-label=&quot;낮추기 lowering permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;낮추기 (Lowering)&lt;/h1&gt;
&lt;p&gt;낮추기(lowering)는 고급 프로그래밍 개념을 더 낮은 수준의 원자적 개념으로 변환하는 작업이다.
정규화의 한 형태로 이해할 수 있다.
Kotlin IR은 매우 고급 개념을 표현할 수 있다.
하지만 목표 플랫폼(JVM 바이트코드, 자바스크립트, LLVM IR)으로 변환하려면 가장 낮은 수준의 형태로 변환해야 한다.&lt;/p&gt;
&lt;p&gt;Compose Compiler도 라이브러리가 지원하는 개념의 수준을 낮춰서 런타임이 이해할 수 있는 표현으로 정규화한다.
이 과정은 Compose Compiler 플러그인의 코드 생성 단계에서 진행된다.
IR 트리의 모든 엘리먼트를 방문하고 런타임 요구사항에 맞게 IR을 조정한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;낮추기 단계에서 일어나는 주요 작업들:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;클래스 안정성 추론과 메타데이터 추가. 런타임이 클래스 안정성을 이해하는 데 필요한 정보를 추가한다.&lt;/p&gt;
&lt;p&gt;라이브 리터럴 변환. 소스 코드의 변경 사항을 리컴파일 없이 런타임에 반영할 수 있도록 라이브 리터럴 표현식을 가변 상태 인스턴스 접근으로 변환한다.&lt;/p&gt;
&lt;p&gt;Composer 파라미터 주입. Composable 함수에 암시적인 Composer 파라미터를 삽입하고, 모든 Composable 호출에 전달한다.&lt;/p&gt;
&lt;p&gt;Composable 함수 본문 래핑. 컨트롤 플로우를 위한 다양한 그룹 생성(교체 가능한 그룹, 이동 가능한 그룹), 디폴트 파라미터 지원 구현, recomposition Skip 학습, 상태 변경 정보 전파 등을 수행한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;클래스-안정성-추론-inferring-class-stability&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%95%88%EC%A0%95%EC%84%B1-%EC%B6%94%EB%A1%A0-inferring-class-stability&quot; aria-label=&quot;클래스 안정성 추론 inferring class stability permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;클래스 안정성 추론 (Inferring class stability)&lt;/h1&gt;
&lt;p&gt;스마트 recomposition은 Composable의 입력값이 변경되지 않았고 안정적일 때 recomposition을 생략하는 것이다.
안정성이 중요한 이유는 Compose Runtime이 입력값을 안전하게 읽고 비교할 수 있다는 것을 의미하기 때문이다.&lt;/p&gt;
&lt;p&gt;안정적인 타입의 특성은 세 가지다.
&lt;strong&gt;equals 호출이 항상 동일한 결과를 반환한다.&lt;/strong&gt;
&lt;strong&gt;프로퍼티 변경 시 composition에 알림을 준다.&lt;/strong&gt;
&lt;strong&gt;모든 public 프로퍼티가 원시 타입이거나 안정적이다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;원시 타입, String, 함수형 타입은 기본적으로 안정적이다. 불변이기 때문이다.
불변이 아니어도 &lt;code class=&quot;language-text&quot;&gt;MutableState&lt;/code&gt; 같은 타입은 &lt;code class=&quot;language-text&quot;&gt;@Stable&lt;/code&gt; 어노테이션으로 안정적이라고 표시할 수 있다.
Compose는 클래스 안정성을 자동으로 추론한다.
모든 클래스를 방문해서 &lt;code class=&quot;language-text&quot;&gt;@StabilityInferred&lt;/code&gt; 주석과 &lt;code class=&quot;language-text&quot;&gt;$stable&lt;/code&gt; 합성값을 추가한다.
런타임 시 클래스 안정성을 결정하는 데 사용된다.
추론 대상은 일반 클래스와 데이터 클래스다. 열거형, 인터페이스, 어노테이션 같은 건 제외된다.
클래스의 모든 필드가 읽기 전용이고 안정적이면 안정적이라고 추론한다.&lt;/p&gt;
&lt;p&gt;제네릭 타입 매개변수는 런타임에 결정된다.
&lt;code class=&quot;language-text&quot;&gt;class Foo&amp;lt;T&gt;(val value: T)&lt;/code&gt;에서 Foo의 안정성은 T의 안정성에 의존한다.
Compose Compiler는 비트마스크를 사용해서 런타임 시 추론한다.
내부 가변 상태도 클래스를 불안정하게 만든다.
&lt;code class=&quot;language-text&quot;&gt;private var count&lt;/code&gt; 같은 필드가 있으면 불안정하다.
Compose Compiler는 보수적으로 추론한다.
증명할 수 있는 것만 안정적으로 간주한다.
인터페이스는 구현을 모르므로 불안정하다.
&lt;code class=&quot;language-text&quot;&gt;List&amp;lt;T&gt;&lt;/code&gt;도 가변적인 &lt;code class=&quot;language-text&quot;&gt;ArrayList&lt;/code&gt;로 구현될 수 있으므로 불안정하다.&lt;/p&gt;
&lt;p&gt;개발자가 더 많은 정보를 가지고 있다면 &lt;code class=&quot;language-text&quot;&gt;@Stable&lt;/code&gt; 어노테이션을 명시적으로 표기할 수 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;라이브-리터럴-활성화-enabling-live-literals&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%9D%BC%EC%9D%B4%EB%B8%8C-%EB%A6%AC%ED%84%B0%EB%9F%B4-%ED%99%9C%EC%84%B1%ED%99%94-enabling-live-literals&quot; aria-label=&quot;라이브 리터럴 활성화 enabling live literals permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;라이브 리터럴 활성화 (Enabling live literals)&lt;/h1&gt;
&lt;p&gt;이 부분의 글은 구현 세부사항에 가까우며 지속적으로 변경될 수 있다.&lt;/p&gt;
&lt;p&gt;라이브 리터럴은 Compose 도구가 미리 보기에서 변경사항을 리컴파일 없이 실시간으로 반영하게 해주는 기능이다.
컴파일러 플래그로 활성화할 수 있다. v1은 &lt;code class=&quot;language-text&quot;&gt;liveLiterals&lt;/code&gt;, v2는 &lt;code class=&quot;language-text&quot;&gt;liveLiteralsEnabled&lt;/code&gt;다.
Compose Compiler는 상수 표현식을 &lt;code class=&quot;language-text&quot;&gt;MutableState&lt;/code&gt;에서 값을 읽는 형태로 변환한다.
런타임은 프로젝트를 리컴파일할 필요 없이 변경사항을 즉시 감지할 수 있다.
이 변환은 단순히 개발자 경험 개선을 위한 것이다.
성능에 민감한 코드의 속도를 크게 저하시킬 수 있으므로 릴리스 빌드에서는 절대 활성화하면 안 된다.&lt;/p&gt;
&lt;p&gt;Compose Compiler는 상수 표현식이 사용된 파일마다 &lt;code class=&quot;language-text&quot;&gt;LiveLiterals$ClassName&lt;/code&gt;이라는 싱글톤 클래스를 생성한다.
각 상수 표현식에 대한 고유 ID를 생성하고, 상수들을 &lt;code class=&quot;language-text&quot;&gt;MutableState&lt;/code&gt; 프로퍼티의 getter를 통해 획득하도록 변환한다.
런타임은 생성된 키를 이용해서 변환된 상수값을 획득한다.&lt;/p&gt;
&lt;p&gt;예시를 들면,
원본 코드에서 &lt;code class=&quot;language-text&quot;&gt;print(&quot;Hello World&quot;)&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;print(LiveLiterals$FooKt.getString$...()()&lt;/code&gt;로 변환된다.
&lt;code class=&quot;language-text&quot;&gt;LiveLiterals$FooKt&lt;/code&gt; 싱글톤 안에 &lt;code class=&quot;language-text&quot;&gt;MutableState&lt;/code&gt; 프로퍼티와 getter 함수가 생성된다.
상수값이 &lt;code class=&quot;language-text&quot;&gt;MutableState&lt;/code&gt;로 래핑되어 실시간으로 변경 감지가 가능해진다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;메모이제이션 (Memoization):&lt;/strong&gt; 캐싱의 한 유형. 이전에 계산한 값을 메모리에 저장함으로써 동일한 계산의 반복 수행을 줄임.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;도넛 홀 스킵 (Donut-hole skipping):&lt;/strong&gt; 트리의 중간 레벨을 건너뛰고 실제로 값을 사용하는 말단 노드에서만 recompose하는 최적화. 도넛의 구멍처럼 중간을 건너뛴다는 의미.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;compose-람다식-기억법-compose-lambda-memoization&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#compose-%EB%9E%8C%EB%8B%A4%EC%8B%9D-%EA%B8%B0%EC%96%B5%EB%B2%95-compose-lambda-memoization&quot; aria-label=&quot;compose 람다식 기억법 compose lambda memoization permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compose 람다식 기억법 (Compose lambda memoization)&lt;/h1&gt;
&lt;p&gt;Composable 함수에 전달된 람다식을 최적화한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-composable 람다식&lt;/strong&gt;: 값을 캡처하는 람다식은 remember로 자동으로 감싸진다.
캡처하는 값이 안정적이면 그 값을 기반으로 람다식을 기억한다.
런타임은 캡처 값이 일치하면 기존 람다식을 재사용한다.
값을 캡처하지 않는 람다식은 Kotlin이 싱글톤으로 최적화한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Composable 람다식&lt;/strong&gt;: Composable 람다식도 기억된다.
컴파일러가 &lt;code class=&quot;language-text&quot;&gt;composableLambda()&lt;/code&gt; 팩토리 함수로 변환해서 composition에 저장한다.
값을 캡처하지 않으면 싱글톤으로 최적화된다.
Composable 람다식은 State처럼 구현되어 **“도넛 홀 스킵”**이 가능하다.
트리의 높은 위치에서 람다를 업데이트해도, 실제로 사용되는 낮은 위치에서만 recompose한다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;그림: Composer injection&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABpElEQVR42k1Ru0oDURC9aqXgC9GsGj9DuyhEBGtBsbG1ttNGLANa2ajxGTAiBsTSSpA8drO7ubtkLWIS8yQii6AJRtAkcD2zQcjCYYa555yZnWFCiC7Lsly2bUuEQqEglUqliUwmM8Dow7sDxroqlcpIsVgc7+RSrNfrUi6Xc5EXSyQSg4qifEajUQE0I5HITzKZpPycTEDqJl+fzzccDodNVVUFYgO8FnStWCzWJC15kBeTZbmXc74PnBiGcaRp2iE3jOATV1bZ3tuYJ9T0Tgcbs3MhW7JMvsm5cQHhEfh+AmlISx7kxVKpVH88HrfQqQTk0C0blZXqs/qwNXP5tbHyKMTSvRDzV+/rSfnxOiIrNngvQB4GedKQFpNb5OVMiKkOgACKZ8Cppus3PB5b69stSAu3Ta/3ruFZPM64E6qyrWl6kHgY4lzXdQLlAfIol8u9zg5ReEWXb6AKfIAk0OigfZP2Dv1+/yDeUJZ/EWnnNRjXsLsq8m/ycHZIl8H/T6TT6UnTNCcpZrPZKeRDzpWXRQ/bgSl4uPwoDub+53WCPOjKf3cgdZorW7kbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/bfc10e70c12030487c2ac5ce2383b9dd/37523/1.png&quot;
        srcset=&quot;/static/bfc10e70c12030487c2ac5ce2383b9dd/e9ff0/1.png 180w,
/static/bfc10e70c12030487c2ac5ce2383b9dd/f21e7/1.png 360w,
/static/bfc10e70c12030487c2ac5ce2383b9dd/37523/1.png 720w,
/static/bfc10e70c12030487c2ac5ce2383b9dd/302a4/1.png 1080w,
/static/bfc10e70c12030487c2ac5ce2383b9dd/07a9c/1.png 1440w,
/static/bfc10e70c12030487c2ac5ce2383b9dd/cbc84/1.png 5160w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;composer-주입하기-injecting-the-composer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composer-%EC%A3%BC%EC%9E%85%ED%95%98%EA%B8%B0-injecting-the-composer&quot; aria-label=&quot;composer 주입하기 injecting the composer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composer 주입하기 (Injecting the Composer)&lt;/h1&gt;
&lt;p&gt;Compose Compiler가 모든 Composable 함수에 Composer라는 합성 매개변수를 추가한다.
기존 Composable 함수를 완전히 대체한다.
이 매개변수는 코드의 모든 Composable 함수 호출에 전달된다.
트리의 어느 지점에서나 항상 사용할 수 있게 된다.
Composable 람다식 호출도 포함된다.&lt;/p&gt;
&lt;p&gt;Composer 파라미터를 추가하면 함수의 타입이 변하므로 타입 리매핑 작업도 필요하다.
Composer 주입 덕분에 모든 하위 트리에서 Composer를 사용할 수 있다.
Composable 트리를 구체화하고 업데이트된 상태로 유지하는 데 필요한 모든 정보를 제공한다.
Composable이 아닌 인라인 람다는 변환하지 않는다.
컴파일 타임에 호출자 쪽으로 인라인되면서 사라지기 때문이다.
expect 함수도 변환하지 않는다.
타입 해결 시 actual 함수로 처리하고, actual 함수를 변환한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;비교-전파-comparison-propagation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EA%B5%90-%EC%A0%84%ED%8C%8C-comparison-propagation&quot; aria-label=&quot;비교 전파 comparison propagation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비교 전파 (Comparison propagation)&lt;/h1&gt;
&lt;p&gt;Composable 함수에는 &lt;code class=&quot;language-text&quot;&gt;$composer&lt;/code&gt; 외에 &lt;code class=&quot;language-text&quot;&gt;$changed&lt;/code&gt;라는 매개변수도 추가된다.
현재 Composable의 입력 매개변수가 이전 composition 이후 변경되었는지 알려주는 메타데이터다.
런타임은 이를 통해 recomposition을 생략할 수 있다.
&lt;code class=&quot;language-text&quot;&gt;$changed&lt;/code&gt; 매개변수는 함수의 입력 매개변수 각각에 대한 조건을 비트로 인코딩한다.
비트 연산으로 처리하는 것이 프로세서 구조상 수월하기 때문이다.
이 메타데이터 덕분에 부분적인 최적화가 가능하다.&lt;/p&gt;
&lt;p&gt;입력 매개변수가 정적이면 equals() 비교를 생략할 수 있다.
String 리터럴이나 상수 같은 경우, 컴파일 타임에 값을 알 수 있으므로 런타임에서 비교할 필요가 없다.
매개변수가 마지막 composition 이후 변경되지 않았거나, 상위 트리에서 이미 비교 작업을 수행했다면 다시 비교할 필요가 없다.
매개변수 상태는 “확실하게” 변경될 필요가 없는 것으로 간주된다.&lt;/p&gt;
&lt;p&gt;매개변수 상태가 “불확실”한 경우도 있다.
런타임은 equals()로 매개변수 값을 비교하고 슬롯 테이블에 저장한다.
이 경우 &lt;code class=&quot;language-text&quot;&gt;$changed&lt;/code&gt;는 디폴트 값인 0이 되고, 런타임에게 모든 매개변수 비교 작업을 수행하도록 지시한다.&lt;/p&gt;
&lt;p&gt;Composable 함수 본문에는 &lt;code class=&quot;language-text&quot;&gt;$dirty&lt;/code&gt; 변수가 추가된다.
매개변수가 변경되었는지 저장하는 변수다.
값이 “dirty”로 간주되면 함수 본문을 실행하고 recomposition이 발생한다.
그렇지 않으면 recomposition을 생략한다.
입력 상태가 어떻게 변화하는지 정보를 전달하면 계산 시간과 메모리를 절약할 수 있다.
매개변수를 매번 저장하고 비교하는 것은 슬롯 테이블 공간을 차지하기 때문이다.&lt;/p&gt;
&lt;p&gt;모든 Composable 함수는 트리 아래로 전달된 모든 매개변수에 대한 정보를 전달해야 할 책임이 있다.
이것을 “비교 전파(comparison propagation)“라고 한다.
입력값이 변경되었거나, 정적이거나, 무엇이든 매개변수에 대한 정보를 알고 있다면 하위 Composable 함수에게 &lt;code class=&quot;language-text&quot;&gt;$changed&lt;/code&gt;로 전달한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$changed&lt;/code&gt; 비트마스크는 매개변수가 안정적인지 불안정한지도 인코딩한다.
&lt;code class=&quot;language-text&quot;&gt;List&amp;lt;T&gt;&lt;/code&gt; 같은 광범위한 타입도 &lt;code class=&quot;language-text&quot;&gt;listOf(1, 2)&lt;/code&gt; 같은 안정적인 값이면 recomposition을 생략할 수 있다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;디폴트-매개변수-default-parameters&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%94%94%ED%8F%B4%ED%8A%B8-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-default-parameters&quot; aria-label=&quot;디폴트 매개변수 default parameters permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;디폴트 매개변수 (Default parameters)&lt;/h1&gt;
&lt;p&gt;각 Composable 함수에 &lt;code class=&quot;language-text&quot;&gt;$default&lt;/code&gt;라는 메타데이터가 매개변수로 추가된다.
Kotlin의 디폴트 매개변수 기능은 Composable 함수에서 사용할 수 없다.
Composable 함수는 디폴트 표현식을 함수 범위(생성된 그룹) 내에서 실행해야 하기 때문이다.&lt;/p&gt;
&lt;p&gt;Compose는 이 문제를 해결하기 위한 대안을 제공한다.
각 매개변수의 인덱스를 비트마스킹으로 매핑하는 &lt;code class=&quot;language-text&quot;&gt;$default&lt;/code&gt; 매개변수를 추가한다.
&lt;code class=&quot;language-text&quot;&gt;$changed&lt;/code&gt; 매개변수와 동일한 방식이다.
&lt;code class=&quot;language-text&quot;&gt;$default&lt;/code&gt; 매개변수는 각 입력 매개변수에 대해 호출자가 값을 제공하는지 여부를 알려준다.
최종적으로 디폴트 값을 사용할지, 호출자가 넘긴 값을 사용할지 결정한다.
비트마스킹을 통해 확인하고, 호출자가 값을 제공하지 않았으면 디폴트 값을 사용한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;교체-가능한-그룹-replaceable-groups&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B5%90%EC%B2%B4-%EA%B0%80%EB%8A%A5%ED%95%9C-%EA%B7%B8%EB%A3%B9-replaceable-groups&quot; aria-label=&quot;교체 가능한 그룹 replaceable groups permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;교체 가능한 그룹 (Replaceable groups)&lt;/h1&gt;
&lt;p&gt;Composable 람다식은 팩토리 함수로 감싸진다.
팩토리 함수는 키로 교체 가능한 그룹을 시작하고, 람다식 본문을 감싸고, 그룹을 닫는다.
시작과 끝 호출 사이에서 composition을 관련 정보로 업데이트한다.
Composable 함수의 호출도 동일하게 처리된다.
&lt;code class=&quot;language-text&quot;&gt;@NonRestartableComposable&lt;/code&gt;로 재시작 불가능하다고 마킹된 함수도 교체 가능한 그룹을 생성한다.&lt;/p&gt;
&lt;p&gt;그룹은 트리와 같은 구조다.
각 그룹은 원하는 만큼 자식 그룹을 가질 수 있다.
Composable 함수가 다른 Composable 함수를 호출하면 컴파일러는 그 함수에도 그룹을 삽입한다.
Composable 호출은 위치에 기반하기 때문에 정체성이 보존된다.
조건부 로직의 서로 다른 두 Text 호출은 런타임이 다르다고 이해할 수 있다.
조건부 논리를 수행하는 Composable 함수도 교체 가능한 그룹을 발행한다.
조건이 전환되면 교체될 수 있는 그룹을 슬롯 테이블에 저장한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;이동-가능한-그룹-movable-groups&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%8F%99-%EA%B0%80%EB%8A%A5%ED%95%9C-%EA%B7%B8%EB%A3%B9-movable-groups&quot; aria-label=&quot;이동 가능한 그룹 movable groups permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이동 가능한 그룹 (Movable groups)&lt;/h1&gt;
&lt;p&gt;이동 가능한 그룹은 정체성을 잃지 않고 재정렬이 가능한 그룹이다.
&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; 함수 내부에서 Composable 함수를 호출하는 경우에 활용된다.
&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; 함수로 Composable을 감싸면 고유한 정체성이 보장되고 이동 가능한 그룹이 생성된다.
각 Composable 함수마다 정체성을 해치지 않으면서 호출 순서를 변경할 수 있다.
컴파일러는 &lt;code class=&quot;language-text&quot;&gt;startMovableGroup()&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;endMovableGroup()&lt;/code&gt;으로 그룹을 생성한다.
리스트 중간에 항목이 추가되거나 삭제되어도 각 항목의 정체성이 유지된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;재시작-가능한-그룹-restartable-groups&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EC%8B%9C%EC%9E%91-%EA%B0%80%EB%8A%A5%ED%95%9C-%EA%B7%B8%EB%A3%B9-restartable-groups&quot; aria-label=&quot;재시작 가능한 그룹 restartable groups permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재시작 가능한 그룹 (Restartable groups)&lt;/h1&gt;
&lt;p&gt;재시작 가능한 그룹은 가장 흥미로운 그룹 중 하나다.
재시작 가능한 Composable 함수에만 삽입된다.
재시작 가능한 그룹도 Composable 호출을 감싸지만, end 함수 호출이 약간 다르다.
nullable한 값을 반환한다.
Composable 함수가 어떤 상태도 읽지 않으면 null을 반환한다.
recomposition이 필요 없다는 의미다.
런타임에 재구성하는 방법을 가르칠 필요가 없다.&lt;/p&gt;
&lt;p&gt;null이 아닌 값을 반환하면 컴파일러는 람다식을 생성한다.
이 람다식은 Composable을 “재시작”(다시 실행)하는 방법을 런타임에 가르친다.
&lt;code class=&quot;language-text&quot;&gt;endRestartGroup()?.updateScope()&lt;/code&gt;로 범위를 갱신해서 recomposition을 트리거한다.
동일한 새 호출을 감싸고 recomposition 범위를 업데이트한다.
재시작 가능한 그룹은 상태를 읽는 모든 Composable 함수에 대해 생성된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;그룹 생성 규칙&lt;/strong&gt;: 블록이 항상 정확하게 1회만 실행되면 그룹이 필요 없다.
조건부 논리에서 블록 집합 중 하나가 단 한 번 실행되는 경우(if문, when문), 각 블록 주위에 교체 가능한 그룹을 삽입한다.
이동 가능한 그룹은 key Composable 함수 호출의 본문에서만 사용된다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;klib과-미끼-생성-klib-and-decoy-generation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#klib%EA%B3%BC-%EB%AF%B8%EB%81%BC-%EC%83%9D%EC%84%B1-klib-and-decoy-generation&quot; aria-label=&quot;klib과 미끼 생성 klib and decoy generation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Klib과 미끼 생성 (Klib and decoy generation)&lt;/h1&gt;
&lt;p&gt;Compose Compiler는 멀티플랫폼(.klib)과 Kotlin/JS를 위한 특별한 지원을 추가했다.
JS에서는 종속성에 대한 IR이 역직렬화되는 방식 때문에 문제가 생긴다.
IR이 변환되면 타입 시그니처와 일치하지 않게 된다.
Compose가 Composable 함수에 합성 매개변수를 추가하기 때문이다.
JVM에서는 함수의 IR을 직접 교체하지만, Kotlin/JS에서는 다르게 처리한다.
함수를 교체하는 대신 복사본을 생성한다.&lt;/p&gt;
&lt;p&gt;기존 함수 선언은 유지한 채로 Kotlin 메타데이터의 각 함수와 IR 사이를 연결한다.
코드의 모든 참조는 여전히 잘 동작한다.
Compose가 필요에 따라 복사본의 IR을 조정한다.
런타임에서 기존 함수와 복사본을 구분하기 위해 복사본 함수 이름에 &lt;code class=&quot;language-text&quot;&gt;$composable&lt;/code&gt; 접미사가 추가된다.
원본 함수는 decoy로 남고 호출되면 예외를 던진다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVR42k1TaWsTURTNLxZEFCnFVrStYhdtFeqC2FZEBa3d0i1ts0ySyUz2ZJLZskwmW1P9Ivj5eO4Lgh8u83jz3nnnnnNupFNNolW+RNjModfU0WtkMHLSaJpnqGWj8PmvYZzALcZU9RtJ9KzM9CxL7gpGaOfglhKIBPzZracJpKNT13goh4GTg1eOwytdqb12LYVWNY42Lw5dA33H5PmsAgysNAKuQ669chKRgZvH0CugzxcGdhY33SquOxWMvDzGfh43QU1Vn/+GPDvwigqwS3C5M/KLEIwegVtVDZGRncbE1/mChoZ5irp+TGYXZJ0iCw0W27XzZ/jZyasae1nVhTzQNI5R0fZh6UeoZQ7R0KNk6Oi49nOI7e9gaf4uVhZmsP5sXq3l+/rFIrbfrOLP2MKkTYZsObRNxSgkqGgnrQsBnzJFZGPsZnG+t41E9BMcCn/2YwvG1S4Z0xidhpRomp2hBKZqV7WsOtDJVB4wEFBrv5JCpFc+x8jW8PXDOt6/eko2K2Q2h5fL83i78USt15Zm8Wj2NnXN4aZlqET0qZsAt8lKjBlQc08AQzo0cjIoJPZgxndR1A7QtTTEo59R0g5hF2JInnxR+v4KiqomLRMjN6uYqeIDARkrl8NmlkLr+L7zCgsP7mB1cQZz92/h47s1bD5/jI3lh9TzHrY2l/F7WKWOJs9PE6Gy29CVSV22rAB71UsMJKx1Uq8n0K7ElatyqU/d/PIFgxtXJS6PXIaauocOW6Y5cj5gjoduYdqy6DCQHDLMYZPCt8sqhxLUgWNg0qmqkjRI3v7lTqZDBVpCToaipVuky0JVJmBqfXqaMQL3rBS6Ne430mocg7qMnDadDFa7FENA1kFNgKcT48no+cULuBQ8+G+UupUYHIbWNk/gmPwaUbiFU65PGN4jWOl91FO7sJLf4OkHZJeAjHDTjOEvGExu+FyBF9kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png&quot;
        srcset=&quot;/static/5314d2a18f59617ee9c2723cac41e942/e9ff0/cover.png 180w,
/static/5314d2a18f59617ee9c2723cac41e942/f21e7/cover.png 360w,
/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[1장 - Composable 함수들 (Composable functions) 내맘대로 정리]]></title><description><![CDATA[Jetpack Compose Internals…]]></description><link>https://www.winter-love.dev/composeinternals/1-composable-functions/</link><guid isPermaLink="false">https://www.winter-love.dev/composeinternals/1-composable-functions/</guid><pubDate>Fri, 14 Nov 2025 00:10:00 GMT</pubDate><content:encoded>&lt;p&gt;Jetpack Compose Internals 를 읽고 정리하는 글이다.
어쩌다보니 올해 안에 완독 하겠다는 목표를 세워서 &lt;a href=&quot;https://winter-love.dev/insights/compose-internals&quot;&gt;(관련글)&lt;/a&gt; 열심히 읽는중이다.
이 글의 수준을 다음과 같이 설정했다.
대학생이나 현업 개발자 등 컴포즈를 평소보다 좀 더 깊이 있게 파고들고 싶은 자가 받아들일 수 있을 정도로 쉬운 난이도.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composable-함수의-의미-the-meaning-of-composable-functions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composable-%ED%95%A8%EC%88%98%EC%9D%98-%EC%9D%98%EB%AF%B8-the-meaning-of-composable-functions&quot; aria-label=&quot;composable 함수의 의미 the meaning of composable functions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composable 함수의 의미 (The meaning of Composable functions)&lt;/h1&gt;
&lt;p&gt;Composable 함수는 Jetpack Compose 의 가장 기본적인 요소이며 처음부터 올바른 관념으로 받아들이는 게 좋다.
Composable 함수를 처음부터 제대로 이해하려면 일반 함수와 다른 관점으로 봐야 한다.&lt;/p&gt;
&lt;p&gt;일반 함수: 반환 값이 결과임. 보통 한 번 실행되면 끝.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calculate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Composable 함수: Node 데이터를 방출해서 컴포지션 하는것이 결과임. 입력 값의 변화에 따라 반복적으로 재실행됨.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Greeting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Unit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;컴포저블 함수의 실행 결과로 생성되는 데이터는 하나의 노드(Node)로 간주되어 방출(Emitting)하는 Action이 실행되고,
노드는 UI 를 나타내는 Composable 트리(Tree) 구조의 구성 요소로 업데이트 된다.
이 업데이트 동작은 우리가 컴포즈에서 흔히 접하는 용어인 “컴포지션(Composition)” 이라고 부르는 것이다.&lt;/p&gt;
&lt;p&gt;정리하면 컴포저블 함수를 실행하는 목적은 컴포지션을 통해 트리를 생성 및 업데이트하는 것이다. (컴포지션 유형: Node 를 트리의 구성 요소로 삽입, 제거, 교체, 이동)&lt;/p&gt;
&lt;p&gt;다음은 Side Effect 에 관한 이야기다.
컴포저블 함수는 Input 값이 바뀔 때마다 몇 번이고 재실행 된다.
재실행의 부수 효과(Side Effect)로 노드 방출이 일어나며 UI 트리는 항상 최신화 된다.&lt;/p&gt;
&lt;p&gt;우리가 자주 접하는 단어인 Recomposition 도 이 대목에서 다시 이해해볼 수 있다.
함수에 Input 되는 값이 바뀌었다. 즉 리컴포지션 되었다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;요약: Composable을 실행한다의 의미: Composition&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Compose Runtime:&lt;/strong&gt; 실행 중에 UI 트리를 관리하고 최적화하는 시스템.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;composable-함수의-속성-properties-of-composable-functions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composable-%ED%95%A8%EC%88%98%EC%9D%98-%EC%86%8D%EC%84%B1-properties-of-composable-functions&quot; aria-label=&quot;composable 함수의 속성 properties of composable functions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composable 함수의 속성 (Properties of Composable functions)&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션은 단순 마커가 아니라 함수에 특정 제약과 규칙을 부여한다.
이 제약으로 Compose Runtime 은 코드 실행에 대한 “확실성”을 갖게 되고, 다음과 같은 최적화 기법이 적용된다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;병렬 Composition: 독립적인 Composable 들을 동시에 실행&lt;/li&gt;
&lt;li&gt;임의 순서 실행: 순서를 바꿔도 결과가 같으면 자유롭게 재배치&lt;/li&gt;
&lt;li&gt;스마트 Recomposition: 변경된 부분만 재실행&lt;/li&gt;
&lt;li&gt;위치 기억법 (Positional Memoization): 이전 결과를 재사용&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;핵심: &lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션의 의미는 “제약을 주는 대신 최적화를 얻는다”는 것.&lt;/p&gt;
&lt;p&gt;Composable 함수 최적화는 “이 함수는 부수 효과가 없다”, “이 함수들은 서로 독립적이다”
같은것을 미리 확신할 수 있어야 특정 조건 및 동작을 추론할 수 있다.
이 확실성으로 다양한 실행 전략(execution strategy) 또는 평가 기법(evaluation techniques)에 따라
사전에 특정 조건 및 동작을 추론하여 최적화 기법이 적용되는 것이다.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Compose Compiler:&lt;/strong&gt; Kotlin 컴파일러 플러그인. Composable 함수를 변환하는 역할.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;IR:&lt;/strong&gt; Intermediate Representation, Kotlin 컴파일러가 소스파일을 해석하는 하나의 과정.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Composer:&lt;/strong&gt; 런타임중 트리의 형태를 빌드하거나 업데이트하는 객체.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;호출-컨텍스트-calling-context&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%98%B8%EC%B6%9C-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-calling-context&quot; aria-label=&quot;호출 컨텍스트 calling context permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;호출 컨텍스트 (Calling context)&lt;/h1&gt;
&lt;p&gt;Compose Compiler 는 Composable 함수에 엄격한 제약을 하나 부과하는데,
Composable 함수는 오로지 다른 Composable 함수에서만 호출할 수 있다는 것이다.
때문에 코루틴처럼 호출 컨텍스트(Calling context)가 필수이다.&lt;/p&gt;
&lt;p&gt;이 제약은 트리가 오직 Composable 함수로 구성되게 보장하게 된다.
또한 &lt;strong&gt;Composer&lt;/strong&gt; 가 트리를 따라 하향 전달될 수 있다는 점 또한 보장된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compose Compiler&lt;/strong&gt; 는 컴파일 타임에 IR 을 가로채어
우리가 작성한 원본 Composable 함수를 다른 코드로 변환한다.&lt;/p&gt;
&lt;p&gt;원본 소스코드&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;NamePlate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    lastname&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lastname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      style &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MaterialTheme&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;typography&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subtitle1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;변환된 소스코드&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;NamePlate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    lastname&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    $composer&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Composer&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 추가
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    $composer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 추가
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      $composer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 추가
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lastname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      style &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MaterialTheme&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;typography&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subtitle1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      $composer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 추가
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;원본 소스코드에서 변환된 코드를 보면 &lt;strong&gt;Composer&lt;/strong&gt; 라는 객체를 주입하는 파라미터가 추가된걸 알 수 있다.
그리고 내부에 선언된 &lt;code class=&quot;language-text&quot;&gt;Column&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Text&lt;/code&gt; 에도 &lt;code class=&quot;language-text&quot;&gt;$composer&lt;/code&gt; 라는 객체가 전달되게 코드가 변환 되었는데,
Composer 라는 객체는 이와 같이 트리 내에서 모든 Composable 로 전달 되도록 변환되고
이것이 Compose Compiler 가 하는 일 중 하나이다.&lt;/p&gt;
&lt;p&gt;Composer 의 실행 과정을 좀 더 자세히 풀어보면,
Composable 함수가 실행되면 Node 를 트리로 방출(emitting)한다.
Input 값이 변경되면 Composable 함수가 재실행된다 (Recomposition)
Compose Runtime 은 트리를 하향 순회하면서 변경 사항을 확인한다.
이 때 트리의 형태를 빌드하거나 업데이트 하는 역할이 &lt;strong&gt;Composer&lt;/strong&gt; 인 것.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;멱등성:&lt;/strong&gt; 같은 입력에 대해 항상 같은 결과를 내는 성질.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;멱등성-idempotent&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A9%B1%EB%93%B1%EC%84%B1-idempotent&quot; aria-label=&quot;멱등성 idempotent permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;멱등성 (Idempotent)&lt;/h1&gt;
&lt;p&gt;Composable 함수는 반드시 멱등성을 가져야 한다.
같은 입력값으로 여러번 실행해도 동일한 노드 트리를 생성해야 한다는 뜻이다.&lt;/p&gt;
&lt;p&gt;멱등성이 중요한 이유는 Composable 의 핵심 최적화 기법인 &lt;strong&gt;리컴포지션 스킵(Skip)&lt;/strong&gt; 때문이다.&lt;/p&gt;
&lt;p&gt;Composable 함수는 입력값이 바뀌면 재실행(Recomposition) 된다.
그런데 앱 전체를 매번 다시 그리면 UI 를 그리는 성능상 비효율적이다.&lt;/p&gt;
&lt;p&gt;Compose Runtime 은 트리를 아래로 순회하면서 &lt;strong&gt;입력값이 바뀐 노드만&lt;/strong&gt; 다시 실행하고
&lt;strong&gt;입력값이 안 바뀐 노드는 건너뛴다(Skip)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;멱등성이 보장되면 Compose Runtime 은 다음과 같이 가정할 수 있게된다.
“같은 입력값이면 같은 결과를 낼 것임”,
“이미 메모리에 결과가 있으니 다시 실행 안해도 됨”.
결과: Skip&lt;/p&gt;
&lt;p&gt;이렇게 불필요한 재실행을 생략해서 성능을 최적화 한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;통제되지-않은-사이드-이펙트-방지-free-of-uncontrolled-side-effects&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%86%B5%EC%A0%9C%EB%90%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EC%82%AC%EC%9D%B4%EB%93%9C-%EC%9D%B4%ED%8E%99%ED%8A%B8-%EB%B0%A9%EC%A7%80-free-of-uncontrolled-side-effects&quot; aria-label=&quot;통제되지 않은 사이드 이펙트 방지 free of uncontrolled side effects permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;통제되지 않은 사이드 이펙트 방지 (Free of uncontrolled side effects)&lt;/h1&gt;
&lt;p&gt;사이드 이펙트 (Side Effect):
호출되는 함수의 제어를 벗어나서 발생할 수 있는 예상치 못한 모든 동작.
로컬 캐시에서 데이터 읽기, 네트워크 요청 작업, 전역변수 설정 변경 등 예상치 못한 모든 동작.
즉 Composable 함수 내부적인 요인에 의해서만 발생하는게 아니라 외부 요인으로 인한 Side Effect 가 발생할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EventsFeed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;networkService&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; EventsNetworkService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; events &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; networkService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;loadAllEvents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  LazyColumn &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; event &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 코드의 문제점: 함수가 호출될 때마다 네트워크 요청이 실행된다는 것이다.&lt;/p&gt;
&lt;p&gt;앞서 언급했듯이 Composable 함수는 Input 값이 바뀌면 재실행된다.
그런데 재실행이 언제, 몇 번 일어날지는 Compose Runtime 이 결정한다. 우리가 통제할 수 없다.&lt;/p&gt;
&lt;p&gt;예를 들어&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;화면 회전하면 재실행&lt;/li&gt;
&lt;li&gt;다른 State 가 바뀌어도 재실행&lt;/li&gt;
&lt;li&gt;심지어 최적화를 위해 멀티 스레드로 병렬 실행 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;결과적으로 loadAllEvents() 가 우리 의도와 상관없이 수십 번 호출될 수 있다.
이게 바로 “통제되지 않은 사이드 이펙트” 문제다.&lt;/p&gt;
&lt;p&gt;Compose Runtime 은 Composable 함수가 &lt;strong&gt;예측 가능하기를(결정론적인)&lt;/strong&gt; 기대하는데
사이드 이펙트가 포함되면 예측이 불가능해진다.&lt;/p&gt;
&lt;p&gt;또 다른 문제: 실행 순서 의존&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MainScreen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;       
  &lt;span class=&quot;token function&quot;&gt;ProfileDetail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;EventList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Header()&lt;/code&gt; 가 먼저 실행되고, 그 다음 &lt;code class=&quot;language-text&quot;&gt;ProfileDetail()&lt;/code&gt; 이 실행되겠지? &lt;strong&gt;“NO”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Compose Compiler 는 이 함수들을 순서를 바꿔서 실행할 수도 있고 동시에 병렬로 실행할 수도 있다.
따라서 Header 에서 변수 세팅하고, Profile 에서 읽기 같은 로직은 의도대로 작동하지 않는다.&lt;/p&gt;
&lt;p&gt;그럼 어떻게 해야 하나? 우리는 모든 Composable 함수를 stateless 하게 만들수 있게 노력해야 한다.
Composable 함수는 최대한 “멍청하게” 만들어야 한다.
모든 필요한 데이터는 파라미터로 받고, 함수 안에서는 받은 데이터로 UI 그리기만 하게 만들자.&lt;/p&gt;
&lt;p&gt;그럼 네트워크 요청은 어디서 하나? Effect Handler 를 사용한다. 추후 챕터에서 다룰거라고 함.&lt;/p&gt;
&lt;p&gt;정리. Composable 함수 안에서 네트워크 요청, DB 접근 같은 걸 직접 하면 안 됨.
왜? 함수가 언제든 여러 번 실행될 수 있어서.&lt;/p&gt;
&lt;p&gt;해결책: Effect Handler 사용.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;재시작-가능-restartable&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EC%8B%9C%EC%9E%91-%EA%B0%80%EB%8A%A5-restartable&quot; aria-label=&quot;재시작 가능 restartable permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재시작 가능 (Restartable)&lt;/h1&gt;
&lt;p&gt;일반적인 코틀린 함수는 콜스택 (call stack) 상으로 단 한 번만 호출된다.
Composable 함수는 recomposition 으로 여러번 다시 시작될 수 있다.&lt;/p&gt;
&lt;p&gt;Compose Runtime 은 Tree 를 항상 최신 상태로 유지하기 위해 어떤 노드를 재시작할지 선택적으로 판단한다.
Composable 함수는 관찰하는 상태(state)에 기반하여 반작용적으로 재실행되게 설계되었다.&lt;/p&gt;
&lt;p&gt;Compose Compiler 는 State 를 읽는 (stateful) Composable 함수를 찾아
Compose Runtime 에게 재시작 하는 방법을 알려주는 코드를 생성한다.
stateless 한 함수는 재시작할 필요가 없기 때문에 이런 Composable 함수엔 재시작 하는 방법을 가르쳐주지 않는다고 한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;빠른-실행-fast-execution&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%A0%EB%A5%B8-%EC%8B%A4%ED%96%89-fast-execution&quot; aria-label=&quot;빠른 실행 fast execution permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;빠른 실행 (Fast execution)&lt;/h1&gt;
&lt;p&gt;Composable 함수들은 직접적으로 UI 를 구축하거나 반환하지 않는다.
Composable 은 단순히 Tree 구조를 구축 및 업데이트 하기위한 데이터(Node) 를 방출할 뿐이다.
이 매커니즘으로 Composable 은 빠르게 실행될 수 있고 Compose Runtime 이 몇 번이고 실행할 수 있게 해준다.
이 재실행 과정은 애니메이션의 각 프레임 만큼이나 자주 발생할수도 있다고 한다.&lt;/p&gt;
&lt;p&gt;개발자가 지켜야 할 규칙: Compose Runtime 은 Composable 이 빠르게 실행된다고 가정한다.
따라서 Network, DB, 메모리 캐싱 등 비용이 큰 작업은 코루틴으로 처리 되어야 한다는 말임.
해당 작업들은 라이프 사이클에 대응할 수 있는 (lifecycle aware) 이펙트 핸들러에서 처리 되어야 하는데 이 내용은 나중에 다룬다고.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;메모이제이션 (Memoization):&lt;/strong&gt; 캐싱의 한 유형. 이전에 계산한 값을 메모리에 저장함으로써 동일한 계산의 반복 수행을 줄임.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;위치 기억법:&lt;/strong&gt; 함수 메모이제이션의 한 형태이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;위치-기억법-positional-memoization&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9C%84%EC%B9%98-%EA%B8%B0%EC%96%B5%EB%B2%95-positional-memoization&quot; aria-label=&quot;위치 기억법 positional memoization permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;위치 기억법 (Positional memoization)&lt;/h1&gt;
&lt;p&gt;함수 실행 결과를 캐싱해서 같은 입력에 대해 다시 계산하지 않는 기법.&lt;/p&gt;
&lt;p&gt;일반적인 함수의 메모이제이션 방법: 함수의 이름, 타입, 파라미터의 조합으로 고유한 키를 생성하고 다시 실행될 때 이 키를 이용해서 메모이제이션 여부를 판단한다.&lt;/p&gt;
&lt;p&gt;Composable 함수: 위의 일반적인 방법  + 소스 코드 위치(고유 키) 생성.
하지만 같은 함수여도 호출 위치가 다르면 UI Tree 상 다른 고유 키로 취급된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyComposable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 부모 트리
   &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;”Hello”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// id 1&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;”Hello”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// id 2&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;”Hello”&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// id 3&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;같은 &lt;code class=&quot;language-text&quot;&gt;Text(&quot;Hello&quot;)&lt;/code&gt;지만, 소스 코드 위치가 다르므로 각각 다른 ID를 받는다.
입력값이 바뀌지 않으면 이 id는 recomposition 시 Skip 될 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TalksScreen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Talk&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Column &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talk &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; talks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;Talk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 코드가 문제인 이유: Compose Runtime 입장에서 함수에 고유 ID 를 할당하기 어려운 케이스임.&lt;/p&gt;
&lt;p&gt;처음엔 &lt;code class=&quot;language-text&quot;&gt;Talk&lt;/code&gt; 가 생성된만큼 ID 가 생성되어 각각의 &lt;code class=&quot;language-text&quot;&gt;Talk&lt;/code&gt; item 을 구분할 수 있긴 하다.
List 순서상 맨 끝에 새로운 item 이 추가 되어도 모든 item 은 각자의 고유한 ID 를 잘 유지할 수 있다.&lt;/p&gt;
&lt;p&gt;문제는 List 순서상 중간의 아이템이 추가되거나 삭제 된다면?
해당 위치 이후의 item 들은 Composable 의 위치가 바뀌며 각자의 고유 ID 를 잃게되고 결과적으로 전부 recomposition 된다.&lt;/p&gt;
&lt;p&gt;업데이트가 생략 되었어야 할 Composable 함수들이 전부 recomposition 을 하게 되었으니 리스트가 길면 길수록 비효율적이게 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TalksScreen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Talk&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Column &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talk &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; talks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talk&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Unique key 추가
        &lt;span class=&quot;token function&quot;&gt;Talk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;talk&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 방법처럼 Key 로 Composable 각자에 고유한 ID 를 직접 부여해서 트리 내 각자의 위치를 유지하게 할 수 있다.
위에 말한 비효율 문제를 해결할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;FilteredImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; filters &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; remember &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;computeFilters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ImageWithFiltersApplied&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;filters&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ImageWithFiltersApplied&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;filters&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Filter&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;TODO&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;computeFilters(path)&lt;/code&gt; 를 실행하고 결과 저장, path 가 바뀌지 않으면 &lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt; 에 저장된 값을 재사용.
해당 방법으로 recomposition Skip.&lt;/p&gt;
&lt;p&gt;핵심: Composable 은 호출 위치로 고유 ID 를 가짐.
입력값의 변화가 없다면 해당 위치의 Composable 은 recomposition 을 Skip 한다.
반복문에서는 &lt;code class=&quot;language-text&quot;&gt;Key()&lt;/code&gt; 로 명시적인 ID 지정 필요.
함수 내부의 계산 결과를 캐싱하려면 &lt;code class=&quot;language-text&quot;&gt;remember&lt;/code&gt; 함수를 사용하자.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;suspend-함수와의-유사성-similarities-with-suspend-functions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#suspend-%ED%95%A8%EC%88%98%EC%99%80%EC%9D%98-%EC%9C%A0%EC%82%AC%EC%84%B1-similarities-with-suspend-functions&quot; aria-label=&quot;suspend 함수와의 유사성 similarities with suspend functions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Suspend 함수와의 유사성 (Similarities with suspend functions)&lt;/h1&gt;
&lt;p&gt;suspend 와 Compose 함수는 비슷한 제약을 가진다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Coroutine:&lt;/strong&gt; suspend 함수는 다른 suspend 함수에서 호출될 수 있다. &lt;br/&gt;
&lt;strong&gt;Compose:&lt;/strong&gt; Composable 함수는 다른 Composable 함수에서 호출될 수 있다.&lt;/p&gt;
&lt;p&gt;때문에 이 둘은 호출 컨텍스트가 필요하다.
이 제약으로 suspend 는 suspend 끼리, Composable 역시 Composable 끼리 묶일 수 있게 보장해준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Coroutine 함수 변환 전&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;suspend&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;publishTweet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tweet&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Tweet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Post &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Coroutine 함수 변환 후&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;publishTweet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    tweet&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Tweet&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    callback&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Continuation&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Post&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 추가
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Unit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;둘 다 암시적인 파라미터를 추가한다는 점에서 유사하다.&lt;/p&gt;
&lt;p&gt;핵심 차이점: &lt;br/&gt;
&lt;strong&gt;Continuation:&lt;/strong&gt; Kotlin Runtime 으로부터 다양한 중단점에서 실행을 중단, 재개에 대한 정보를 담고 있는 객체. 본질적으론 일반 함수와 똑같이 한 번 실행되면 끝이다. &lt;br/&gt;
&lt;strong&gt;Composer:&lt;/strong&gt; Compose Runtime 으로부터 여러번 실행되는 이벤트에 반응하며 항상 UI Tree 를 최신 상태로 유지하게 만들기 위한 객체.&lt;/p&gt;
&lt;p&gt;“한 번 실행하고 중단, 재개 / 상태 변화에 반응해서 계속 재실행”&lt;/p&gt;
&lt;p&gt;유사하긴 하지만 완전히 다른 문제를 해결하니 각자의 매커니즘이 필요하다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composable-함수의-색깔-the-color-of-composable-functions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composable-%ED%95%A8%EC%88%98%EC%9D%98-%EC%83%89%EA%B9%94-the-color-of-composable-functions&quot; aria-label=&quot;composable 함수의 색깔 the color of composable functions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composable 함수의 색깔 (The color of Composable functions)&lt;/h1&gt;
&lt;p&gt;서로 다른 종류의 함수는 잘 섞이지 않는다는 이야기다.&lt;/p&gt;
&lt;p&gt;동기 함수에서 비동기 함수를 직접 호출할 수 없고, 일반 함수에서 suspend 함수를 직접 호출할 수 없듯이.
그리고 일반 함수에서 Composable 함수를 직접 호출할 수 없듯이.&lt;/p&gt;
&lt;p&gt;이렇게 함수들이 서로 다른 “색깔”을 가진 것처럼 분리되어 있다고 해서 함수 컬러링이라고 부른다.&lt;/p&gt;
&lt;p&gt;Composable 함수는 다른 Composable 함수에서만 호출 가능하다. 일반 함수와 섞으려면 통합점이 필요하다 (예: &lt;code class=&quot;language-text&quot;&gt;setContent&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;왜 이런 제약이 있을까? Composable 함수는 일반 함수와 완전히 다른 목적을 가지기 때문.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;SpeakerList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;speakers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Column &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        speakers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 일반 함수인데?&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;Speaker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;it&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Composable 호출 가능&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;forEach&lt;/code&gt;는 일반 함수인데 어떻게 안에서 Composable을 호출할 수 있을까? &lt;strong&gt;inline&lt;/strong&gt; 때문이라고 한다. &lt;code class=&quot;language-text&quot;&gt;forEach&lt;/code&gt; 같은 컬렉션 연산자는 inline 으로 선언되어 있다.
inline 함수는 호출 시점에 코드가 그대로 복사되어 들어간다. 결국 &lt;code class=&quot;language-text&quot;&gt;Speaker(it)&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;SpeakerList&lt;/code&gt; 본문 안에서 호출되는 것과 같다. 둘 다 Composable이니까 문제없다.
inline 덕분에 함수 컬러링 문제를 우회하고 자연스러운 코드를 작성할 수 있다.&lt;/p&gt;
&lt;p&gt;함수 컬러링은 문제일까? 오히려 장점이라고 한다. 컴파일러와 런타임이 “colored 함수”를 특별하게 처리할 수 있기 때문이다.&lt;/p&gt;
&lt;p&gt;suspend 함수는 비동기 non-blocking 프로그래밍을 가능하게 한다.
Composable 함수는 재시작 가능(Restartable), 생략 가능(Skippable), 반응형(Reactive)이다.
일반 함수에는 없는 이런 특별한 기능을 얻는 대가로 “색깔”이라는 제약이 생긴 것이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;composable-함수-타입-composable-function-types&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composable-%ED%95%A8%EC%88%98-%ED%83%80%EC%9E%85-composable-function-types&quot; aria-label=&quot;composable 함수 타입 composable function types permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composable 함수 타입 (Composable function types)&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 어노테이션은 함수의 타입 자체를 변경한다.&lt;/p&gt;
&lt;p&gt;일반 함수 타입: &lt;code class=&quot;language-text&quot;&gt;(T) -&gt; A&lt;/code&gt; &lt;br/&gt;
Composable 함수 타입: &lt;code class=&quot;language-text&quot;&gt;@Composable (T) -&gt; A&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt;이 타입의 일부가 된다는 뜻이다.&lt;/p&gt;
&lt;p&gt;Composable 람다: 일반 람다를 선언하듯이 Composable 람다도 선언할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Composable 람다를 프로퍼티로 저장&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; textComposable&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; it&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        style &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MaterialTheme&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;typography&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subtitle1
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;NamePlate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lastname&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;textComposable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastname&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// 저장한 람다 사용&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 Composable 람다를 재사용할 수 있다.&lt;/p&gt;
&lt;p&gt;Scope가 있는 Composable 타입: 특정 Composable 안에서만 사용 가능하도록 범위를 제한할 수도 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; BoxScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit  &lt;span class=&quot;token comment&quot;&gt;// BoxScope 안에서만&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Layout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        content &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; BoxScopeInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;BoxScope.() -&gt; Unit&lt;/code&gt;은 Box 안에서만 호출 가능한 람다를 의미한다.
이 덕분에 특정 Composable 내부에서만 쓸 수 있는 함수를 만들 수 있다.&lt;/p&gt;
&lt;p&gt;왜 타입이 중요한가? 타입이 다르면 컴파일러가 다르게 처리할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Composable&lt;/code&gt; 타입 덕분에 컴파일 시점에 잘못된 호출 검증 가능 (일반 함수에서 Composable 호출 시 에러),
런타임이 Composable 함수를 특별하게 처리 가능 (재시작, Skip 등),
타입 시스템으로 제약을 강제할 수 있음.&lt;/p&gt;
&lt;p&gt;Composable 함수가 일반 함수와 완전히 다른 타입인 이유다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVR42k1TaWsTURTNLxZEFCnFVrStYhdtFeqC2FZEBa3d0i1ts0ySyUz2ZJLZskwmW1P9Ivj5eO4Lgh8u83jz3nnnnnNupFNNolW+RNjModfU0WtkMHLSaJpnqGWj8PmvYZzALcZU9RtJ9KzM9CxL7gpGaOfglhKIBPzZracJpKNT13goh4GTg1eOwytdqb12LYVWNY42Lw5dA33H5PmsAgysNAKuQ669chKRgZvH0CugzxcGdhY33SquOxWMvDzGfh43QU1Vn/+GPDvwigqwS3C5M/KLEIwegVtVDZGRncbE1/mChoZ5irp+TGYXZJ0iCw0W27XzZ/jZyasae1nVhTzQNI5R0fZh6UeoZQ7R0KNk6Oi49nOI7e9gaf4uVhZmsP5sXq3l+/rFIrbfrOLP2MKkTYZsObRNxSgkqGgnrQsBnzJFZGPsZnG+t41E9BMcCn/2YwvG1S4Z0xidhpRomp2hBKZqV7WsOtDJVB4wEFBrv5JCpFc+x8jW8PXDOt6/eko2K2Q2h5fL83i78USt15Zm8Wj2NnXN4aZlqET0qZsAt8lKjBlQc08AQzo0cjIoJPZgxndR1A7QtTTEo59R0g5hF2JInnxR+v4KiqomLRMjN6uYqeIDARkrl8NmlkLr+L7zCgsP7mB1cQZz92/h47s1bD5/jI3lh9TzHrY2l/F7WKWOJs9PE6Gy29CVSV22rAB71UsMJKx1Uq8n0K7ElatyqU/d/PIFgxtXJS6PXIaauocOW6Y5cj5gjoduYdqy6DCQHDLMYZPCt8sqhxLUgWNg0qmqkjRI3v7lTqZDBVpCToaipVuky0JVJmBqfXqaMQL3rBS6Ne430mocg7qMnDadDFa7FENA1kFNgKcT48no+cULuBQ8+G+UupUYHIbWNk/gmPwaUbiFU65PGN4jWOl91FO7sJLf4OkHZJeAjHDTjOEvGExu+FyBF9kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png&quot;
        srcset=&quot;/static/5314d2a18f59617ee9c2723cac41e942/e9ff0/cover.png 180w,
/static/5314d2a18f59617ee9c2723cac41e942/f21e7/cover.png 360w,
/static/5314d2a18f59617ee9c2723cac41e942/6af66/cover.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[GDG Korea Android 개발자 행사의 스피커가 되었습니다. super.init(version=6) 후기]]></title><description><![CDATA[발표자료: speakerdeck.com/android-modularization-experience 
행사 정보: https://event-us.kr/gdgandroid/event/9982…]]></description><link>https://www.winter-love.dev/life/super-init-v6-review/</link><guid isPermaLink="false">https://www.winter-love.dev/life/super-init-v6-review/</guid><pubDate>Sun, 16 Mar 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC30lEQVR42l2SbWhbZRzFL66OIRtaWytsQh3bWIfUzo254Yc5ymo77Qb7sBfmPghaLQNH3VwZ2wdXRQXBMrFaZbPFdTDa4kiTVhmBzKW1TdKb2+am6ftrmtybt6YmvZukTfLbTSiFeuBwHh54zv8cnr+wOfcFcvPzeGnLi+SXFpH/11kKTGfIM57i5c6zWc1wa+c5nrlfQe3DRp4MxfEPqqg6g3IQr+jD51Tw9asIz+VsouX3FjweN9KICyk0jhQcX9Ux3NFphuNzTGsqtUO3+cluIC4vorhU/AMqbssIgYEwihjAa1cQNl7Zz98TTkguE9aiRJfiJP5LkEyssKIzlUqRQTqdzqqmavhFP0H3An/eaqe+5nOavvkZr03B26cbbnhwAkvYRerxMqGFCDNzsygBhXAkzKx+DoXDZKySq8ZxdYl5UWHOGURu62S2/S7fVn2IaJLxO0IIz7a/y6OQC+c/DiwPLRgMBrq6urDZbHR0dCBJ0rqEMUVjVq82LwaJWgexf/cl3Q0/6ulUpqxevfIflVgjbtziIIYOA2azGbvdjsViyRpHIpFVQ7JJF/1xlP4gi8NP8Bh7MNZ+xL26G8z0hvD3hRGEtqM8isi4HBK/NTdhMplwOBz6J3mQZXktWWpVl/waI+Zx6i7UUfXe+zRfqeX4/rc4X/kBPa0iwjvWqwwsThENLTA6MYZ33kssFluruZJKkkynsukCiSihQIxfbjRStu8IJ98+Qdmb5dRUfUbZwaMcfv0IwkWpgYkl37oU/0fGMIPy7mt8MXSHdDzBv/pQTdOy920trRRve40924oQqqUfMI13I4666BuT6B1xMqxMMvlYxaPv36g+TI7NcMn1q77Yx/jUehNlbI6pyWlUn0osGuPr619RuOUVSgqLET6211Nl+34dP7HV86rxPDltx8hpraDAcJpS82UEYwXbq0spfn4Xe/XHpcWHObTzALsLdrAjr5A3tpfwFNUhsQbUHv0pAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cover&quot;
        title=&quot;&quot;
        src=&quot;/static/5d66eb67a58c667e3cf8cca5dc7248de/37523/cover.png&quot;
        srcset=&quot;/static/5d66eb67a58c667e3cf8cca5dc7248de/e9ff0/cover.png 180w,
/static/5d66eb67a58c667e3cf8cca5dc7248de/f21e7/cover.png 360w,
/static/5d66eb67a58c667e3cf8cca5dc7248de/37523/cover.png 720w,
/static/5d66eb67a58c667e3cf8cca5dc7248de/302a4/cover.png 1080w,
/static/5d66eb67a58c667e3cf8cca5dc7248de/29c1d/cover.png 1375w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;발표자료: &lt;a href=&quot;https://speakerdeck.com/winterlovedev/android-modularization-experience&quot;&gt;speakerdeck.com/android-modularization-experience&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 655px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADL0lEQVR42g3R/1PTBQDG8d31g3f91F131Q/VZZeVfYPMw8BCBYEgFZgDrCaQMA/P23KwyWDSgAEbskjGGhhISgi0wUUHwRTcmNCEcTcXiMiXG4wUJgIX3Zn207vPP/B6nuceUa0snKiwRMQHJWSm5qLMVqHOVuMw6flrtJvgSA8PLZ8Raj3NoqeXJ/euEhyw0qrV03quHH2Oii5dHk/6xcTuegdRXPhuEiIPCWAGhdlKLmkrsBaU8s9kJ8w1UW+QUZH+ArW5r3A4fiezQ7Vw34HHbGSj28B8ZzV23RnGa8RIY8IQJX4YQdInyXyZJCU/8wxGRRm1+dWMt1h4/PMpzKf2cD72VerE29n7mghV/NtseVvw1JlY66mB2WY23VXkpUg5nRKJaLjyUyQHxOQezUUuzaej1Eh7uZle0/esdRSx2PgVfk08g/K9XFfuoSAunNEmAyPmRgJtVeAzEeorQZGeRnT4+4jW7dFkJaYjSZBRnqdmq7eeZXsz03oZf1/+giVdJqOyd/HKd9N+5E0kO55B83EYt6+Y+dd7FcZMTP2QTajnOGVZEYiKJJEkRx+hryaHXkM+wQ4h0XaZAel+NhrTeXpSy6O0PFYOZeKKSeHwjucwxUSx3CXMXbnGxu/f4aqSCHAuV9TRiH6UZ1CvVvKfv441VwNLDjvLTRp+ORHLepOYp4VlPD6q4L4AtiV8TurOl7iYEUV/6Qk2x2yEOrX8VnKMS2opsgSh4UyHBY/dxp2hQeZuulnyT+Fr1jBoLeeh9QCrRfvYeise58sfkbV9G8qDHzBwXoHdoBEed7I6+iu+zga6q8tpUMsR3bTZ8F67zm2nixnPGAGfj0eBBdYCD1hxNDCpfZ0bsjeo3P8iiqjncf5kYT0QZHVyisXxMeZG3Hi7OhlqvEBraTEiT38//uFh7t66xbyABafu8GBmmtWFeTbv+ZnQxVGZFsGNb1Mwpr7Hn8KKhT/cjNja6LtYR4tOjTHvOKpjyXydFCeAjgF87mFmJiaY9wvgtADO3iW0FGTZ2c6FmGc5uS8MV0kyZ3dtoyJHTMO5s1j0aqxlWkzFKoyaAqqLC9Epv+F/R2tMfcmcqEMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/22452ca59949d9d68f78fb1d842de811/ae6b7/0.png&quot;
        srcset=&quot;/static/22452ca59949d9d68f78fb1d842de811/e9ff0/0.png 180w,
/static/22452ca59949d9d68f78fb1d842de811/f21e7/0.png 360w,
/static/22452ca59949d9d68f78fb1d842de811/ae6b7/0.png 655w&quot;
        sizes=&quot;(max-width: 655px) 100vw, 655px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;행사 정보: &lt;a href=&quot;https://event-us.kr/gdgandroid/event/99825&quot;&gt;https://event-us.kr/gdgandroid/event/99825&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;자식 클래스가 생성되기 위해서는 부모 클래스의 생성자를 먼저 호출합니다.&lt;/p&gt;
&lt;p&gt;이 행사는 시니어가 되기 위해 주니어들이 super.init 하는 행사입니다.&lt;/p&gt;
&lt;p&gt;어떠한 기준으로 주니어/시니어를 나눌 수 없지만 오늘의 나보다 더 발전하기를 원하고 내일의 내가 더 나은 개발자가 될 수 있도록 그러한 배움을 더 바라는 분들을 위해 행사를 준비했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;개요---발표자-지원하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EC%9A%94---%EB%B0%9C%ED%91%9C%EC%9E%90-%EC%A7%80%EC%9B%90%ED%95%98%EA%B8%B0&quot; aria-label=&quot;개요   발표자 지원하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;개요 - 발표자 지원하기&lt;/h1&gt;
&lt;p&gt;2025년 3월 15일. GDG Korea Android 팀이 주관하는 행사 super.init(version=6)의 발표 연사자가 되었습니다.&lt;/p&gt;
&lt;p&gt;안드로이드 주니어 개발자들에게 발표 기회를 주고, 주니어 청중들을 대상으로 기술이나 경험을 주제로 발표를 하는 행사입니다.&lt;/p&gt;
&lt;p&gt;저는 4년차 안드로이드 개발자고, 이런 공개적인 행사의 청중으로만 참여했을 뿐 발표한 경험은 없었습니다. 이번 행사에선 저도 발표자로 첫 발을 내딛고, 주니어와 중니어의 경계에 있는 연차로서 마지막 super.init 발표 참여 기회라고 생각했습니다.&lt;/p&gt;
&lt;p&gt;발표자 모집 기간에 떨리는 마음으로 지원했고, 큰 기대는 안 했었는데 운이 좋게도 발표자로 선정되어 이렇게 후기를 작성하고 있네요. 좋은 기회를 주신 GDG Korea Android 팀에 감사의 인사를 전합니다. 🥰&lt;/p&gt;
&lt;h1 id=&quot;발표-주제-선정하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%9C%ED%91%9C-%EC%A3%BC%EC%A0%9C-%EC%84%A0%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;발표 주제 선정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;발표 주제 선정하기&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;팀원들을 설득하는 방법&lt;/li&gt;
&lt;li&gt;모듈화 경험&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;저의 관심사를 몇 가지 리스트업 했고, 현실적으로 많은 이야기를 할 수 있는 발표 주제로서는 모듈화 경험만한게 없었습니다.&lt;/p&gt;
&lt;p&gt;발표 제목은 청중들의 흥미를 자극할 수 있는게 뭐가 있을까 고민했고, 정말 마음에 드는 제목이 딱 떠올랐습니다. 🤭&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;“10년 개발한 프로젝트. 애자일 업무 조직에서 모듈화 했던 경험을 공유합니다”&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;발표-준비하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%9C%ED%91%9C-%EC%A4%80%EB%B9%84%ED%95%98%EA%B8%B0&quot; aria-label=&quot;발표 준비하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;발표 준비하기&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;발표 대본 글쓰기&lt;/li&gt;
&lt;li&gt;PPT 만들기&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;발표 자료를 만드는 프로세스는 이렇게 두 단계였는데, 글을 쓰는데 정말 많은 시간을 투자했습니다 (2주 정도). 아무래도 회사 일정과 병행 하다보니 준비가 쉽지는 않았습니다.&lt;/p&gt;
&lt;p&gt;여차 저차 아쉬움이 남지 않게 발표 자료를 열심히 만들었습니다.&lt;/p&gt;
&lt;p&gt;발표자료: &lt;a href=&quot;https://speakerdeck.com/winterlovedev/android-modularization-experience&quot;&gt;speakerdeck.com/android-modularization-experience&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2주 동안 열심히 작성한 대본과 PPT 자료를 조합해서 며칠 동안은 방이 쩌렁 쩌렁 울리게 대본을 읽고, 발표 제한시간 20분이 넘지 않게 첨삭하는 시간을 보냈습니다. 방에서 대본을 읽는것도 처음엔 많이 떨려서 익숙해지는데도 시간이 며칠 필요했습니다. 🤢&lt;/p&gt;
&lt;h1 id=&quot;행사장-모습&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%96%89%EC%82%AC%EC%9E%A5-%EB%AA%A8%EC%8A%B5&quot; aria-label=&quot;행사장 모습 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;행사장 모습&lt;/h1&gt;
&lt;p&gt;행사 장소는 선릉역에 있는 “배민테크살롱” 입니다. 평소엔 학생들이 개발 공부를 하는 캠퍼스로 사용되는 공간이라고 합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAES0lEQVR42h2TW1OTVxSGv9tOb9ppe+Fx9MJWrdpWschIPEQqgqAcNFBFEAEFFFETRQ4thGOiEhIEIgRJnBDOCQmBmEBiTEggQIGqpZ0e/svTLRdr9p75vvXMftf7LunS6X08ykvk1+LTm1VfLKf2xinuXzlG4YXDlGQcJT/1O+RHdpIUtxPF6T0Uph3kXm4cdYWJNJedpa0ildY7KbQ9yEIyNRZjrL/BQOtNrE9vYWzI54kyk/o7F9DW3cLU8ZgXusc8bbrPsxYlffparEY1tp5fGOys4qnqMvUlclorUtAqs5H6G/LQVqbTVJbMk7uptNxOpjTzB5pV11hfcLMSnWI54mI56iIWniQ27xT3KaJvJlgMuenRKLmbk8DDgpO0VGYg9dbl0qHKpFWA2srPUlMoI1O2i6LsRDyjnbhHDbiGdDgGnzFp1WG3tmO3GbAPGpgc7sbnekXAM4xnwkSvphLJWKOgQ3mRxptnUJecQnU1ngsJ28lJ/p7pkQ5mxp/jHuvCPd6Na8TA1PBzPI4+3PZefFOvGHulo0mo6WuvJjw7gdRVlY1eANUlwpCiEwL4I1myHaTL9uAc1DItgJOmWtyWRpxWDa8dL/C4TMzYTXhdFioLkrkkFJVnx2HRVyN1PsxCr8oQQPkmsCr/GLny3ZyL34HDqsXRXUm5/CsqZJ+QdzYOl02P1/1SlJmZyZeUXJaRe+YblNdOYGwuQ/oI04kZNpUmCehJqq8ncC15D2cOb2HUpMbekEpjymc8SvyU81sl1LevEg3b8XttQrKF6xfjyRHA6iI5/doKJJ0yg3ZVljDl3CawtvA4xen7Re62MNBSiq34EOaMbXSnbaUu/ksKEvYyNdRJVLj9enKAgvQ48s4dQF2ewmCXkKx/dIkOIVtz97wwRoS7SEZ51iER4q0YHv+M7fYx7Il7Gf52F8q921Ec2slg6wPWVmeFSd0okvaRm/Q1GpHBWUcvUk9NDl3VCtrFS5tLhdMCWplzhFMHPsfQdp+ARYU9eRvGXV+Qv387LWUKXANPRBbdwtVxeg31aGpvMTNmZG3BI4LdWEifyGK3gGrE+jQLYIXiKGmyfXQ/qyLmM2O8cpAa4Xx15nEiQfum3I+n12nB47QSCjiJhWaIBWeQvGIeI0J7f+N1EeyfUJeloW+8h6FVxYhZS2S6nwH1HawNRfRW5RMJuYgExom8sTNs1mHQ1jA0oMc12k94zoUUFk5FvUOEpsw4XmrwTpiJioBOj/bgEzN567GwFHawGBSQwOgm7K1vmNDsmKgJgq/HiQZc4h+PkOxHer/gYz08zcZSgL9Ww7yP+Vmb9xALOFh662BF7O+8z0bUP0LEP8r83BgLQSersTnWYwGx73N8WA7yx4roXQoh/ftugf8+LLKxEmQt4t2s9aiPP1dD/PNhgb/fzYsGP6sRj2ieZeO3EBtrYdYF5PelN7z7CF30i28B3i+H+R/4PDmZIt2isQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/88865d2a24771accd6f5931c4a9f4171/6af66/1.png&quot;
        srcset=&quot;/static/88865d2a24771accd6f5931c4a9f4171/e9ff0/1.png 180w,
/static/88865d2a24771accd6f5931c4a9f4171/f21e7/1.png 360w,
/static/88865d2a24771accd6f5931c4a9f4171/6af66/1.png 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;행사장 입구에서 귀여운 머그컵을 나눠주고 있었습니다&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAC/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAARzhUKer/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAEREyECEiL/2gAIAQEAAQUCj1WK2OhsSj//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARMQL/2gAIAQEABj8CVM1RT6jD/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFBYf/aAAgBAQABPyHSDuJ5Meta7E3VmZB6FRRuofKf/9oADAMBAAIAAwAAABBMz//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQIBAT8Qmo//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhYUFxoTH/2gAIAQEAAT8QUNrsilbiWGlJ4t5ety4oCRx8fe4+6i5D0g95BWmUlFRqf//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;&quot;
        src=&quot;/static/a0d989084e83c7386395cb9a686111d7/80e3c/2.jpg&quot;
        srcset=&quot;/static/a0d989084e83c7386395cb9a686111d7/4ec73/2.jpg 180w,
/static/a0d989084e83c7386395cb9a686111d7/158ba/2.jpg 360w,
/static/a0d989084e83c7386395cb9a686111d7/80e3c/2.jpg 720w,
/static/a0d989084e83c7386395cb9a686111d7/47311/2.jpg 1080w,
/static/a0d989084e83c7386395cb9a686111d7/d165a/2.jpg 1400w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;행사장 모습&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQD/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAYa4U6MQf//EABkQAAIDAQAAAAAAAAAAAAAAAAECAAMSEf/aAAgBAQABBQJAjQ5rU2J3WXNnQWE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAwADAQAAAAAAAAAAAAAAAAERITJBEv/aAAgBAQAGPwKNP0zU0FiPpJ0Uwf/EABsQAQADAQADAAAAAAAAAAAAAAEAESExQYGh/9oACAEBAAE/IahHokF0vtX1ifL7liFH6iIxtmKwMbk//9oADAMBAAIAAwAAABAT/wD/xAAYEQEAAwEAAAAAAAAAAAAAAAABEBEhMf/aAAgBAwEBPxASt7H/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgMAAwEAAAAAAAAAAAABABEhMVFBYXGx/9oACAEBAAE/EGGIyAL9ErkAGks7kqNF+zT8l3FUpVW5zE3sgXl3UNXho2ez/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;3&quot;
        title=&quot;&quot;
        src=&quot;/static/6058109b41027388172cd9add784a4c8/80e3c/3.jpg&quot;
        srcset=&quot;/static/6058109b41027388172cd9add784a4c8/4ec73/3.jpg 180w,
/static/6058109b41027388172cd9add784a4c8/158ba/3.jpg 360w,
/static/6058109b41027388172cd9add784a4c8/80e3c/3.jpg 720w,
/static/6058109b41027388172cd9add784a4c8/47311/3.jpg 1080w,
/static/6058109b41027388172cd9add784a4c8/d165a/3.jpg 1400w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;행사장 모습2&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;100명이 넘는 안드로이드 개발자 청중들이 모였습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAAECBAUDBv/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/aAAwDAQACEAMQAAABzXNkTmHo62daxMRC3//EABwQAAICAgMAAAAAAAAAAAAAAAECAAMQEhETQf/aAAgBAQABBQLOrwLzN4rpcOkVNosqJBZi08//xAAVEQEBAAAAAAAAAAAAAAAAAAAQAv/aAAgBAwEBPwEk/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAIQIWH/2gAIAQIBAT8BhsLP/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAEQESExMv/aAAgBAQAGPwKXapKaaM4eUWa4/8QAHRAAAwEAAgMBAAAAAAAAAAAAAAERITFBUWGhsf/aAAgBAQABPyEhB2flVfY5Fmvgz18GVf2mRW/krybv8SZOMTS2CxEf/9oADAMBAAIAAwAAABDDK7//xAAZEQEAAgMAAAAAAAAAAAAAAAABABEQMVH/2gAIAQMBAT8QrCvcA5P/xAAYEQEBAQEBAAAAAAAAAAAAAAABABEhMf/aAAgBAgEBPxAduwSLr2//xAAfEAEAAgICAgMAAAAAAAAAAAABABEhMUFRYbFxofD/2gAIAQEAAT8QouAgKm5iUsdA8yrrK7cG7+oHBPxwj2OL9oYhg2Ro+n6pajcquO5clZslzgudceJiF0AE/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;4&quot;
        title=&quot;&quot;
        src=&quot;/static/45f162ea3418616b080f84262e32c116/80e3c/4.jpg&quot;
        srcset=&quot;/static/45f162ea3418616b080f84262e32c116/4ec73/4.jpg 180w,
/static/45f162ea3418616b080f84262e32c116/158ba/4.jpg 360w,
/static/45f162ea3418616b080f84262e32c116/80e3c/4.jpg 720w,
/static/45f162ea3418616b080f84262e32c116/9ecec/4.jpg 1050w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;제가 발표하는 모습입니다 ✌️&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&quot;간단한-발표-내용-공유&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%84%EB%8B%A8%ED%95%9C-%EB%B0%9C%ED%91%9C-%EB%82%B4%EC%9A%A9-%EA%B3%B5%EC%9C%A0&quot; aria-label=&quot;간단한 발표 내용 공유 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;간단한 발표 내용 공유&lt;/h1&gt;
&lt;p&gt;저는 모빌리티 서비스 TADA 팀에서 일하고 있습니다. 우리가 익숙하게 알고있는 한국의 TADA 가 아니라, 해외에도 똑같은 이름의 TADA 서비스를 운영하는 회사가 있는데요. 저는 이 해외 서비스 개발팀 입니다. 전혀 다른 회사고 우리가 먼저 출시 했다고 합니다. (매우 중요 😤)&lt;/p&gt;
&lt;p&gt;이 프로젝트는 10년 간 개발 되었습니다. 10년 전의 개발 방식부터 현대 방식과 아키텍처 적용에 이르기까지 &lt;strong&gt;“다양한 개발 방법론”&lt;/strong&gt; 과 &lt;strong&gt;“아키텍처”&lt;/strong&gt; 와 &lt;strong&gt;“각 출시 국가별 구현이 쌓여온”&lt;/strong&gt; 프로젝트였습니다.&lt;/p&gt;
&lt;p&gt;열정있는 우리 팀원 분들이 아키텍처를 현대화 하고 코드 퀄리티를 개선하기 위해 꾸준히 노력해왔지만 이미 과거부터 너무나 강력하게 결합되고, 거대해진 코드베이스의 확장성, 가독성, 코드 품질을 개선하는 것은 쉽지 않은 일이었습니다.&lt;/p&gt;
&lt;p&gt;우리팀은 효율적인 개발 환경으로 개선하기 위해 오랜 시간 고민해왔는데요. 그 해결책으로 모듈화 도입을 오랫동안 검토하고 있었습니다.&lt;/p&gt;
&lt;p&gt;마침 우리는 모듈화를 진행하게 되는 &lt;a href=&quot;https://speakerdeck.com/winterlovedev/android-modularization-experience?slide=6&quot;&gt;어떠한 계기를 맞이하게 되었고&lt;/a&gt; 이후로 우당탕탕 모듈화를 했던 과정와 경험담을 공유하는 발표입니다. 🤗&lt;/p&gt;
&lt;p&gt;모듈화에 관한 경험담과 방법을 언젠가 블로그 아티클로 다루려 합니다.&lt;/p&gt;
&lt;h1 id=&quot;후기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EA%B8%B0&quot; aria-label=&quot;후기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후기&lt;/h1&gt;
&lt;p&gt;자료 준비부터 현장 발표까지 한 순간도 아쉬움이 남지 않게 열심히 준비해서 다 쏟아내고(?) 왔습니다.&lt;/p&gt;
&lt;p&gt;발표 당시엔 너무 떨렸습니다. 🤢 끝나고 나서는 후련하고 뿌듯했습니다. 🤟 좋은 기회를 주신 GDG Korea Android 팀에 다시 한 번 감사의 인사를 전합니다. 🥰&lt;/p&gt;
&lt;p&gt;제 발표를 보러 먼 길 와주신 친구들, 회사 동료에게도 감사의 인사를 전합니다. 🥰&lt;/p&gt;
&lt;p&gt;링크드인으로만 뵈었던 분들이 저에게 먼저 다가와서 인사도 해주셨는데, 정말 반가웠습니다. 🤝&lt;/p&gt;
&lt;p&gt;저의 &lt;a href=&quot;https://winter-love.dev/android/research-lint-library/&quot;&gt;Lint 적용 블로그 아티클&lt;/a&gt; 을 보고 Lint 작업을 하셨다는 분도 있었습니다. 😱 충격과 뿌듯함, 감사함이 몰려왔습니다…! Lint 후속 글 쓰기로 했는데… 빨리 써야겠습니다.&lt;/p&gt;
&lt;p&gt;행사장의 사람들과 이야기 하면서 여러가지 인사이트를 얻었고, 그 과정에서 저에게 당장 필요한, 부족한 부분들을 찾을수 있었습니다. 좋은 고민 주제를 몇 가지 얻을수 있었습니다.&lt;/p&gt;
&lt;p&gt;감사합니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Detekt vs KtLint vs Spotless 비교 (with Jetpack Compose)]]></title><description><![CDATA[Photo by Tingey Injury Law Firm on Unsplash 목차 개요 Lint 란 무엇이며 왜 필요한가 Lint 적용 전에 고려 해야될 점 필자가 겪고 있는 문제 문제 해결 방법 및 목표 KtLint KtLint Gradle…]]></description><link>https://www.winter-love.dev/android/research-lint-library/</link><guid isPermaLink="false">https://www.winter-love.dev/android/research-lint-library/</guid><pubDate>Sat, 22 Feb 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHUtBJR/8QAGBABAAMBAAAAAAAAAAAAAAAAAgEDEBP/2gAIAQEAAQUCus5AorEC4kGc/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBEAIhMf/aAAgBAQAGPwJmppZQzlf/xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMUFh/9oACAEBAAE/IeLtiolqmMgCvotVXGuQZ//aAAwDAQACAAMAAAAQJB//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQMBAT8QiH//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPxCn/8QAHBABAAIBBQAAAAAAAAAAAAAAAQARITFBUXHh/9oACAEBAAE/ECUiYFYV8guwF1vBmABVsDZcKObBbomkGZ//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;&quot;
        src=&quot;/static/5a8526fa27332bb10af8df181691db1a/c08c5/0.jpg&quot;
        srcset=&quot;/static/5a8526fa27332bb10af8df181691db1a/4ec73/0.jpg 180w,
/static/5a8526fa27332bb10af8df181691db1a/158ba/0.jpg 360w,
/static/5a8526fa27332bb10af8df181691db1a/c08c5/0.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;Photo by &lt;a href=&quot;https://unsplash.com/@tingeyinjurylawfirm?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash&quot;&gt;Tingey Injury Law Firm&lt;/a&gt; on &lt;a href=&quot;https://unsplash.com/photos/brown-wooden-tool-on-white-surface-veNb0DDegzE?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash&quot;&gt;Unsplash&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&quot;목차&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%AA%A9%EC%B0%A8&quot; aria-label=&quot;목차 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;목차&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#%EA%B0%9C%EC%9A%94&quot;&gt;개요&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#lint-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%A9%B0-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80&quot;&gt;Lint 란 무엇이며 왜 필요한가&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#lint-%EC%A0%81%EC%9A%A9-%EC%A0%84%EC%97%90-%EA%B3%A0%EB%A0%A4-%ED%95%B4%EC%95%BC%EB%90%A0-%EC%A0%90&quot;&gt;Lint 적용 전에 고려 해야될 점&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%ED%95%84%EC%9E%90%EA%B0%80-%EA%B2%AA%EA%B3%A0-%EC%9E%88%EB%8A%94-%EB%AC%B8%EC%A0%9C&quot;&gt;필자가 겪고 있는 문제&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%EB%B0%8F-%EB%AA%A9%ED%91%9C&quot;&gt;문제 해결 방법 및 목표&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint&quot;&gt;KtLint&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint-gradle-integration-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95&quot;&gt;KtLint Gradle integration 설치 방법&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC&quot;&gt;KtLint 테스트 결과&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#detekt&quot;&gt;Detekt&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#detekt-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95&quot;&gt;Detekt 설치 방법&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#detekt-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC&quot;&gt;Detekt 테스트 결과&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint-vs-detekt-%EC%9D%98-%EC%84%A0%ED%98%B8%EB%8F%84-%EC%B0%A8%EC%9D%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0&quot;&gt;KtLint vs Detekt 의 선호도 차이 알아보기&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#spotless&quot;&gt;Spotless&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC%ED%95%98%EB%A9%B0&quot;&gt;정리하며&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;예상 읽기 시간: 20분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;개요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EC%9A%94&quot; aria-label=&quot;개요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;개요&lt;/h1&gt;
&lt;p&gt;본 글에서는 Kotlin 으로 작성된 안드로이드 프로젝트에서 코드 서식을 관리하는 Lint 에 대해 알아봅니다.&lt;/p&gt;
&lt;p&gt;필자의 실무에 기반하여 작성된 글이며, 실무 프로젝트에 적용할 최적의 Lint 라이브러리를 찾는 과정을 서술 했습니다. &lt;strong&gt;KtLint&lt;/strong&gt;, &lt;strong&gt;Detekt&lt;/strong&gt;, &lt;strong&gt;Spotless&lt;/strong&gt;를 다룹니다.&lt;/p&gt;
&lt;p&gt;Lint 적용을 고민하는 분들께 참고가 되길 바랍니다.&lt;/p&gt;
&lt;h1 id=&quot;lint-란-무엇이며-왜-필요한가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lint-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%A9%B0-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80&quot; aria-label=&quot;lint 란 무엇이며 왜 필요한가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lint 란 무엇이며 왜 필요한가&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Lint&lt;/strong&gt; 혹은 &lt;strong&gt;Linter&lt;/strong&gt; 란, 소스코드를 분석하여 프로그램의 오류, 잘못된 서식, 의심스러운 구조체에 표시(flag)를 달아놓기 위한 도구를 가리킵니다.&lt;/p&gt;
&lt;p&gt;우리는 이 Lint 도구를 이용해서 팀 내에 특정한 코딩 서식을 따르게 설정할 수 있을뿐 아니라 코드의 복잡성을 경고하거나, 버그가 잠재된 코드를 조기에 경고하여 일정한 코드 퀄리티를 유지할 수 있습니다.&lt;/p&gt;
&lt;p&gt;협업을 하다보면 작업자 마다 코드를 작성하는 스타일이 다름을 알게 됩니다. &lt;a href=&quot;https://kotlinlang.org/docs/coding-conventions.html#verify-that-your-code-follows-the-style-guide&quot;&gt;코틀린 공식 코딩 컨벤션&lt;/a&gt; 을 참고하는 정도가 각자 다르고, 특히 한 작업자의 독자적인 스타일로 코드가 작성되는 경우를 볼 수도 있습니다.&lt;/p&gt;
&lt;p&gt;코드 서식이 불규칙하거나 복잡할수록 미래의 자신, 혹은 다음 작업자가 해당 코드의 컨텍스트를 파악하고 수정하기 어렵게 만드는 요소가 될 수 있습니다. 때문에 본인이 참여하는 프로젝트가 정기적으로 관리되고 있다면 Lint 사용을 고려해보세요. 자신과 팀원 모두에게 보다 쾌적한 미래의 작업 환경을 만드는데 도움이 될 수 있습니다.&lt;/p&gt;
&lt;p&gt;또한 신규 팀원에게 코드 스타일에 대한 지침을 Lint 에 위임하여 인수인계 시간을 절약하고 Lint 설정에 의해 자연스러운 프로젝트 적응을 도와줍니다.&lt;/p&gt;
&lt;h2 id=&quot;lint-적용-전에-고려-해야될-점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lint-%EC%A0%81%EC%9A%A9-%EC%A0%84%EC%97%90-%EA%B3%A0%EB%A0%A4-%ED%95%B4%EC%95%BC%EB%90%A0-%EC%A0%90&quot; aria-label=&quot;lint 적용 전에 고려 해야될 점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lint 적용 전에 고려 해야될 점&lt;/h2&gt;
&lt;p&gt;팀원들과 정기적으로 관리하는 프로젝트에 Lint 적용을 고려중이라면 다음 사항을 충분히 인지 해두는게 좋습니다.&lt;/p&gt;
&lt;p&gt;Lint 를 적용한다는 것은 &lt;strong&gt;코딩 컨벤션을 강제화 하는것&lt;/strong&gt;, 즉 팀원들에게 &lt;strong&gt;불편함을 전파&lt;/strong&gt; 하는것입니다. 초기 적응 기간에 특히 그럴 것이고 작업 완료를 지연 시킴으로써 Lint 의 장점을 느끼기 보다는 불만의 목소리를 초래할 수 있습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;초기 적응 기간에 우리가 겪을 불편함을 팀원들에게 충분히 인지 시키고&lt;/li&gt;
&lt;li&gt;그럼에도 우리가 Lint 를 적용하고, 적응함으로써 갖게될 이점이 뭔지 앞서 설명한 내용을 인용하여 팀원들과 충분히 논의하고 설득해야 합니다.&lt;/li&gt;
&lt;li&gt;코딩 가이드가 없음으로써 팀이 어떤 불편함을 겪었는지 실제 사례를 떠올려 보세요. 당장 Lint 가 필요한지 판단하는 지표가 될 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;필자가-겪고-있는-문제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%84%EC%9E%90%EA%B0%80-%EA%B2%AA%EA%B3%A0-%EC%9E%88%EB%8A%94-%EB%AC%B8%EC%A0%9C&quot; aria-label=&quot;필자가 겪고 있는 문제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;필자가 겪고 있는 문제&lt;/h1&gt;
&lt;p&gt;최근 10년간 관리된 모놀리틱 프로젝트를 모듈화 설계로 개편한 영향 때문인지, 상당히 오래전(2021)에 적용했던 &lt;strong&gt;KtLint&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt; 0.4.0&lt;/code&gt; 의 서식 검사가 제대로 안 되고 있습니다.&lt;/p&gt;
&lt;p&gt;모듈화 개편 이전엔 Git hook 로 &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 타이밍에 Lint 코드 서식 검사를 실행 했었는데요. (서식에 잘못된 부분이 있으면 커밋이 거부되는 방식) 설계 개편으로 늘어난 모듈 개수, 달라진 패키지 구조와 네이밍 방식 때문에 Lint 실행 시간만 늘어나서 이 대기 시간이 매우 답답한 상황입니다.&lt;/p&gt;
&lt;p&gt;개편된 프로젝트에서 사용하는 Kotlin 의 버전은 &lt;code class=&quot;language-text&quot;&gt;2.1.0&lt;/code&gt; 이며, 이 Kotlin 버전에 대응하는 &lt;strong&gt;KtLint&lt;/strong&gt; 는 &lt;code class=&quot;language-text&quot;&gt;1.5.0&lt;/code&gt; 입니다. 현재 사용중인 &lt;code class=&quot;language-text&quot;&gt;0.4.0&lt;/code&gt; 버전과 비교해보면 Lint 가 상당히 오래 되었음을 알 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;문제-해결-방법-및-목표&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%EB%B0%8F-%EB%AA%A9%ED%91%9C&quot; aria-label=&quot;문제 해결 방법 및 목표 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;문제 해결 방법 및 목표&lt;/h2&gt;
&lt;p&gt;우선 개편된 프로젝트 구조에 맞게 &lt;strong&gt;KtLint&lt;/strong&gt; 를 최신화, 테스트를 해보고 서식 검사 범위를 Compose 코드까지 확장하려 합니다.&lt;/p&gt;
&lt;p&gt;이 프로젝트는 팀원들과 함께 관리되고 있으며 XML View 방식에서 Jetpack Compose 로 50% 이상 마이그레이션 되었습니다. 앞으로도 UI 작업은 Compose 가 메인이 될 것이라 해당 코드에 대한 서식 일관화, 퀄리티 관리가 잘 될 수 있는 방향으로 Lint 를 설정하려 합니다. 오랜 기간 관리된 프로젝트라 그런지 팀원들과 논의했을 때, Compose 까지 일관된 코드 퀄리티를 유지하고 싶은 공감대가 있음을 확인했습니다.&lt;/p&gt;
&lt;p&gt;만약 Compose 비중이 낮은 팀이라면 Compose 서식 검사를 Ignore 하는게 가장 심플한 해결책이 될 겁니다.&lt;/p&gt;
&lt;h1 id=&quot;ktlint&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ktlint&quot; aria-label=&quot;ktlint permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;KtLint&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/pinterest/ktlint&quot;&gt;github.com/pinterest/ktlint&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnElEQVR42q2RQQrCMBBFe1bXrkRceg93gujCmyhu3GnBIxRpZ5ohTcw3MU270lbxw2PC/OFnYDIiQpBzDv9QNhhYCnDnCMmPgeldKmCxA5b7WGebPvTNAp8DC+9N18B8G5ms4idjApO01mBmhD5VFeiUoz5ewYcL6vMNTAwlCuRnRGR4Q2stjDEdjXvAeK/D99JMqN8f5WW2jLjyEw1rIeYqazjZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/140fe0c66675dc6c752ebb654dc9d908/37523/1.png&quot;
        srcset=&quot;/static/140fe0c66675dc6c752ebb654dc9d908/e9ff0/1.png 180w,
/static/140fe0c66675dc6c752ebb654dc9d908/f21e7/1.png 360w,
/static/140fe0c66675dc6c752ebb654dc9d908/37523/1.png 720w,
/static/140fe0c66675dc6c752ebb654dc9d908/302a4/1.png 1080w,
/static/140fe0c66675dc6c752ebb654dc9d908/07a9c/1.png 1440w,
/static/140fe0c66675dc6c752ebb654dc9d908/cea38/1.png 1644w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아래는 KtLint 의 소갯말입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An anti-bikeshedding Kotlin linter with built-in formatter.
“Bikeshedding”(자잘한 것에 대한 과도한 논쟁)을 방지하는 Kotlin 언어용 린터(코드 검사 도구).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Key features (주요 기능)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No configuration required (설정이 필요하지 않습니다)&lt;/li&gt;
&lt;li&gt;Built-in Rule sets (룰셋이 내장되어 있습니다)&lt;/li&gt;
&lt;li&gt;Built-in formatter (포맷터가 내장되어 있습니다)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;위 설명처럼 프로젝트에 KtLint 를 설치만 하면 별도의 설정이 필요없이 자체 Rule sets 으로 서식 검사를 할 수 있으며, 자체 Formatter 로 코드를 자동 수정할 수 있습니다. 전반적으로 KtLint 의 편의성을 잘 설명하고 있습니다.&lt;/p&gt;
&lt;p&gt;Mac OS 기준 &lt;code class=&quot;language-text&quot;&gt;brew install ktlint&lt;/code&gt; 커맨드로 KtLint CLI 설치, &lt;code class=&quot;language-text&quot;&gt;ktlint --format&lt;/code&gt; 을 입력하면 자체 내장 Rule set 서식을 참조하여 프로젝트의 코드를 자동 수정해줍니다.&lt;/p&gt;
&lt;p&gt;하지만 필자는 &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 타이밍에 KtLint 를 설치하고 사용할거라, &lt;a href=&quot;https://pinterest.github.io/ktlint/latest/install/integrations/&quot;&gt;공식 문서 Gradle integration&lt;/a&gt; 내용을 참고해서 설치했습니다. 서식 검사 커맨드를 &lt;code class=&quot;language-text&quot;&gt;./gradlew ktlintCheck&lt;/code&gt;, 포맷터 실행 커맨드를 &lt;code class=&quot;language-text&quot;&gt;./gradlew ktlintFormat&lt;/code&gt; 로 지정해서 테스트 했습니다.&lt;/p&gt;
&lt;h2 id=&quot;ktlint-gradle-integration-설치-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ktlint-gradle-integration-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;ktlint gradle integration 설치 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;KtLint Gradle integration 설치 방법&lt;/h2&gt;
&lt;p&gt;Gradle integration 설치 스크립트가 궁금하신 분은 아래 토글을 펼쳐서 확인해주세요.&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;(토글) KtLint Gradle integration 설치 방법&lt;/summary&gt;
&lt;ol&gt;
&lt;li&gt;프로젝트 root 경로에 &lt;code class=&quot;language-text&quot;&gt;ktlint.gradle.kts&lt;/code&gt; 파일 생성&lt;/li&gt;
&lt;li&gt;아래 스크립트 작성&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// KtLint version: 1.5.0 &lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; ktlint &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; configurations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;creating

dependencies &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;ktlint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;com.pinterest.ktlint:ktlint-cli:1.5.0&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        attributes &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;attribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Bundling&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BUNDLING_ATTRIBUTE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;named&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Bundling&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;EXTERNAL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * Run at the project root:
 * ./gradlew ktlintCheck
 */&lt;/span&gt;
tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;register&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;JavaExec&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ktlintCheck&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    group &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; LifecycleBasePlugin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;VERIFICATION_GROUP
    description &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Check Kotlin code style&quot;&lt;/span&gt;&lt;/span&gt;
    classpath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ktlint
    mainClass&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;com.pinterest.ktlint.Main&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &quot;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;src&lt;span class=&quot;token comment&quot;&gt;/**/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kt&quot;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;**.kts&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &quot;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;build&lt;span class=&quot;token comment&quot;&gt;/**&quot;,
        &quot;!:some-module-name/**&quot;, // &amp;lt;- ! exclude specific module from formatting
    )
}

/**
 * Run at the project root:
 * ./gradlew ktlintFormat
 */&lt;/span&gt;
tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;register&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;JavaExec&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ktlintFormat&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    group &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; LifecycleBasePlugin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;VERIFICATION_GROUP
    description &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Check Kotlin code style and format&quot;&lt;/span&gt;&lt;/span&gt;
    classpath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ktlint
    mainClass&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;com.pinterest.ktlint.Main&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;jvmArgs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;-F&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &quot;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;src&lt;span class=&quot;token comment&quot;&gt;/**/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;kt&quot;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;**.kts&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &quot;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;build&lt;span class=&quot;token comment&quot;&gt;/**&quot;,
        &quot;!:some-module-name/**&quot;, // &amp;lt;- ! exclude specific module from formatting
    )
}

tasks.register&amp;lt;Copy&gt;(&quot;installKtlintGitHookToPreCommit&quot;) {
    val preCommitContent = &quot;&quot;&quot;
        #!/bin/bash
        ./gradlew ktlintFormat
        if [ $? -ne 0 ]; then exit 1; fi
    &quot;&quot;&quot;.trimIndent()
    
    val preCommitFile = File(rootProject.rootDir, &quot;.git/hooks/pre-commit&quot;)
    preCommitFile.writeText(preCommitContent)
    preCommitFile.setExecutable(true)
}
3. Gradle sync 후 root 에서 아래 커맨드 실행

서식만 검사하기: `./gradlew ktlintCheck`

서식대로 코드 자동 수정하기: `./gradlew ktlintFormat`

4. 테스트가 완료 되었으면 `./gradlew installKtlintGitHookToPreCommit` 실행하여 `pre-commit` 단계에 KtLint 서식 검사를 설치합니다.

설치가 잘 되었는지 확인하려면

```bash
cat .git/hooks/pre-commit&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;프리커밋 단계를 삭제하고 싶다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-rf&lt;/span&gt; .git/hooks/pre-commit&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;끝.&lt;/p&gt;
&lt;/details&gt;
&lt;h2 id=&quot;ktlint-테스트-결과&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ktlint-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;ktlint 테스트 결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;KtLint 테스트 결과&lt;/h2&gt;
&lt;p&gt;위에 작성한 Gradle integration 방법대로 KtLint &lt;code class=&quot;language-text&quot;&gt;1.5.0&lt;/code&gt; 로 최신화 및 Lint 실행 까지는 잘 되었으나, KtLint 에서 제시하는 서식이 우리 팀에서 작성하던 서식과 많이 달랐습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; SampleRemoteDataSource &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parameter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; SampleDataSourceImpl &lt;span class=&quot;token annotation builtin&quot;&gt;@Inject&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; apiService&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SampleApiService&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SampleRemoteDataSource &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parameter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 코드는 우리 팀이 일반적으로 작성하는 비즈니스 로직의 서식입니다. 보통 &lt;code class=&quot;language-text&quot;&gt;클래스네임&lt;/code&gt; + &lt;code class=&quot;language-text&quot;&gt;@Inject&lt;/code&gt;어노테이션 + &lt;code class=&quot;language-text&quot;&gt;constructor(&lt;/code&gt; 를 나란히 작성하고, 개행해서 파라미터 목록을 선언 했는데요.&lt;/p&gt;
&lt;p&gt;서식을 어떻게 교정해주는지 확인하기 위해 &lt;code class=&quot;language-text&quot;&gt;./gradlew ktlintFormat&lt;/code&gt; 커맨드를 실행하고 결과를 확인해보면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; SampleDataSourceImpl
    &lt;span class=&quot;token annotation builtin&quot;&gt;@Inject&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 여기서 개행을...?!&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; 
        &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; apiService&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SampleApiService&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SampleRemoteDataSource &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            parameter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// indent depth 또한 한 칸 씩 깊어짐&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이와 같이 다소 낮선 모습으로 서식이 바뀌는 모습을 확인할 수 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;클래스 네임 선언 후 개행.&lt;/li&gt;
&lt;li&gt;indent 공백 후 @Inject 선언 뒤 다시 개행&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이러한 서식 결과는 저와 팀원이 받아들이기 이상적이지 않았습니다.&lt;/p&gt;
&lt;p&gt;이 결과를 통해 Lint 설정 목표를 좀 더 명확히 세울수 있었습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Lint 의 서식 룰을 일방적으로만 따를게 아니라, 우리 팀 내에서 사용하던 스타일 또한 존중되어 Lint 룰에 반영할 수 있어야 함. 즉 절충안을 설정할 수 있어야 한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;KtLint 에서 서식 설정을 추가 하려면 프로젝트 root 에 있는 &lt;code class=&quot;language-text&quot;&gt;.editorconfig&lt;/code&gt; 파일에서 직접 서식 룰을 설정하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[*.{kt,kts}]
ktlint_standard_annotation = disabled&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;다음 문제로는 Composable 함수에 Function naming 경고가 발생하는것을 확인할 수 있었습니다.&lt;/p&gt;
&lt;p&gt;순수 kotlin 서식 검사를 실행할 경우 Compose 코드를 잘못된 서식으로 판단할 수 있습니다. Kotlin 의 함수명은 소문자로 시작하지만 Composable 함수는 대문자로 시작하기 때문에 서식 검사 기준이 충돌하게 됩니다.&lt;/p&gt;
&lt;p&gt;간단한 해결 방법은 Composable 함수 네이밍 규칙을 ignore 하는 것입니다. Compose 코드 퀄리티 관리가 우선 순위가 아닌 프로젝트라면 괜찮은 선택지가 될 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/google/jetpack-camera-app/issues/55&quot;&gt;Compose 규칙 관련 이슈 참고&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[*.{kt,kts}]
ktlint_standard_annotation = disabled
# 아랫 줄에 설정 추가
ktlint_function_naming_ignore_when_annotated_with = Composable&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Compose 서식 검사를 활성화 하려면 서드파티 Rule set 의존성을 추가로 설정해야 하는데요. 이것은 KtLint 오피셜 룰셋이 아닌, 다른 유저가 작성한 Rule set 입니다.&lt;/p&gt;
&lt;p&gt;필자와 팀원들은 서드파티 의존성이 늘어나는 것을 관리 비용의 증가로 보기 때문에, 의존성을 추가 하더라도 되도록 KtLint 오피셜 패키지를 사용하거나 Lint 자체적인 설정으로 해결하길 원했습니다.&lt;/p&gt;
&lt;p&gt;Compose Lint 관련 자료를 찾아보던 중, Detekt Lint 라이브러리 공식 문서에서 &lt;code class=&quot;language-text&quot;&gt;Configuration for Compose&lt;/code&gt; 섹션을 발견했습니다. Lint 내부적인 설정으로 Compose 설정이 어느정도 가능해 보여서 Detekt 라이브러리를 직접 설치, 테스트 해봤습니다.&lt;/p&gt;
&lt;h1 id=&quot;detekt&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#detekt&quot; aria-label=&quot;detekt permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Detekt&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/detekt/detekt&quot;&gt;github.com/detekt/detekt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxUlEQVR42o3SX09ScQDGcV+Yk8H5/XBoJ9lKNrtprbsu2mq2ddFWzWZmtjYtYSKUOkIIkEOEIH8CgeCcDkLH1Vy6dZfrVXxj6MoaNt7AZ8+z5xnaUPK8EVkiIk1MJNkScTQRIS1CZOU6eRmkKFcoO71U5RIN+RxdPsWUc7TlIyx5ny/yHgfyLodymqENUTgDaj0wJaOklRDvh4PkRvwUbF5KI0tUHYt/gZ0e+OA3eCTv/AueJlQ2yaoR9NtZjJtpjBsJOreS6JOr1B3P0J39wcO+oBIjaQuzcymGNV/Dmimx/zDP19k8uidA3baArsxjiscDJHRqvFM1MhNbbI9H2BkLUXStUb4QZNfl46Pqw3C/pOVepDX6pAvOsN8fzPXA+GiK3JVtilcz5NQoFU+MqidCYypMc3KNpnuF1pSfz9cC7I0v0BHngn8qx21vSTmjWIEWpr+O6dvl03IJa7XMwasaxmUvjeHZAUeRGgl7rFs5wY+jn7RNi1ajTb3S5Fvb4vj7MXvXu0ltc6eV+4FKoe8PM64wRXWTysUQtYl1amp3kLFlGs7ubcTZlQf5oTj5Ycb+mpw9QMHh44PjBVXl5IfGf374CxrMF8Qt7sqKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;&quot;
        src=&quot;/static/8899846b90de4903a4c31d96ac4ac155/37523/2.png&quot;
        srcset=&quot;/static/8899846b90de4903a4c31d96ac4ac155/e9ff0/2.png 180w,
/static/8899846b90de4903a4c31d96ac4ac155/f21e7/2.png 360w,
/static/8899846b90de4903a4c31d96ac4ac155/37523/2.png 720w,
/static/8899846b90de4903a4c31d96ac4ac155/302a4/2.png 1080w,
/static/8899846b90de4903a4c31d96ac4ac155/0d98f/2.png 1276w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아래는 Detekt 의 소갯말입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;detekt helps you write cleaner Kotlin code so you can focus on what matters the most building amazing software.&lt;/p&gt;
&lt;p&gt;detekt는 깔끔한 Kotlin 코드 작성을 도와주어 더 나은 소프트웨어 개발에 집중할 수 있게 해줍니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Features (주요 기능)&lt;/p&gt;
&lt;p&gt;Code smell analysis for your Kotlin projects.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;코드의 냄새(잘못된 서식, 복잡도, 안티패턴)를 분석 해줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Highly configurable rule sets.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매우 다양한 룰셋 설정을 제공합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Generate baselines to suppress existing issues for legacy projects while making sure no new issues are introduced.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;레거시 프로젝트의 기존 이슈는 무시하되, 새로운 이슈 발생을 방지하는 기준선 생성 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;위 소갯말에서 알 수 듯, Detekt 는 “다양한 룰셋 설정이 가능함”을 강조하고 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;config/detekt/detekt.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;complexity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# 코드 복잡도 경고&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;formatting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# 코드 서식 경고&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;naming&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;# 네이밍 규칙&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;performance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 성능 경고&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;# 코딩 스타일 교정&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;coroutines&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# 코루틴 규칙&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;comments&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;# 주석 규칙&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;potential-bugs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 잠재적 버그 위험 검사&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;compose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;# 컴포즈 룰 설정 (필자가 커스텀 룰셋으로 만든 설정)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;compose:&lt;/code&gt; 를 제외한 초기 설정은 &lt;a href=&quot;https://github.com/detekt/detekt/blob/v1.23.7/detekt-core/src/main/resources/default-detekt-config.yml&quot;&gt;이 Detekt 링크&lt;/a&gt; 의 코드를 직접 가져와서 사용하시면 됩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Detekt 설정 파일 내용의 일부입니다. Built-in 룰셋 덕에 초기 설정이 필요 없음을 강조하는 KtLint 와 반대 됨을 알 수 있는 대목입니다. KtLint 가 &lt;code class=&quot;language-text&quot;&gt;완제품 브랜드 PC&lt;/code&gt; 라면 Detekt는 &lt;code class=&quot;language-text&quot;&gt;조립 PC&lt;/code&gt; 정도로 비유가 되겠군요. 첫 시작만 차이날 뿐, 결국 제대로 쓰려면 설정에 공수가 들어가는 점은 비슷합니다.&lt;/p&gt;
&lt;p&gt;필자는 KtLint의 다소 일방적이고 이상적이지 않은 Built-in 포맷팅을 경험하며 Lint 와 개발자간의 절충안을 설정할 수 있어야 함을 느꼈습니다. 개인적으로 Detekt 에서 제공하는 설정 파일로 원하던 설정을 쉽게 할 수 있는점이 좋았습니다.&lt;/p&gt;
&lt;p&gt;위 &lt;code class=&quot;language-text&quot;&gt;detekt.yml&lt;/code&gt; 파일 내용의 각 섹션마다 수십가지의 설정이 제공 되는데요. 기본 룰 외에 더 필요한 설정이 있으면 커스텀 룰셋을 직접 작성할수도 있습니다. 커스텀 룰셋 작성 과정은 별도의 글을 발행하여 자세하게 다뤄보려 합니다.&lt;/p&gt;
&lt;p&gt;커스텀 룰셋까지 작성해보니 사실상 규칙 생성의 한계가 없다고 느껴졌습니다. 예를 들어 &lt;code class=&quot;language-text&quot;&gt;data class&lt;/code&gt; 네이밍에 &lt;code class=&quot;language-text&quot;&gt;Response&lt;/code&gt; 가 포함 되었을 경우 직렬화 어노테이션 포함 여부를 검사하는, 우리 팀만의 니즈를 규칙으로 만들수 있었습니다. (직렬화 어노테이션을 작성하지 않아도 프로퍼티명이 직렬화 키 매핑을 대신하기 때문에 어노테이션을 생략하는 작업자도 있었음 = 매핑 실수 위험, 스타일 통일 니즈)&lt;/p&gt;
&lt;h2 id=&quot;detekt-설치-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#detekt-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;detekt 설치 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Detekt 설치 방법&lt;/h2&gt;
&lt;p&gt;Detekt 의 설치 과정이 궁금하신 분은 &lt;a href=&quot;https://detekt.dev/docs/intro&quot;&gt;공식 문서&lt;/a&gt; 혹은 아래 토글을 펼쳐서 확인해 주세요.&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;(토글) Detekt 설치 방법&lt;/summary&gt;
&lt;blockquote&gt;
&lt;p&gt;Detekt version 1.23.7, 필자의 프로젝트 환경 기준입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;루트 경로 기준으로 &lt;code class=&quot;language-text&quot;&gt;config/detekt/detekt.yml&lt;/code&gt; 파일 생성. 경로와 &lt;code class=&quot;language-text&quot;&gt;detekt.yml&lt;/code&gt; 파일명은 자유 형식&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/detekt/detekt/blob/v1.23.7/detekt-core/src/main/resources/default-detekt-config.yml&quot;&gt;이 페이지의 Detekt 설정 코드&lt;/a&gt;를 복사, 나의 &lt;code class=&quot;language-text&quot;&gt;detekt.yml&lt;/code&gt; 에 붙여넣기. 설정들을 러프하게 검토 해보고 필요 없는 설정은 &lt;code class=&quot;language-text&quot;&gt;active: false&lt;/code&gt; 하시면 됩니다. 반대로 활성화 하고싶은 규칙은 &lt;code class=&quot;language-text&quot;&gt;active: true&lt;/code&gt;를 입력하시면 됩니다.&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;루트 경로 &lt;code class=&quot;language-text&quot;&gt;build.gradle.kts&lt;/code&gt; 에 아래 스크립트 추가&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;plugins &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;io.gitlab.arturbosch.detekt&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1.23.7&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

repositories &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;mavenCentral&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// (Optional) &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 이 detekt-formatting 의존성은 &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// KtLint 와 같은 코드 자동 포맷팅을 지원합니다.&lt;/span&gt;
dependencies &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;detektPlugins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;io.gitlab.arturbosch.detekt:detekt-formatting:1.23.7&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

detekt &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    toolVersion &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1.23.7&quot;&lt;/span&gt;&lt;/span&gt;
    config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setFrom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;config/detekt/detekt.yml&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    buildUponDefaultConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * install detekt to pre-commit:
 * (optional): rm -rf .git/hooks/pre-commit
 * (require): ./gradlew installDetektToPreCommit
 *
 * Staged 된 파일만 lint 를 실행합니다.
 * Referenc: https://detekt.dev/docs/gettingstarted/git-pre-commit-hook/#only-run-on-staged-files
 */&lt;/span&gt;
tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;register&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Copy&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;installDetektToPreCommit&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; preCommitContent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal multiline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&quot;
       #!/bin/bash
       echo &quot;Running detekt check...&quot;
       fileArray=($@)
       detektInput=$(IFS=,;printf &quot;%s&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;fileArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;)
       echo &quot;Input files: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;detektInput&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;
       OUTPUT=$(detekt --input &quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;detektInput&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; 2&gt;&amp;amp;1)
       EXIT_CODE=$?
       if [ &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;EXIT_CODE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; -ne 0 ]; then 
           echo &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;OUTPUT&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; 
           echo &quot;***********************************************&quot; 
           echo &quot; detekt failed &quot; 
           echo &quot; Please fix the above issues before committing &quot; 
           echo &quot;***********************************************&quot; 
           exit &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;EXIT_CODE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
       fi
   &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trimIndent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   
   &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; preCommitFile &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rootProject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rootDir&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.git/hooks/pre-commit&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   preCommitFile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;preCommitContent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   preCommitFile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setExecutable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;Gradle sync 후 root 에서 아래 커맨드 실행&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;서식만 검사하기: &lt;code class=&quot;language-text&quot;&gt;./gradlew detekt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;detekt 는 서식 이슈를 일정 개수 쌓으면 서식 검사를 강제로 중단할 수 있습니다. 아래 커맨드로 강제 종료 없이 계속 검사하게 만들수 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;./gradlew detekt --continue&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;KtLint 처럼 서식대로 코드 자동 수정하기 (&lt;code class=&quot;language-text&quot;&gt;detekt-formatting&lt;/code&gt; 의존성 추가 필요):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;./gradlew detekt --auto-correct&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;or &lt;code class=&quot;language-text&quot;&gt;./gradlew detekt --auto-correct --continue&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;테스트가 완료 되었으면 &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 단계에 Detekt 서식 검사를 설치합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./gradlew installDetektToPreCommit &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 설치가 잘 되었는지 확인하려면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; .git/hooks/pre-commit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;프리커밋 단계를 삭제하고 싶다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-rf&lt;/span&gt; .git/hooks/pre-commit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;끝.&lt;/p&gt;
&lt;/details&gt;
&lt;h2 id=&quot;detekt-테스트-결과&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#detekt-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;detekt 테스트 결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Detekt 테스트 결과&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 단계에서 Detekt 가 서식 검사를 잘 실행합니다. import 순서, tailing comma 등 필자가 직접 설정한 Kotlin 룰에 기반하여 기초적인 경고를 잘 해주고 있습니다.&lt;/p&gt;
&lt;p&gt;그리고 직접 작성한 Compose 룰 또한 기대한 결과대로 잘 동작하고 있습니다. 예를들어 아래와 같은 코드를 커밋하면 &lt;a href=&quot;https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/docs/compose-component-api-guidelines.md#parameters-order&quot;&gt;Compose 파라미터 정렬 규칙을 정의한 공식문서&lt;/a&gt; 에 기반하여 서식 경고를 해주고 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;SampleComposable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    modifier&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    profilePictureComponent&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    onClick&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;경고문&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Composable function parameters should follow this order: required parameters, modifier parameter, optional parameters, composable slots [ComposableParametersOrdering]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Composable 함수 파라미터는 다음 순서를 따라야 합니다: 필수 파라미터, modifier 파라미터, 선택적 파라미터, composable 슬롯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;경고문 자체는 커스텀 룰에서 필자가 직접 작성한 내용이며, 의도한 대로 파라미터 정렬에 관한 경고를 잘 해주었습니다. 경고를 참고하여 코드를 수정하면 아래와 같은 모습이 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;SampleComposable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 필수 파라미터를 가장 위로&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 
    &lt;span class=&quot;token comment&quot;&gt;// 다음으로 modifier 파라미터&lt;/span&gt;
    modifier&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    
    &lt;span class=&quot;token comment&quot;&gt;// 다음으로 optional 파라미터&lt;/span&gt;
    onClick&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    
    &lt;span class=&quot;token comment&quot;&gt;// 마지막에 슬롯을 배치해야 한다&lt;/span&gt;
    profilePictureComponent&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 Kotlin 뿐 아니라 Compose 에서도 일관된 서식을 유지할 수 있게 되었습니다. 커스텀 룰과 Compose 룰을 작성한 내용은 추후 별도의 글로 발행할 예정입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    onClick&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    modifier&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Modifier &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Modifier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    enabled&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Boolean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    interactionSource&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MutableInteractionSource&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    elevation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ButtonElevation&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ButtonDefaults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;elevation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    shape&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Shape &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MaterialTheme&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shapes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;small&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    border&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; BorderStroke&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    colors&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ButtonColors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ButtonDefaults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;buttonColors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    contentPadding&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PaddingValues &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ButtonDefaults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ContentPadding&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token annotation builtin&quot;&gt;@Composable&lt;/span&gt; RowScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; Unit
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;마지막으로 공식 Jetpack Compose 의 기본 컴포넌트 코드는 어떻게 작성 되었는지 궁금해서 확인해본 결과입니다. &lt;code class=&quot;language-text&quot;&gt;Button&lt;/code&gt; 외 모든 기본 컴포넌트들은 이미 파라미터 정렬 규칙을 잘 따르는 모습을 확인할 수 있었습니다.&lt;/p&gt;
&lt;h2 id=&quot;ktlint-vs-detekt-의-선호도-차이-알아보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ktlint-vs-detekt-%EC%9D%98-%EC%84%A0%ED%98%B8%EB%8F%84-%EC%B0%A8%EC%9D%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;ktlint vs detekt 의 선호도 차이 알아보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;KtLint vs Detekt 의 선호도 차이 알아보기&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7klEQVR42iWO2W6CUBBAoSqowGUTuLIoIBYlVmuX1Jo06f//1OlIHyY5s50Zw5q79MczVb3HC1aoR4QJhjHFeJphTiwm0zmmsGU7KH+FvfBGfuwu3QB7qajbgZ/7L4blKHRejaIkK4mTNa6K8UWa6hJHeGa7+FFKlOTMHZ8g1lKPxl6cFphy8J9LjEFv6He9DK1RkcYNUpZKvhSBJ4s6zmiLmm7b0ZQ1ZVYI72irduSmbNjmG5oxF+G9PnK53sibnjCtcEMtojWeyBeBpkpzbqdXPiWGuuPUPvP1cuVjONNXDefuwPflnbfDiX2x4Q95hmYaG6YVqAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;4&quot;
        title=&quot;&quot;
        src=&quot;/static/23b6cb4e8a9f3be6cd338e988f88d089/37523/4.png&quot;
        srcset=&quot;/static/23b6cb4e8a9f3be6cd338e988f88d089/e9ff0/4.png 180w,
/static/23b6cb4e8a9f3be6cd338e988f88d089/f21e7/4.png 360w,
/static/23b6cb4e8a9f3be6cd338e988f88d089/37523/4.png 720w,
/static/23b6cb4e8a9f3be6cd338e988f88d089/302a4/4.png 1080w,
/static/23b6cb4e8a9f3be6cd338e988f88d089/07a9c/4.png 1440w,
/static/23b6cb4e8a9f3be6cd338e988f88d089/541fe/4.png 1654w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8ElEQVR42h2O626CUBCEqa0gcJCbSIVzQFQ0FovVlKQlbdL3f6mviz8ms7Ozs7vW3PE5nDpMvcf1lqTrAhUkWNYLTzP7gdmzI7CxHUWwTHEWiik3saciFl6Ark/8jn9YkzBVQxRnhII02+D6IX4Qi17hBRFzCU69KH0VneCqGBWmwhGJzNviq3BFaXZYZWZo9ydiMeKsYJms8eSLVW7QzRFdVGwLw840gi06L2j09qFLyUxci282FaV41lFf6e/f1G1HkleoOMeP1pS6pb0MXHZHxssHX/2dd6mvcny83hnees6y7Nae+bl9Mpx7Ol3xD1D9ZqaF8KWhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;3&quot;
        title=&quot;&quot;
        src=&quot;/static/8efe3bdf2b95b329e2b3377b2f8a4e97/37523/3.png&quot;
        srcset=&quot;/static/8efe3bdf2b95b329e2b3377b2f8a4e97/e9ff0/3.png 180w,
/static/8efe3bdf2b95b329e2b3377b2f8a4e97/f21e7/3.png 360w,
/static/8efe3bdf2b95b329e2b3377b2f8a4e97/37523/3.png 720w,
/static/8efe3bdf2b95b329e2b3377b2f8a4e97/302a4/3.png 1080w,
/static/8efe3bdf2b95b329e2b3377b2f8a4e97/07a9c/3.png 1440w,
/static/8efe3bdf2b95b329e2b3377b2f8a4e97/6b26f/3.png 1658w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;궁금해서 알아봤습니다&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;두 Linter 의 유저 선호도는 비슷합니다. 이슈 개수는 차이가 많이 나는데 KtLint 와 다르게 Detekt 는 설정 파일을 유저에게 직접 제공함으로써 러닝커브가 훨씬 높았습니다.&lt;/p&gt;
&lt;p&gt;이는 Detekt 가 무조건 정답이 아닐수 있음을 시사합니다. 프로젝트 규모가 작거나 바쁜 조직에겐 설정이 필요없는 KtLint 가 오히려 좋은 선택이 될 수 있고, 우리 팀 또한 &lt;code class=&quot;language-text&quot;&gt;0.4.0&lt;/code&gt; 버전 기준으로 문제 없이 잘 사용하고 있었습니다.&lt;/p&gt;
&lt;p&gt;Detekt 끝.&lt;/p&gt;
&lt;h1 id=&quot;spotless&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spotless&quot; aria-label=&quot;spotless permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spotless&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/diffplug/spotless&quot;&gt;github.com/diffplug/spotless&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6ElEQVR42iXNvUrDUADF8SwWUSl+gYuLUkwNDWlKvnrvjU3UpNUaKa2Ck9Bn6FsJLqVPYO3URaWDOFhw8QVcnP5ecDqH3xmO8fgwZvH2xdN0TrN1Rtbtk18N6BR9QpXSyrq0iwEyyVBpTqDNkymd639L8kL3Gy57txw7PsbL64KfX1guv/GaMU4gqbkhth9z5IRULAdXm+1Jqg2BaXuYNVfvErMeYdUDbQ2dPvuHVYzxZMLH5zvT2TOuL/AjSawUB+0he+dDgkigpD457bFTjKiICxIlsLI7Nk/uKa2VKW1ss7K+xWp5lz/BAXKi6/talAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;6&quot;
        title=&quot;&quot;
        src=&quot;/static/ebb81b0c4ab4e9f17fbc83715b0f3f3c/39c09/6.png&quot;
        srcset=&quot;/static/ebb81b0c4ab4e9f17fbc83715b0f3f3c/e9ff0/6.png 180w,
/static/ebb81b0c4ab4e9f17fbc83715b0f3f3c/f21e7/6.png 360w,
/static/ebb81b0c4ab4e9f17fbc83715b0f3f3c/39c09/6.png 624w&quot;
        sizes=&quot;(max-width: 624px) 100vw, 624px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;리서칭 중 알게된 Spotless 는 필요 외에 너무 많은 정보가 제공되어 짧게 언급, 정리만 하는 글입니다.&lt;/p&gt;
&lt;p&gt;아래는 Spotless 의 소갯말입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Spotless can format &amp;#x3C;antlr | c | c# | c++ | css | flow | graphql | groovy | html | java | javascript | json | jsx | kotlin | less | license headers | markdown | objective-c | protobuf | python | scala | scss | shell | sql | typeScript | vue | yaml | anything&gt; using &amp;#x3C;gradle | maven | sbt | anything&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Spotless는 다양한 프로그래밍 언어와 파일 형식을 Gradle, Maven, SBT 같은 빌드 도구를 사용해 포맷팅할 수 있는 도구입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Spotless 는 kotlin 외에 다양한 언어들의 서식을 관리해주는 Linter 입니다. 필자의 프로젝트에서 다루려고 했던 Kotlin 외에도 다양한 언어들을 지원하고 있네요.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Java 작업과 병행중인 프로젝트&lt;/li&gt;
&lt;li&gt;Views UI (XML) 비중이 높은 프로젝트&lt;/li&gt;
&lt;li&gt;JNI 로 C++ 언어를 다루는 프로젝트&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;위 조건중 하나 이상 일치하는 프로젝트라면 충분히 고려 해볼만한 Linter 입니다.&lt;/p&gt;
&lt;p&gt;Lint rule 설정은 그래들 스크립트에 아래와 같은 형식으로 정의할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;spotless &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    java &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
        &lt;span class=&quot;token comment&quot;&gt;// import 순서 정의&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;importOrder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;java&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;javax&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lombok&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;org.springframework&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\\#&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;org.junit&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\\#org.junit&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;com.guide&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\\#com.guide&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 구글 자바 포맷 적용&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;googleJavaFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// indent 공백 수 설정&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;indentWithTabs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        
        &lt;span class=&quot;token function&quot;&gt;indentWithSpaces&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 사용하지 않는 import 제거&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;removeUnusedImports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 어노테이션 포맷팅 정리&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;formatAnnotations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 공백 제거&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;trimTrailingWhitespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;token comment&quot;&gt;// 끝부분 New Line 처리&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;endWithNewline&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;코드 서식 검사&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./gradlew spotlessCheck&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;서식에 맞춰 코드 자동 수정 (포맷팅)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./gradlew spotlessApply&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;포맷을 항상 일관되게 유지하려면, build 타이밍에 &lt;code class=&quot;language-text&quot;&gt;spotlessApply&lt;/code&gt; 를 실행하게 그래들 스크립트를 정의 할수도 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;tasks.named&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;build&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    dependsOn &lt;span class=&quot;token string&quot;&gt;&apos;spotlessApply&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;끝.&lt;/p&gt;
&lt;h1 id=&quot;정리하며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC%ED%95%98%EB%A9%B0&quot; aria-label=&quot;정리하며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리하며&lt;/h1&gt;
&lt;p&gt;이 글에서 Lint 에 대해 알아보고, 적용하기 전 “고려 해야될 점 (주의사항)”  에 대해 설명했습니다.&lt;/p&gt;
&lt;p&gt;또한 필자의 안드로이드 프로젝트에 적용할 Linter 들을 살펴봤고 적용하는 과정을 다뤘습니다. 필자의 경우 Compose 코드 관리와 팀 맞춤형 룰셋 제작이 필요해서 Detekt를 선택했습니다.&lt;/p&gt;
&lt;p&gt;KtLint, Detekt, Spotless 각 Linter 의 특징을 요약하면 다음과 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;KtLint&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Built-in 룰셋으로 빠른 적용이 가능&lt;/li&gt;
&lt;li&gt;완제품 PC 로 비유됨. Detekt 와 정 반대의 특징&lt;/li&gt;
&lt;li&gt;커스텀 설정 접근이 불편한 편&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Detekt&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KtLint 보다 엄격하고 다양한 서식 설정 제공&lt;/li&gt;
&lt;li&gt;커스텀 Rule set 접근성이 용이함 (필자는 Compose Rule set 을 작성함)&lt;/li&gt;
&lt;li&gt;조립 PC 로 비유됨. KtLint 와 정 반대의 특징&lt;/li&gt;
&lt;li&gt;대규모 프로젝트에 더 적합할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Spotless&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;가장 많은 랭귀지의 서식을 지원함. Java, Kotlin, xml 등등…&lt;/li&gt;
&lt;li&gt;컴포즈는 지원하지 않는듯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;세 Linter 의 공통 기능&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lint 정의에 맞춰서 코드 서식을 자동으로 수정해줌&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;장점&lt;/th&gt;
&lt;th&gt;단점&lt;/th&gt;
&lt;th&gt;적합한 경우&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;KtLint&lt;/td&gt;
&lt;td&gt;빠른 적용, 설정 불필요&lt;/td&gt;
&lt;td&gt;커스텀 제한적&lt;/td&gt;
&lt;td&gt;소규모 프로젝트&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Detekt&lt;/td&gt;
&lt;td&gt;다양한 설정&lt;/td&gt;
&lt;td&gt;러닝커브 높음&lt;/td&gt;
&lt;td&gt;대규모 프로젝트&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Spotless&lt;/td&gt;
&lt;td&gt;다언어 지원&lt;/td&gt;
&lt;td&gt;Compose 미지원&lt;/td&gt;
&lt;td&gt;Java/XML/JNI 혼용 프로젝트&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;후속-글-예고&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EC%86%8D-%EA%B8%80-%EC%98%88%EA%B3%A0&quot; aria-label=&quot;후속 글 예고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후속 글 예고&lt;/h1&gt;
&lt;p&gt;Detekt 로 Compose 를 비롯한 커스텀 룰셋 작성 과정은 별도 글로 다룰 예정입니다.&lt;/p&gt;
&lt;p&gt;끝.&lt;/p&gt;
&lt;h1 id=&quot;reference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reference&quot; aria-label=&quot;reference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EB%A6%B0%ED%8A%B8_(%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4)&quot;&gt;https://ko.wikipedia.org/wiki/%EB%A6%B0%ED%8A%B8_(%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://kotlinlang.org/docs/coding-conventions.html#verify-that-your-code-follows-the-style-guide&quot;&gt;https://kotlinlang.org/docs/coding-conventions.html#verify-that-your-code-follows-the-style-guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pinterest.github.io/ktlint/latest/&quot;&gt;https://pinterest.github.io/ktlint/latest/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://detekt.dev/&quot;&gt;https://detekt.dev/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/diffplug/spotless&quot;&gt;https://github.com/diffplug/spotless&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.android.com/develop/ui/compose/api-guidelines&quot;&gt;https://developer.android.com/develop/ui/compose/api-guidelines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://mrmans0n.github.io/compose-rules/rules/&quot;&gt;https://mrmans0n.github.io/compose-rules/rules/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/docs/compose-api-guidelines.md&quot;&gt;https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/docs/compose-api-guidelines.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/docs/compose-component-api-guidelines.md&quot;&gt;https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/docs/compose-component-api-guidelines.md&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#lint-%EC%A0%81%EC%9A%A9-%EC%A0%84%EC%97%90-%EA%B3%A0%EB%A0%A4-%ED%95%B4%EC%95%BC%EB%90%A0-%EC%A0%90&quot;&gt;Lint 적용 전에 고려 해야될 점&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%EB%B0%8F-%EB%AA%A9%ED%91%9C&quot;&gt;문제 해결 방법 및 목표&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint-gradle-integration-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95&quot;&gt;KtLint Gradle integration 설치 방법&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC&quot;&gt;KtLint 테스트 결과&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#detekt-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95&quot;&gt;Detekt 설치 방법&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#detekt-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC&quot;&gt;Detekt 테스트 결과&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ktlint-vs-detekt-%EC%9D%98-%EC%84%A0%ED%98%B8%EB%8F%84-%EC%B0%A8%EC%9D%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0&quot;&gt;KtLint vs Detekt 의 선호도 차이 알아보기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[2024 회고. 내 동년배 개발자들 다 블로그 운영한다. (with Gatsby)]]></title><description><![CDATA[자기소개 안녕하세요. 4년차 안드로이드 개발자 김성훈 입니다. 추운 겨울 날씨를 좋아해서 Winter 로 예명을 지었습니다. 저는 영하 9도 까지는 반 팔로 산책을 할 수 있습니다. (대신 여름에 힘들어요) 지금 다니는 회사에서도 Winter…]]></description><link>https://www.winter-love.dev/life/2024-review/</link><guid isPermaLink="false">https://www.winter-love.dev/life/2024-review/</guid><pubDate>Sun, 12 Jan 2025 00:21:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;자기소개&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%90%EA%B8%B0%EC%86%8C%EA%B0%9C&quot; aria-label=&quot;자기소개 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;자기소개&lt;/h1&gt;
&lt;p&gt;안녕하세요. 4년차 안드로이드 개발자 김성훈 입니다.&lt;/p&gt;
&lt;p&gt;추운 겨울 날씨를 좋아해서 Winter 로 예명을 지었습니다.&lt;/p&gt;
&lt;p&gt;저는 영하 9도 까지는 반 팔로 산책을 할 수 있습니다. (대신 여름에 힘들어요)&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;/7dd2953d1153a7313123a310b6b3a794/life-0-2024-review-1.gif&quot; width=&quot;150&quot;&gt;
  &lt;figcaption&gt;에스파 윈터 아닙니다&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;지금 다니는 회사에서도 Winter로 불리고 있습니다.&lt;/p&gt;
&lt;p&gt;Winter의 입사 소식을 듣고 팀원들이 많이 설레였다고 하는데요.&lt;/p&gt;
&lt;p&gt;실제 제 모습은 수염난 털보 아저씨 입니다. 🤭 (히히)&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;/8d52319ad10a56c79c24dac860fccc92/life-0-2024-review-2.gif&quot; width=&quot;200&quot;&gt;
  &lt;figcaption&gt;대충 이런 모습&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h1 id=&quot;개발자-인생-4년-만에-블로그를-개설하다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EB%B0%9C%EC%9E%90-%EC%9D%B8%EC%83%9D-4%EB%85%84-%EB%A7%8C%EC%97%90-%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC-%EA%B0%9C%EC%84%A4%ED%95%98%EB%8B%A4&quot; aria-label=&quot;개발자 인생 4년 만에 블로그를 개설하다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;개발자 인생 4년 만에 블로그를 개설하다&lt;/h1&gt;
&lt;p&gt;공부하고 일하면서 습득한 지식들을 개인적으로 노션에 기록하는 편이었는데요.&lt;/p&gt;
&lt;p&gt;기록의 장소를 공개적인 곳으로 옮기면서 스스로에게 긴장감을 주기로 했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;틀린 정보가 공유되지 않게 신중히 공부하는 습관&lt;/li&gt;
&lt;li&gt;운영의 주체성, 주도성과 재미를 느끼기 위해&lt;/li&gt;
&lt;li&gt;게을러진 기록 습관에 새로운 활력을 주기 위해&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 이유들로 블로그를 개설하게 되었습니다.&lt;/p&gt;
&lt;p&gt;제 동년배, 선배, 후배님들 모두 블로그를 운영하고 계시는 모습을 봐왔던 영향도 있습니다.&lt;/p&gt;
&lt;p&gt;운영의 주체성과 재미를 자극하기 위해 Gatsby 를 사용해서 블로그도 직접 만들었습니다.&lt;/p&gt;
&lt;p&gt;Gatsby (개츠비) 는 React 기반의 정적 사이트 생성기입니다.&lt;/p&gt;
&lt;p&gt;정적 사이트 특성상 SEO (Search engine optimize)에 유리해서 검색에 잘 노출될 수 있고, 커스텀이 쉬운 React 기반이라는 점이 좋아서 선택했습니다.&lt;/p&gt;
&lt;figure&gt;
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABYUlEQVR42p2T204CMRCGff8X8dYLQrxBSIi3xogED2jYyLJ2t6dt2bLH/nYrGjmISDeTdmb++TbttGf4ZVj3tcM0BUiZwtTFOn54nB2CiSpDV45wpR9xqcbgdbaRPxrY2MbPffWAQXKDMbnDRdj3/s/8v4E9NcF1covhbIDz1w566eQ04NeW4kqho0cYZlN09b33T9qyL7IWOlWYhgFG5AXB+xyScR8/qil1XW9YWZYIwxDTp2fEEUEwCzALAtRVjaZpNQ0qv252gS1ACAYpuTMBzjkopW4tIVMJ0c5CQqsUzMU5cznBnY5iqZX/wQZQqgzBgmORLBEnAnFMwBhDFEUOEIMmzqcJoiTFggivfacKhC0xJwpMmu9j8sCiclBjkbq4ygoYkyHPc2jtCmKDN2IQ8RyuHtyZWgFMA9SZcFfTFHubYnfeQXv+eflZsCqxbojdo7W7wG/ZH2/Lbuu3uvwBzj6m0aghH1AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 16&quot; title=&quot;&quot; src=&quot;/static/240ef9dc06700ac618b7c59d03d26de6/37523/life-0-2024-review-16.png&quot; srcset=&quot;/static/240ef9dc06700ac618b7c59d03d26de6/e9ff0/life-0-2024-review-16.png 180w,
/static/240ef9dc06700ac618b7c59d03d26de6/f21e7/life-0-2024-review-16.png 360w,
/static/240ef9dc06700ac618b7c59d03d26de6/37523/life-0-2024-review-16.png 720w,
/static/240ef9dc06700ac618b7c59d03d26de6/72aae/life-0-2024-review-16.png 964w&quot; sizes=&quot;(max-width: 720px) 100vw, 720px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
  &lt;figcaption&gt;SEO 100 점 달성 완료~!&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;이미 사람들이 만든 다양한 테마들이 있어서 빠른 블로그 구축이 가능하기도 합니다.&lt;/p&gt;
&lt;p&gt;줌코딩님, 단민님 이 블로그 제작의 큰 도움이 되어주셨습니다. 🤗&lt;/p&gt;
&lt;p&gt;저에게 꾸준함의 기준이란, 일주일에 한 번을 작성하든. 한 달에 한 번을 작성하든.&lt;/p&gt;
&lt;p&gt;결국 돌아와서 기록을 남기는것이 제가 생각하는 꾸준함입니다.&lt;/p&gt;
&lt;p&gt;저만의 꾸준함 기준으로 블로그를 잘 운영해보겠습니다.&lt;/p&gt;
&lt;p&gt;아무튼.&lt;/p&gt;
&lt;figure&gt;
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 608px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAAB4lLTMipb/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEDERASQf/aAAgBAQABBQIlrHGltSP/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AZWv/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEgIf/aAAgBAQAGPwIxT//EABkQAAMBAQEAAAAAAAAAAAAAAAABESFBMf/aAAgBAQABPyFVEXyi7SsST0YkwdvD/9oADAMBAAIAAwAAABA8z//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxBDZf/EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQIBAT8QasLP/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFhgf/aAAgBAQABPxBJac8iFQJsY0uLVnPISQLCCrrPrCUDP//Z&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 0&quot; title=&quot;&quot; src=&quot;/static/2789b3ed72fa35191f19e4541d2d1232/640be/life-0-2024-review-0.jpg&quot; srcset=&quot;/static/2789b3ed72fa35191f19e4541d2d1232/4ec73/life-0-2024-review-0.jpg 180w,
/static/2789b3ed72fa35191f19e4541d2d1232/158ba/life-0-2024-review-0.jpg 360w,
/static/2789b3ed72fa35191f19e4541d2d1232/640be/life-0-2024-review-0.jpg 608w&quot; sizes=&quot;(max-width: 608px) 100vw, 608px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
  &lt;figcaption&gt;블로그 오픈 시자아아악 했습니다아아악&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h1 id=&quot;지난-해를-되돌아보고-새-해를-계획하는-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EB%82%9C-%ED%95%B4%EB%A5%BC-%EB%90%98%EB%8F%8C%EC%95%84%EB%B3%B4%EA%B3%A0-%EC%83%88-%ED%95%B4%EB%A5%BC-%EA%B3%84%ED%9A%8D%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;지난 해를 되돌아보고 새 해를 계획하는 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지난 해를 되돌아보고, 새 해를 계획하는 방법&lt;/h1&gt;
&lt;p&gt;2025년이 벌써 10일이나 지났습니다. 하루는 긴데 일 주일, 10일은 참 짧네요.&lt;/p&gt;
&lt;p&gt;저는 연초부터 블로그 제작을 시작해서 이제서야 첫 컨텐츠를 발행하고 있습니다.&lt;/p&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADqUlEQVR42qWS20/TBxTH+0/sYS+Y3ePGJSiUgqUItjgKAcpFMdwKlluFUrpSwFLAQOWScQkgEtABUxgL6GQwoeIGQ1ADrAWna8cCjnEZilk2XiAk8NkvZtnT3naST06+Jzkn5yYy56possSTnSJFG+VDd42WazfaaaquQG+pxFJzCa25DF1JBZoLRcQWlAi6lLZaM8HB3rh5vMVxqTuquJOIQ/0RVRiTqNfFYkmXY0hU4Lp/hXmHjfGpEWxTY9y02TA21WKob6axf5xPP/sSU+sA3de70SVH43XsQxQyX/z8xRzxFQpeLkql/EI06qgA6vSRLM93Mm4fZfbZGPraLFp6yqnqKMNSb6Cwpgh9awNtHQP0tzSQmXoWX4kHOq2CkGAZkmAFonJ9AkatiqIMBe2WGLaXB/h5ZYa54U6+HWrHYevBOTfGxFc36GltpL35KlfvzPD1/XFSz0QjU0i4WBiGV5AccbAcUXFGJJlJCtLi/enUKflj5RvWdlZxjPZhvzfA9PAXPLLd4vF3owwPDXHr3iQ9juc8eLJATnI8Wm0Y6ZpTSE6H4SFXIkqPCaTJnIS1NAm16gS/znThWrUz+2KFsR9nebi8QP/UXUZ+WqTnwSSdUw/pda3QN3oHU14qlyxKImMDkEQp8VDGIAqVedDXlsH47RIqNUqc7bkMFSfQ1WbG9biLQquWxPxkTGU5GBsNpDYUoSlSo4iPoKbBTF6WAvEJL3w+lnFUqUJ0SijYkB+ONVdOXrSU7OosNFWZxPh5c7s8G5VSzvFQKb4RIYRqojkaFkBHmpIxXTItV6o5HaOkPCWIs1GBvCsTdujv9zbaCG/OxUnw9fkItdidmjgZXeqTtFqETuvzqLtsoLVSR0e5Gm16CGkZ0bRYi0nPTsdNKsaaEE5KRCieEikiqc8RTBEBJCXKCJd7UuDxDufd3iRE/h6fpHkL/xlEfYqYunPHsER6EhP4AW/4vY/BlIXqTBzuYk8ShUubNbEEygIRPRr+nJ3l7xkcuE5rUxU3660UG3XkFOupNmkpzD2PUZdFQX4WFw3ZmIx6BnvbuDs5SEd7M09GeoUpahjrtnLNWoro+epvrK1tsCr49c3f/2GTLYH1jU1ebm+ztr7By1ev+POvHba2XuB0uVheXuG/TOR0OllcXMRu/wGH3c6zp0+Zn5sTtB2Hw8EvS0uvY5MTE0xPT7Mk6IWFBVxC3sHhIYevOeDg4IBDAdHe3h67u7v/sr+/z/+xvwHgdO3kifyCBgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 3&quot; title=&quot;&quot; src=&quot;/static/2a511c5dc62416226ae8804f9d613b38/37523/life-0-2024-review-3.png&quot; srcset=&quot;/static/2a511c5dc62416226ae8804f9d613b38/e9ff0/life-0-2024-review-3.png 180w,
/static/2a511c5dc62416226ae8804f9d613b38/f21e7/life-0-2024-review-3.png 360w,
/static/2a511c5dc62416226ae8804f9d613b38/37523/life-0-2024-review-3.png 720w,
/static/2a511c5dc62416226ae8804f9d613b38/75609/life-0-2024-review-3.png 994w&quot; sizes=&quot;(max-width: 720px) 100vw, 720px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
&lt;br /&gt;
&lt;p&gt;2023년 12월까지 거슬러 올라,&lt;/p&gt;
&lt;p&gt;저는 안드로이드 개발자 연말 발표 세미나에 참여했습니다.&lt;/p&gt;
&lt;p&gt;다양한 발표중에 저는 &lt;code class=&quot;language-text&quot;&gt;한 해를 회고하는 방법과 새 해를 계획하는 방법&lt;/code&gt; 세션에 참여했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;지난 해를 회고하는 방법&lt;/li&gt;
&lt;li&gt;새 해를 계획하는 방법&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;여기서 배운 두 가지의 내용이 재미 있었습니다.&lt;/p&gt;
&lt;p&gt;어 떤 내용이냐면&lt;/p&gt;
&lt;h2 id=&quot;지난-해를-회고하는-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EB%82%9C-%ED%95%B4%EB%A5%BC-%ED%9A%8C%EA%B3%A0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;지난 해를 회고하는 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지난 해를 회고하는 방법&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAXElEQVR42q2PSwrAIAxEvf894y/+o+spWnRVKJQuHnlhYGBU7x1/olprSCktcs6vvokxHg8hoJRyF9Za4b2HtRbOuXW3T4wxK59M37nW+jgRgZkhIlBfp40xHv8LAtUwvRe0Cv8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1월 ~ 12월 까지의 시간선&quot;
        title=&quot;&quot;
        src=&quot;/static/4d947bf73a824aeebf6b7da78adb3943/37523/life-0-2024-review-4.png&quot;
        srcset=&quot;/static/4d947bf73a824aeebf6b7da78adb3943/e9ff0/life-0-2024-review-4.png 180w,
/static/4d947bf73a824aeebf6b7da78adb3943/f21e7/life-0-2024-review-4.png 360w,
/static/4d947bf73a824aeebf6b7da78adb3943/37523/life-0-2024-review-4.png 720w,
/static/4d947bf73a824aeebf6b7da78adb3943/302a4/life-0-2024-review-4.png 1080w,
/static/4d947bf73a824aeebf6b7da78adb3943/07a9c/life-0-2024-review-4.png 1440w,
/static/4d947bf73a824aeebf6b7da78adb3943/900ee/life-0-2024-review-4.png 2544w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;em&gt;1월 ~ 12월 까지의 시간선&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;세션 참여자 모두 종이와 펜을 받았고, 이렇게 수평으로 월 단위의 타임 라인을 그렸습니다.&lt;/p&gt;
&lt;p&gt;그리고 1월부터 12월 까지. 내가 느꼈던 삶의 좋음과 나쁨을 수직 그래프로 표현했는데요.&lt;/p&gt;
&lt;p&gt;저의 2023년 경험으로 그린 그래프는 이렇게 채워졌습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRklEQVR42mWT3a6CQAyE9/1fjsTEBAWCyL8gKIhe1nxNxng8F5Nlu21npruEdV3t8XjYtm32fD4d7AXi4zjafr+3JEms73u73W62LMufPCG8Xi8vmqbJmqaxruvsfr97AXHO+aZRXdcOvq/XqyEGcK78UBSFd66qyqIosjiOLU1TL1Cjy+XihN+q8zz33MPhYFmW+R4nYbfbWdu2zsQ6z7MXSHVZlnY6nZwQAuzigGLyUYwrqQxKAjTTCoEss7KHQKCOeZP7nR+wNgyDB8VCU1nWPLHNt2aGQmJq9rkULgLpAnsIsAiwQ+x8Pvs8+SaulXNWRLhC2f0GSmDWZdBI49BIUMiZYh+FugCBoJ4DBVgXO2fMDSdcFOCGIdR5+H3E2OXZkHg8Ht0aalAtMuzz3Ij/m+HvS5c6JdEIBXrwxCBlHOD3j3kDnKM/fHjGfwMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;life 0 2024 review 5&quot;
        title=&quot;&quot;
        src=&quot;/static/00778e472eadc98be10f98903cd03d13/37523/life-0-2024-review-5.png&quot;
        srcset=&quot;/static/00778e472eadc98be10f98903cd03d13/e9ff0/life-0-2024-review-5.png 180w,
/static/00778e472eadc98be10f98903cd03d13/f21e7/life-0-2024-review-5.png 360w,
/static/00778e472eadc98be10f98903cd03d13/37523/life-0-2024-review-5.png 720w,
/static/00778e472eadc98be10f98903cd03d13/302a4/life-0-2024-review-5.png 1080w,
/static/00778e472eadc98be10f98903cd03d13/07a9c/life-0-2024-review-5.png 1440w,
/static/00778e472eadc98be10f98903cd03d13/15171/life-0-2024-review-5.png 2230w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;많은 일이 있었던 해였는데, 한 해의 좋고 힘들었던 기간을 이렇게 단순하게 요약하고 표현할 수 있는점이 맘에 들었습니다.&lt;/p&gt;
&lt;h2 id=&quot;새-해를-계획하는-법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%88-%ED%95%B4%EB%A5%BC-%EA%B3%84%ED%9A%8D%ED%95%98%EB%8A%94-%EB%B2%95&quot; aria-label=&quot;새 해를 계획하는 법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;새 해를 계획하는 법&lt;/h2&gt;
&lt;p&gt;일곱 가지의 카테고라이징 섹션을 나누어, 각 항목에 대해 목표 삼고싶은 내용을 채웠습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABcElEQVR42m2SyarCUBBE8/9/kQ8QN4IbQYIoLjVonOc5ifOEuKjHabgSHwptJ5eq6q7K9W63m1w9Hg9dLhfd73ft93ut12utVivrVBzHul6vhnMFNqvh8cfh+XzWdDrVZrPR4XAwofF4rN1upyRJNJ/Ptd1utVwuNZlMrGazmRaLxW9BRFqtlsIwNCEGUPl8XrlcTqPRyDD9fl/NZtOw7XbbBjyfz29BVoeMEASKDQqFgsrlsmq1moIgsI71brdrWMTY2rliMY9MyO10Otkh/Xg8GhBBBnGGNd/31el0LEvsZm0PBgPDefzxAhALWAFIZsVi0exVKhWVSiXrkMmaaMBS8Mmc4SaIGIBer/eZ6CzU63VVq1Wzx4+8hsOhoigyPB3OxzKqCEAgC+ywHR3y+/3W6/Wy6wKJOOjwiMrFxbt9FFQhZu8VgP/B89xoNCwWNsRimqZyt+TrKzPdHfBMQSArCgfcRYS5l2zvtstyEfwDK6ThTURMq5MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;life 0 2024 review 6&quot;
        title=&quot;&quot;
        src=&quot;/static/95da015e492401e030b62aed0eac0066/37523/life-0-2024-review-6.png&quot;
        srcset=&quot;/static/95da015e492401e030b62aed0eac0066/e9ff0/life-0-2024-review-6.png 180w,
/static/95da015e492401e030b62aed0eac0066/f21e7/life-0-2024-review-6.png 360w,
/static/95da015e492401e030b62aed0eac0066/37523/life-0-2024-review-6.png 720w,
/static/95da015e492401e030b62aed0eac0066/302a4/life-0-2024-review-6.png 1080w,
/static/95da015e492401e030b62aed0eac0066/07a9c/life-0-2024-review-6.png 1440w,
/static/95da015e492401e030b62aed0eac0066/fe27b/life-0-2024-review-6.png 2532w&quot;
        sizes=&quot;(max-width: 720px) 100vw, 720px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;처음엔 너무 과하지 않았나 생각했지만, 지금 보니 실제로 이룬 부분들 몇 가지가 눈에 띕니다.&lt;/p&gt;
&lt;p&gt;예를 들어&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Fun&lt;/code&gt; 섹션의&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;과음하지 않기&lt;/li&gt;
&lt;li&gt;주 3회 이상 달리기, 운동하기 (한 3분기 부터는 놓아버림 ㅠ)&lt;/li&gt;
&lt;li&gt;맛집 즐기기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;업무&lt;/code&gt; 섹션의&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;회사 프로젝트 아키텍처 개선 제안, 적용하기.&lt;/li&gt;
&lt;li&gt;기술 공유&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;등등이 눈에 띕니다. 더 있는데 대략 이정도로 요약하겠습니다.&lt;/p&gt;
&lt;p&gt;정리하면, 이게 제가 알고있는 지난해 회고와 신년을 계획하는 방법입니다.&lt;/p&gt;
&lt;h1 id=&quot;2024-회고&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2024-%ED%9A%8C%EA%B3%A0&quot; aria-label=&quot;2024 회고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2024 회고&lt;/h1&gt;
&lt;p&gt;타임라인 그래프를 또 그리긴 귀찮기 때문에&lt;/p&gt;
&lt;p&gt;생각나는 것을 몇 가지 추려보기만 했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;새로운 회사 적응, 업무 프로세스를 받아들이느라 정신없는 시간을 보냈습니다.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;가끔은 팀원들과 업무의 문제를 함께 해결하기도 하고, 업무 외적으로 즐거운 시간을 보내기도 했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;9년간 관리 되어온 거대한 모놀리틱 프로젝트 환경에 적응하고 개발 업무를 해야되는게 특히 부담 되었습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;오랫동안 생각해왔던 아키텍처 개선 작업을 맡아서 진행하게 되었습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모놀리틱(싱글)모듈을 멀티 모듈화 아키텍처로 개선하는 작업입니다.&lt;/li&gt;
&lt;li&gt;9년 간 거대하게 엮인 코드들을 분리했습니다.&lt;/li&gt;
&lt;li&gt;코드의 특성과 역할을 기반으로 각각 데이터, 도메인, 피처 레이어로 분산 해주었습니다.&lt;/li&gt;
&lt;li&gt;거대하고 복잡하게 얽힌 고구마 줄기를 뽑아내는 기분이었습니다. 고구마가 아니라 건물을 뽑아 올리는 듯한 큰 일이었습니다.&lt;/li&gt;
&lt;li&gt;결국 해냈고, 프로젝트의 의존성 그래프를 명시적으로 그릴 수 있게 되었습니다.&lt;/li&gt;
&lt;li&gt;아직 개선할 사항들이 많지만 변경과 테스트에 더 유연한 프로젝트가 되었습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div style=&quot;display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;&quot;&gt;
  &lt;div style=&quot;flex: 1 1 300px; text-align: center; min-width: 300px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD60lEQVR42iWTSW9bZRSG719ghRCwQkJCSKVFLJBQASEKFFRoC9Rtqga3TVLSjHUSx7MT29eO53mK7SR2Bg+pYzfO1NQhTZp0gAJigYAuWfA3Hk7axdG9V5/u877nPd9RVpKDrCQGWY4PUo300cjoWJ+zslG00y6rbC86aC+ptCsqe/UAT9aT7DXCtKte7pVd7FY97N+WqrukplBWp0dYSQ3SSA/TyuvZKtnZFOBe1c1hM8KDRuQ56HAlyNqSk5hvkNbsBAfNEPuNkJyHOFiR80bgBXB91kCrMCYQMz+J2m5tigd1L/W8hfs1L7+uJ8SJh9nQKJWMkbPdp/hY+wHR0C1+38qKaFTgYRE8AnpRtkpmthes7JSdAvPwcyvEfNLAF6c+ZDml56/dDI38BLYhLbv1IMlgN0ZVQyFl47eNNE9acR7fiXFQ93HQ8KPcnRfgoo2dqoun61FyvmE6NZ9h110Vp34OV6MYuvq5+IlGXHvZLnupTU9RzVjJB4d42EwIMMqj5ovWlXbZJsE6BOpireTBb+ujmtCzMe+jUXCQCxqw3hggNDLK1nyAkGuU7ivnmNRp8RguywD1/LGd46EM6jnwqOVa1sRy1kprXmW1mREnKhsLbmoZO3cXvOzdnmSn4mNzyc9ScpKQOoTbM4RPHaAY7WOt6OKX9RSHd8Ios5FRpv2j1HM29pePgHnmEg4WEna2l4z8fe80z9onWYj3E3WOU83aZQhB9uXnrZqbZMwuZiZlQBkercZRNksmcWGhGDdyv+IinB/D4r5J1jnEs503+XPtBE+bX/HvwXGqMS3FiEnEVZ5uleRORqgXIlSybskwymPJW1mbkWykbf9EPw8qTixqJ33qdzQS4yRM7/DP9rv89/gEjyqnWE13k3aPUM+Y2SyHWa3lWKsXac25WUxMcDvvQllO9ct2jHD63Hk6ezpp5uS+pW4xJ1GEjZfZTL1HO/cRWYdWInGTcPTit/ZzJzdOPWtmJmRkedpBKWZjJmJGKQV7KMcHmJ7q5XrXRXp6OnAbrjHt6aUhWxQzXWAh8KMI6eV7TEB6rnWc5a23j2HqOy85q6SnRikE9TQLFpSc6woZVUvO00VZdtll0PL5mTN4zVcpBW5QDPUxH+6X916qyWGMPV/y8muvcuzkpwRMWmppI9XUOLXUGItxHUrEpCEqFbFcImTukGFosQxrMAxoyEibCfsPJCe1pJ3XxfUN3GOXeP2Vl3j/+BvM+AcoyG7nfUfPm8wEbqJ4dN/g0Z1DHfoa9/BZXMPf4h+7IPU9npELTI1o8ArEZ+jAO95B1CoXWn8Zp+4isYnrROxXiU92kRTBpLOL/wFGXyBW2z8EpgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 10&quot; title=&quot;&quot; src=&quot;/static/f6d81ff435650dc590f1718119cddcfc/37523/life-0-2024-review-10.png&quot; srcset=&quot;/static/f6d81ff435650dc590f1718119cddcfc/e9ff0/life-0-2024-review-10.png 180w,
/static/f6d81ff435650dc590f1718119cddcfc/f21e7/life-0-2024-review-10.png 360w,
/static/f6d81ff435650dc590f1718119cddcfc/37523/life-0-2024-review-10.png 720w,
/static/f6d81ff435650dc590f1718119cddcfc/302a4/life-0-2024-review-10.png 1080w,
/static/f6d81ff435650dc590f1718119cddcfc/07a9c/life-0-2024-review-10.png 1440w,
/static/f6d81ff435650dc590f1718119cddcfc/21e8f/life-0-2024-review-10.png 1684w&quot; sizes=&quot;(max-width: 720px) 100vw, 720px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
    &lt;p&gt;이렇게 꼬여있는 프로젝트를&lt;/p&gt;
  &lt;/div&gt;
  &lt;div style=&quot;flex: 1 1 300px; text-align: center; min-width: 300px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD2ElEQVR42i2TR1ObZxSF9VtSZjLjReJdskom40mxM7aDxw1XbFowErLBlqxmlU8VVD4kgYyQ4ANJqCMh0THFFJNkvEoWySqbZJmZ/IMnV04WZ95+7rn3nldXjA5Rig0LDCxFhqlPjdKetdKatbCRD7BdDLCZd7JT9FOat9HIm9ivRWTfz1bBw+aik+28m1dLbnYrAXTVyREqqoFqwshK2sLekod2xsZmTqEx72O/4uXH9jRreRcX73xOt/lb6kUXB5UIR80Yhw2VvVqY/WqQg3oYXStjEiIzm5qd7YIPNWQh6HnKQW2clTkHSykHP2+l2Sj4uX3rHOe6PyUnSn9qx9ESNq5e/IJ1OTuoj7NXFcLV7HM2FhwsTlmJeB+jOIxkVSunrTBbS1Eac3KxlqQ5F5AgIeqLL1grBFnPT3D24zN89OF7HLeS7Iu6V6UgurV5C820namASS55eLuusqJ5hSjI76+6+XX9a37bvsCb5gteL0fZyAVZzigyD6MqejIREycdQqnrXm1CaijKrD1DPL7Zjxa3UU472SqNU5mx89fx+/x9+gn/vP2A48YoqwshjiS1w3qEXNzByeoUb3cyHDYnOW6qEiSCrj3r4O75azy8fF0KG2JVmlHPuGjPmfmldpY/t8/wx9ZZScfOmqhrL/hpagGWphxMKYMU037WlzXapThtcYVut+gkZBlg5P4ljutBab+H06ZcWrCTsl9GUy5QiXRRm+nYyMdJI8jRcojTlYg0IkImZGDSpcc+NkA2Zka3s2gnpxrpu/kVOwUX+yUPrXkn+aRVHgZYz/l4XQ/xpiHKsm7qs072y34J7pfzKEcriXeBGh3LdbpcfGmnrvmYMHfTypopxM1kws/Ehw52CzaWZ8wsp00clF3slZy05x1oqpnStFXMrbBbCrBXlrE6/u4T6BZiRlrVNFvVOC89j0j5hqmlngjGaMyMklefoEVGaM4+RRsflB80xuq8lWz4MZOKkZjrAfVUPytZl/jWhS6j3CMb6CeV8PDN4CVizvtoIalHsIN+kq4+pj0DZPwDxN29qM4HjJtvU06OkVR6UN3XKYvaSspKOWVBl7B3k3DcY/L5Hboefcm53s+YtvcQt90jaunmkf4GA71deM23CJnuCtldfKM3SSl9vBSyXNSAJmo7WWhRIzq/4SI+wyX8I1cI6L/HPHgBr8z9hi6Uzlrww8Pz6PVdjBiv8azvO2KiMGy6hWrrYfLFw/+z6GXaO4hOkcduvWD4Co7hLtwjN3AbruPS/wdF4JV1Z98hai1DVwk+uy9qHzBh6ZRgUEoxREKQ9Br4FyoXH91oDujXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 11&quot; title=&quot;&quot; src=&quot;/static/b4af8beb877b5e0faadbb41122083a4b/37523/life-0-2024-review-11.png&quot; srcset=&quot;/static/b4af8beb877b5e0faadbb41122083a4b/e9ff0/life-0-2024-review-11.png 180w,
/static/b4af8beb877b5e0faadbb41122083a4b/f21e7/life-0-2024-review-11.png 360w,
/static/b4af8beb877b5e0faadbb41122083a4b/37523/life-0-2024-review-11.png 720w,
/static/b4af8beb877b5e0faadbb41122083a4b/302a4/life-0-2024-review-11.png 1080w,
/static/b4af8beb877b5e0faadbb41122083a4b/07a9c/life-0-2024-review-11.png 1440w,
/static/b4af8beb877b5e0faadbb41122083a4b/aaf7f/life-0-2024-review-11.png 1668w&quot; sizes=&quot;(max-width: 720px) 100vw, 720px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
    &lt;p&gt;관리하기 편한 형태로 바꾸는 과제였습니다.&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div style=&quot;display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;&quot;&gt;
  &lt;div style=&quot;flex: 1 1 300px; text-align: center; min-width: 300px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 579px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 102.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFsklEQVR42g2U2VPb1x3Ff2+dLg+daTtJ7cTOYppajiEUzC4E2CxCFkISoBUBkhAgJBCbhCUk0MYqFgMyOOyLa+wmjeMuk0zH4y7TxG7HTpPWwbhjJ31I23E7nfYv+PQ+fOd+79y5554753uO9NWjBf71ZInnR8s8f7LM38X672dpfvrOLgZzgN6+aRzOEM6OMdq74uQXqunuSRAZXeQvD+b529EsTz9P8cXjWY4+nUZ6+micLx9P8uxwQhyM80Tsnx0lubq2TLXKRYlcg8EyKMD70NbbMZm7SU5usbCY5v69KA8fhvn9xwE+ujfIb3/nQ3r0SYjDT/18/qchUQE+exjg8M9BPvhlmNjkDt6eCBP+IWwaHYshP18dHhKLx6nVqRmOtPDrOzP89x+3+M8/3+F/z28h3bnbwb37KX7z0Sz3/zDP08fzHD0K8+VfY6ytxVhOrbLk70B27LvUFeawMBbD6fHx6tkzZBblUaXRc+3dNaau6ple6EUyOLM5+Pldbh18SHpxg+SMjx/f8PHFYZLPPlmg3R3l1ZOnqcjLo+JcHklvB96+EN964QWOvf4aJ05nUqjL51iRRI3xZaTXZN/B4DDhcndTWinnpYyT/DBXRnrLw+rmDEbbKLG+QS73e2ioVnMzPkA8PCXA3kCSJCyWGnoCCr52XGJuugwpNTXGeGKY5fQiB9f3WFiYE/0KDx58jLd3iW9/Lx+v2cBos57FzkYqM7Px+CbY3t9GY2okPuklteRBaamkP2hD2twaYXc/yvs/m+P2hwfsvbvCjV9scvP2tng9zCsvnsFYUYZCdpqyN17mzMlcKvV2QvO9eMY6aemzYg9YsQUstAYE4Pa+i6vbHaR32lja6CK96ebKTg+JeCf5p4upyHyLrppy2ioV1GTL+OY3TtHVb2XvJ6Ns7EbY2BhhfS3I5l6EvetjSPOzHby92cvqVhvrW25WFruYiZjptFh464QMfakCY46MRnkBJ74v48Vj2STm7Ny4GefgYIiR4Q46DXoOrl1na+kK0m5yhK3xQbanhtiIeJmw6wk3KLFWXECXl4/rfAmasxmoCouECF8n49Q5VqZ97C+FiPqd1FTW0KnVsL37HovTKaQ/bi5w93KCTb+XoE6Jq/hHhBtVdCnLsRbnoMp4iQ5lBRvDfZw8fpycrBx+tb7KneUUB9Ewa5EA65d8vDfm49qIG+mWoPxB3Meyx0pzQSbOC3IiDhvexnoazmWiO3uKIauRqW4neW/KuKgoIBryMTs5ynyvnYPEEOn+dvb83ewPdiMtOpuYa9Mz524hIJgNNzcR77ATtZsJmC5iL8kmZqgj4TKT9YPXqSzOwuKowRdxkY4KASPtpIJ2lvrdTLbqkWItGqaa1YxZtMx0thE21+NSnqdbXU3MYcVTKyegkhNvacCrkdMkz8XRVkGgT0t60s9k0kUs2M581M9soAspaVYzIZziaaqjtbaMPqMGj15Fv1AubmsiatMyKsDGrVrWu2yCrZqgu4mEAEmMN+LqLKE85wy6imIRbxYkn1JBSFtDl7Yal76SQYOGIUMTvQLY7zQwb29g32cj1azDWVYgksfBztoYEwE3gREdlvp81MUFmMpL8Yo7Uqi2nGGjioaaUrRi1trVtRjkClwNanyC3YK9ns0eE2kxTgGNgtGwC7OjGmNdKYk+N5dFBcVvphxmYi1mpLBRKRQ0Ca/WcsmgZCkZJmgycHmwk5Xhdna6jVwdsLFiOs9Wy0UGRBgYbJW02howlxeRaDUxblLjUp3HUF2MNKwqpreqiFVnPVOtjYQseiGGBb9GCFOvZECjJHCxlCldGe/3GLnSrKJV9KrCLKwl+bQrCmksEP7OkmHVFCD1lItB1iq4pCzmbUH/WnCA1VYdSU055RmvYCrJJVZXRrQ6l7RJye2eVlK6C4xU5TGmEWpfyMchgtZWJacq7wz/B6UbwN7gzr5vAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 12&quot; title=&quot;&quot; src=&quot;/static/14f69a0db78b69c3ef25d4dbf40c4a84/c08bc/life-0-2024-review-12.png&quot; srcset=&quot;/static/14f69a0db78b69c3ef25d4dbf40c4a84/e9ff0/life-0-2024-review-12.png 180w,
/static/14f69a0db78b69c3ef25d4dbf40c4a84/f21e7/life-0-2024-review-12.png 360w,
/static/14f69a0db78b69c3ef25d4dbf40c4a84/c08bc/life-0-2024-review-12.png 579w&quot; sizes=&quot;(max-width: 579px) 100vw, 579px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
    &lt;p&gt;많은 코드가 강력하게 얽혀 마치 건물을 뽑아 올리는 듯한 도전이었습니다. &lt;/p&gt;
  &lt;/div&gt;
  &lt;div style=&quot;flex: 1 1 300px; text-align: center; min-width: 300px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 574px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADuUlEQVR42h2R208aZhjGuV8zq/VcFc8HREXOKhZRUFABFQQPCAoIVitiLR5mVahWS0uxGrVxSVeTqV3aZMlctizZrnqxJfunfvuyizffxfs9v/fJ80hOQ06OI6N8/nDE319/499//uTrHzf8fpvlh8MF3sRG2fCaCPQo6GuQ0lKcT33RAypyv+VhXg6FOffIu/cNXRVlOBpqkZylwlwdr/HT+Tq3b5e53J5m128mbGrDIa/CUFmKvDCPKiGWFtynrDCHNmkx8uI8qkvEiLcy/z7KkmKMjQL4ORMhveRkebiDGb2MgYYKOqQlNBTkIc3PpVIIpMW5QpxLnQDIyx7QLi1EVVWKoqoEnbya1soy5CUlTA6ZkEy012NvrsEqFoYmKcq6hzRJi2goz6dJiOXlBbRVFKGvKaVX7C3NVfgMCsY1zUzoW7AIfY9ajlHdisOkRWLrbMVjUWHrlKGTldNWU4y2tpTOurL/AS6VjBWrkRXbIzy6Vhb7Dcz3ahlTNjLTKcA6OYNqGSaxs3S2I+lV12BSVvFIUYm1rZp+kZtXJ65r5SyYO1gToBfeYZIuKxGTjgOvg0B3Ox6NHKeikblePUPCpUXdRGDcjmR6uJPJAR0Bo4Y1azfjqia82lb8HQpWB01sjVlYGzYKQCN7Avbr1grxAYM42IxL08SEoR27sha/Rcvm4xkk3y0HOIoHyfhGBaSdeVMXa4NGno8NsOswkxwbYloccLTWsu8ZYWeoD7einqhJhVtVi1srw6Nv5smYiczmIpJsMsFFKsG7qI+XkyOch6bYG7eRDbo5nXXxITTLxpBZlFbDUr+RoDjqVjUz163CL8oJ92lYsBtIrwbIPo8hudiNcbq3xtXmCmmfm2eOAVICvCHcZaZH+RRf4mhqiGiflpTLhk8UEDV2idGJphuIiMjerofJ7sQ4Tq0j+f7lFmd7wuVKhFV7L/vTLl75vcx0aTjwODkNTrDjtjEiWt0ftzKlU4i8dYRMShac3RzGA7xKLJDZecrxiw0kP56keX+4x0lyk9fxMAciy4MJJ1NGPftTLrbdg2yOmAl2KUl5HCyJ4ub6dSRCLpLi/9aTII/nppj12EnvCuAv1x+5vjjh8iglslzn3dYymfg8hwEPq6KA7JybaI8Wv76NqNmIz6jiachLZjchTDzjILFILDRNLOwnFgkh+evuZ+4+XXPz/oTrkyNuTw74cpnl7uqCL6dpLrbjRIXLXnULVoOawW4NydUFbs5fc332io/Zfd7sJIS7LdyOEf4DcOQn4D2Z6X0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 13&quot; title=&quot;&quot; src=&quot;/static/35059b670507ca0cc1c4aae978c0a369/86389/life-0-2024-review-13.png&quot; srcset=&quot;/static/35059b670507ca0cc1c4aae978c0a369/e9ff0/life-0-2024-review-13.png 180w,
/static/35059b670507ca0cc1c4aae978c0a369/f21e7/life-0-2024-review-13.png 360w,
/static/35059b670507ca0cc1c4aae978c0a369/86389/life-0-2024-review-13.png 574w&quot; sizes=&quot;(max-width: 574px) 100vw, 574px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
    &lt;p&gt;하지만 결국 다 해결했고, 저 자신이 대견했습니다.&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;안드로이드 모듈화에 관한 내용은 추후에 블로그 컨텐츠로 다루겠습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;아키텍처 개선이라는 큰 일을 겪고난 후 회사에 꽤 많이 적응했습니다. 때로는 편안하게, 때로는 바쁘게. 회사에서 즐거운 한 해를 보냈습니다.&lt;/li&gt;
&lt;li&gt;개발자로서 확실한 한 단계 성장을 이룬 점이 특히 뿌듯했고, 소중한 경험이었습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;2025-계획&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2025-%EA%B3%84%ED%9A%8D&quot; aria-label=&quot;2025 계획 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2025 계획&lt;/h1&gt;
&lt;p&gt;계획: 행복하자~! 여러분~ 모두 행복하세요~ 🥰&lt;/p&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 432px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 96.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBQH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAdmrtGXRQaIWESE//8QAHBAAAgEFAQAAAAAAAAAAAAAAAhEBABASISMy/9oACAEBAAEFAjThKi2RQTDyumMW/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BI//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAECAQE/AWP/xAAZEAACAwEAAAAAAAAAAAAAAAAAARARMSH/2gAIAQEABj8CpmwxVh2Mj//EABsQAAIDAQEBAAAAAAAAAAAAAAARASExQRCB/9oACAEBAAE/IXMcw4pURhJJfSAxihkRCTNxwxpXn//aAAwDAQACAAMAAAAQcMd8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EDUJ/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxA6iK//xAAdEAEAAwACAwEAAAAAAAAAAAABABEhMVEQgdHh/9oACAEBAAE/EELsAXr6gdmAxt+R2XsgWukTVU1zAM2oGb9/YCVjqc9MwBRoszjx/9k=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 14&quot; title=&quot;&quot; src=&quot;/static/2fced24aa4aaca1013f18e5d42231951/08871/life-0-2024-review-14.jpg&quot; srcset=&quot;/static/2fced24aa4aaca1013f18e5d42231951/4ec73/life-0-2024-review-14.jpg 180w,
/static/2fced24aa4aaca1013f18e5d42231951/158ba/life-0-2024-review-14.jpg 360w,
/static/2fced24aa4aaca1013f18e5d42231951/08871/life-0-2024-review-14.jpg 432w&quot; sizes=&quot;(max-width: 432px) 100vw, 432px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
&lt;p&gt;계획 끝.&lt;/p&gt;
&lt;figure&gt;
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACT0lEQVR42qVTy27TUBD1d7FjQRcQ0ZSWpmmrIMKjtKGFVIgNVcSiLAAJwQLW/AaVKJCoRiUQ4kcewiEkxY5w7DgvcBzHDhzfi9yWRiWIkX01986cmeMz18zP/zAG73A4PHj0x/YvYFiv1/tOzLKsf+vc6XS63e5gMHBdt0tsXLBt2wDDA7JcLpumif5Yx+HvgVutlqIojuNUKhVVVXHabrfH6tzv95EqSZKu6/B/wEzzqyw3Gg24oHMcGA0BxorUarWa5Tg44ALyUKHZbCKEothC1BGCGYYBkfCFoF2r1SA4fBxaxPAhKIdCR7X0wIhpmobaIAkMSsCn83NcF3ICSbPhg8UhMGJgjlSw9QCO4zdBOYSQQEvQTH8QHtgkBtkpgAZQBXkoh1YdYlCUCkQHuU/bJoa8kTeM3j8UotcJeJrmgTFkqAoHA0ulUrIso9DI2aANRIGEklRCf6Zv24IgpIm92oa93Np6kUy+ebe7y3NcPpfDA+d9Os2yOyzLviaWyWRA5/ePQee8JyvS5y9SqSzmCllO+MgJHC/yQk4Q82K+WPxUqu7JlnVYbSCxckLx9MyVyfmVM7NL4ej6XHQ9dDEeXIgFQtemFmIzkbXpxdWJqUtZoeBDGDoPrMmd9EQwemvj/slAJHHvycbm480Hz24nHp5bvP7o6fPl+N3Lq3dOnJpLvf3ggQlkH8yLxcDs0vkLN86GV9B/OrIWisZBASdXbyaC8zE4k+HlLF/wIYz/AdjruqHW9brWqGuGqunfVPLUdaWm4hAhTTcO/iq/ANi7P6ak3qAhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;life 0 2024 review 15&quot; title=&quot;&quot; src=&quot;/static/186de70dc70070588f5fc8c1b429ab3b/3684f/life-0-2024-review-15.png&quot; srcset=&quot;/static/186de70dc70070588f5fc8c1b429ab3b/e9ff0/life-0-2024-review-15.png 180w,
/static/186de70dc70070588f5fc8c1b429ab3b/3684f/life-0-2024-review-15.png 225w&quot; sizes=&quot;(max-width: 225px) 100vw, 225px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
    &lt;/span&gt;
  &lt;figcaption&gt;그냥 살죠 ~&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;저는 지금 매우 평온한 일상을 보내고 있습니다.&lt;/p&gt;
&lt;p&gt;일과 공부, 여가, 휴식의 밸런스가 좋고 식사와 수면 패턴이 일정하게 좋은 편이예요.&lt;/p&gt;
&lt;p&gt;평온한 일상이지만, 되돌아보면 꽤 성장한 점을 찾아볼 수 있는. 지금의 삶을 유지하고 싶어요.&lt;/p&gt;
&lt;p&gt;설 지나고 다이어트 일정이 추가될 예정입니다. 계획 진짜 끝.&lt;/p&gt;
&lt;p&gt;이상입니다.&lt;/p&gt;
&lt;p&gt;부족한 글을 읽어주신 독자분들. 감사합니다.&lt;/p&gt;
&lt;p&gt;2025년 한 해, 여러분도 행복한 일 가득하길 바래요 🥰&lt;/p&gt;
&lt;p&gt;다음 컨텐츠 부터는 개발 관련 컨텐츠 위주로만 발행될 예정입니다.&lt;/p&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%A7%80%EB%82%9C-%ED%95%B4%EB%A5%BC-%ED%9A%8C%EA%B3%A0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot;&gt;지난 해를 회고하는 방법&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%83%88-%ED%95%B4%EB%A5%BC-%EA%B3%84%ED%9A%8D%ED%95%98%EB%8A%94-%EB%B2%95&quot;&gt;새 해를 계획하는 법&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;</content:encoded></item></channel></rss>